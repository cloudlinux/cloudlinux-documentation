<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5408110.js"></script><script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-T538N4K');
      </script><script>
      (function() {
        var routes = {"/?compatiblity_matrix.html":"/cloudlinuxos/limits/#compatibility-matrix","/cloudlinux_os_components/#installation-5":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-5","/cloudlinux_os_components/#installation-and-update-2":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-1","/?cagefs_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-1","/mysql_governor.html":"/cloudlinuxos/cloudlinux_os_components/#mysql-governor","?backing_up_mysql.html":"/cloudlinuxos/cloudlinux_os_components/#backing-up-mysql","/mod_lsapi_troubleshooting.html":"/cloudlinuxos/cloudlinux_os_components/#troubleshooting-3","/cloudlinux_installation/#registering-cloudlinux-server":"/cloudlinuxos/cloudlinux_installation/#license-activation","/apache_mod_lsapi.html":"/cloudlinuxos/cloudlinux_os_components/#apache-mod-lsapi-pro","/cagefs.html":"/cloudlinuxos/cloudlinux_os_components/#cagefs","/change_mysql_version.html":"/cloudlinuxos/cloudlinux_os_components/#change-mysql-version","/cldiag.html":"/cloudlinuxos/command-line_tools/#cldiag","/custom_php_ini_options.html":"/cloudlinuxos/cloudlinux_os_components/#custom-php-ini-options","?apache_mod_lsapi.html":"/cloudlinuxos/cloudlinux_os_components/#apache-mod-lsapi-pro","?custom_php_ini_options.html":"/cloudlinuxos/cloudlinux_os_components/#custom-php-ini-options","?hybrid_kernel.html":"/cloudlinuxos/cloudlinux_os_kernel/#hybrid-kernels","?installation.html":"/cloudlinuxos/cloudlinux_installation/","?link_traversal_protection.html":"/cloudlinuxos/cloudlinux_os_kernel/#securelinks-and-link-traversal-protection","?lve_limits_with_packages.html":"/cloudlinuxos/lve_manager/#packages","?lve_pam_module.html":"/cloudlinuxos/cloudlinux_os_components/#lve-pam-module","?php_selector_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-3","?virtuozzo_and_openvz.html":"/cloudlinuxos/cloudlinux_installation/#virtuozzo-and-openvz","/installation-wizard.html":"/cloudlinuxos/lve_manager/#installation-wizard","/lve-limits-validation.html":"/cloudlinuxos/limits/#limits-validation","/mysql_governor_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-2","/node_js_selector.html":"/cloudlinuxos/cloudlinux_os_components/#node-js-selector","/php_selector.html":"/cloudlinuxos/cloudlinux_os_components/#php-selector","/php_selector_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-3","/python_and_ruby_selector.html":"/cloudlinuxos/cloudlinux_os_components/#python-selector","/reseller_limits.html":"/cloudlinuxos/limits/#reseller-limits","/cloudlinux-os-plus/#x-ray-autotracing":"/cloudlinuxos/shared-pro/#x-ray-autotracing","/cloudlinux_installation/#activation":"/cloudlinuxos/cloudlinux_installation/#license-activation","/cloudlinux_installation/#converting-existing-servers":"/cloudlinuxos/cloudlinux_installation/#converting-existing-servers","/cloudlinux_installation/#known-restrictions-and-issues":"/cloudlinuxos/cloudlinux_installation/#known-restrictions-and-issues","/cloudlinux_installation/#uninstalling":"/cloudlinuxos/cloudlinux_installation/#uninstalling","/cloudlinux_os_components/#customize-lve-stats2-notifications":"/cloudlinuxos/cloudlinux_os_components/#customize-lve-stats2-notifications","/cloudlinux_os_components/#installation-enabling-and-disabling":"/cloudlinuxos/command-line_tools/#cagefs","/cloudlinux-os-plus/#faq-2":"/cloudlinuxos/shared-pro/#faq-2","/cloudlinux-os-plus/#installation-2":"/cloudlinuxos/shared-pro/#installation-1","/cloudlinux-os-plus/#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do":"/cloudlinuxos/shared-pro/#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do","/control_panel_integration/#mysql-governor":"/cloudlinuxos/control_panel_integration/#mysql-governor","/control_panel_integration/#the-list-of-the-integration-scripts":"/cloudlinuxos/control_panel_integration/#the-list-of-the-integration-scripts","/ffmpeg":"/cloudlinuxos/cloudlinux_os_components/#ffmpeg","/limits/#limits-validation":"/cloudlinuxos/limits/#limits-validation","/php_selector/#litespeed-support":"/cloudlinuxos/cloudlinux_os_components/#litespeed-support","/python_selector":"/cloudlinuxos/cloudlinux_os_components/#python-selector","/python_selector/#installation":"/cloudlinuxos/cloudlinux_os_components/#installation-1","/user-docs/user-docs-shared-cloudlinux/#acceleratewp":"/user-docs/user-docs-shared-pro-cloudlinux/#acceleratewp","/cloudlinux-os-plus":"/cloudlinuxos/shared-pro/","/cloudlinuxos":"/cloudlinuxos/cloudlinux_installation/#installation","/shared":"/cloudlinuxos/","/shared-pro/accelerate-wp/#set-upgrade-url-for-cdn":"/cloudlinuxos/shared-pro/#set-upgrade-url-for-cdn","/shared-pro/":"/cloudlinuxos/shared-pro/","/cloudlinuxos-pro/introduction/":"/cloudlinuxos/shared-pro/#introduction","/shared-pro/accelerate-wp":"/cloudlinuxos/shared-pro/#acceleratewp","/cloudlinuxos/shared-pro/accelerate-wp/":"/cloudlinuxos/shared-pro/#acceleratewp"};
        
        // Function to normalize a URL by removing a trailing slash and leading characters
        function normalizeUrl(url) {
          url = url.endsWith('/') ? url.slice(0, -1) : url;
          url = url.startsWith('/') ? url.slice(1) : url;
          url = url.startsWith('?') ? url.slice(1) : url;
          return url;
        }
    
        var currentPath = window.location.pathname + window.location.search + window.location.hash;
        currentPath = normalizeUrl(currentPath);
    
        for (var route_url in routes) {
          if (normalizeUrl(route_url) === currentPath) {
            window.location.href = routes[route_url];
            break; // Exit the loop after redirecting
          }
        }
      })();
      </script><script>
        (function() {
          // Trigger the scroll event without actually scrolling
          function triggerScrollEvent() {
            const targetElement = window;
            const scrollEvent = new Event('scroll', {
              bubbles: true,
              cancelable: true,
            });
            targetElement.dispatchEvent(scrollEvent);
          }
  
          // Call the triggerScrollEvent and scrollBodyDown functions after the page is fully loaded
          window.addEventListener('load', () => {
            triggerScrollEvent();
          });
        })();
      </script><title>CloudLinux OS Pro Components</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-d4c03811.css" as="style"><link rel="stylesheet" href="/assets/style-d4c03811.css">
    <link rel="modulepreload" href="/assets/app-2878c155.js"><link rel="modulepreload" href="/assets/framework-dd0d5e46.js"><link rel="modulepreload" href="/assets/index.html-33fc3403.js"><link rel="modulepreload" href="/assets/index.html-7ad21d0c.js"><link rel="prefetch" href="/assets/index.html-e8171bcc.js" as="script"><link rel="prefetch" href="/assets/index.html-6df021ce.js" as="script"><link rel="prefetch" href="/assets/index.html-1491931e.js" as="script"><link rel="prefetch" href="/assets/index.html-5f5b585a.js" as="script"><link rel="prefetch" href="/assets/index.html-ad9a1267.js" as="script"><link rel="prefetch" href="/assets/index.html-a43c5030.js" as="script"><link rel="prefetch" href="/assets/index.html-087840fc.js" as="script"><link rel="prefetch" href="/assets/index.html-cfdca1f3.js" as="script"><link rel="prefetch" href="/assets/index.html-ac8928eb.js" as="script"><link rel="prefetch" href="/assets/convert.html-f72b4278.js" as="script"><link rel="prefetch" href="/assets/index.html-81fdb6dc.js" as="script"><link rel="prefetch" href="/assets/index.html-b1035221.js" as="script"><link rel="prefetch" href="/assets/conversion.html-d288c2ad.js" as="script"><link rel="prefetch" href="/assets/index.html-8f2405df.js" as="script"><link rel="prefetch" href="/assets/index.html-8c5ecf17.js" as="script"><link rel="prefetch" href="/assets/index.html-cc8131a7.js" as="script"><link rel="prefetch" href="/assets/index.html-faa1c9ca.js" as="script"><link rel="prefetch" href="/assets/regular.html-3b7030a1.js" as="script"><link rel="prefetch" href="/assets/reseller.html-57f304ce.js" as="script"><link rel="prefetch" href="/assets/index.html-eafa4c34.js" as="script"><link rel="prefetch" href="/assets/index.html-92c4383f.js" as="script"><link rel="prefetch" href="/assets/index.html-b8f45164.js" as="script"><link rel="prefetch" href="/assets/index.html-ec2bd0a3.js" as="script"><link rel="prefetch" href="/assets/index.html-4501e73d.js" as="script"><link rel="prefetch" href="/assets/index.html-114131e7.js" as="script"><link rel="prefetch" href="/assets/index.html-bf8a75b9.js" as="script"><link rel="prefetch" href="/assets/index.html-942dfb06.js" as="script"><link rel="prefetch" href="/assets/index.html-159ee1f2.js" as="script"><link rel="prefetch" href="/assets/index.html-ef4e2bb6.js" as="script"><link rel="prefetch" href="/assets/index.html-8785f9a0.js" as="script"><link rel="prefetch" href="/assets/index.html-2d6a804d.js" as="script"><link rel="prefetch" href="/assets/index.html-f0a459e7.js" as="script"><link rel="prefetch" href="/assets/index.html-7bf33f8f.js" as="script"><link rel="prefetch" href="/assets/index.html-5205b84f.js" as="script"><link rel="prefetch" href="/assets/index.html-cf3e6950.js" as="script"><link rel="prefetch" href="/assets/whmcs_saved.html-44210070.js" as="script"><link rel="prefetch" href="/assets/index.html-ef33aada.js" as="script"><link rel="prefetch" href="/assets/index.html-5082c46d.js" as="script"><link rel="prefetch" href="/assets/index.html-bfa2eb4d.js" as="script"><link rel="prefetch" href="/assets/index.html-7411664d.js" as="script"><link rel="prefetch" href="/assets/index.html-e22c8af7.js" as="script"><link rel="prefetch" href="/assets/index.html-bf4c8c0b.js" as="script"><link rel="prefetch" href="/assets/index.html-f748a8ee.js" as="script"><link rel="prefetch" href="/assets/index.html-6eb53957.js" as="script"><link rel="prefetch" href="/assets/index.html-f4273cc0.js" as="script"><link rel="prefetch" href="/assets/index.html-b698656f.js" as="script"><link rel="prefetch" href="/assets/index.html-781941ff.js" as="script"><link rel="prefetch" href="/assets/index.html-f0fd3107.js" as="script"><link rel="prefetch" href="/assets/index.html-c295446b.js" as="script"><link rel="prefetch" href="/assets/index.html-effa2001.js" as="script"><link rel="prefetch" href="/assets/index.html-296cc19b.js" as="script"><link rel="prefetch" href="/assets/index.html-3f4cbfef.js" as="script"><link rel="prefetch" href="/assets/index.html-ad9ff012.js" as="script"><link rel="prefetch" href="/assets/index.html-84ce9456.js" as="script"><link rel="prefetch" href="/assets/404.html-e0575d4e.js" as="script"><link rel="prefetch" href="/assets/index.html-e0aacb44.js" as="script"><link rel="prefetch" href="/assets/index.html-9bbfe14a.js" as="script"><link rel="prefetch" href="/assets/index.html-74814e2a.js" as="script"><link rel="prefetch" href="/assets/index.html-0774555c.js" as="script"><link rel="prefetch" href="/assets/index.html-8705bf6b.js" as="script"><link rel="prefetch" href="/assets/index.html-fd6d8f30.js" as="script"><link rel="prefetch" href="/assets/index.html-2180cf2c.js" as="script"><link rel="prefetch" href="/assets/index.html-158ec2ab.js" as="script"><link rel="prefetch" href="/assets/index.html-0227519d.js" as="script"><link rel="prefetch" href="/assets/convert.html-0203726d.js" as="script"><link rel="prefetch" href="/assets/index.html-64cbd56d.js" as="script"><link rel="prefetch" href="/assets/index.html-0ce987e5.js" as="script"><link rel="prefetch" href="/assets/conversion.html-0020d9b6.js" as="script"><link rel="prefetch" href="/assets/index.html-61c5a559.js" as="script"><link rel="prefetch" href="/assets/index.html-25e5864f.js" as="script"><link rel="prefetch" href="/assets/index.html-467ba57c.js" as="script"><link rel="prefetch" href="/assets/index.html-1e2ee076.js" as="script"><link rel="prefetch" href="/assets/regular.html-04aa030f.js" as="script"><link rel="prefetch" href="/assets/reseller.html-4c2d3073.js" as="script"><link rel="prefetch" href="/assets/index.html-b4008b78.js" as="script"><link rel="prefetch" href="/assets/index.html-03ba4d6d.js" as="script"><link rel="prefetch" href="/assets/index.html-f55fbbcc.js" as="script"><link rel="prefetch" href="/assets/index.html-dd52fdd5.js" as="script"><link rel="prefetch" href="/assets/index.html-73cd9298.js" as="script"><link rel="prefetch" href="/assets/index.html-9e96522e.js" as="script"><link rel="prefetch" href="/assets/index.html-47fee7e8.js" as="script"><link rel="prefetch" href="/assets/index.html-948d10a6.js" as="script"><link rel="prefetch" href="/assets/index.html-50e5f0f2.js" as="script"><link rel="prefetch" href="/assets/index.html-fd82e8d3.js" as="script"><link rel="prefetch" href="/assets/index.html-d53e3b5c.js" as="script"><link rel="prefetch" href="/assets/index.html-3a37d76e.js" as="script"><link rel="prefetch" href="/assets/index.html-758a8415.js" as="script"><link rel="prefetch" href="/assets/index.html-f59d5eda.js" as="script"><link rel="prefetch" href="/assets/index.html-7319a1ea.js" as="script"><link rel="prefetch" href="/assets/index.html-814bf74b.js" as="script"><link rel="prefetch" href="/assets/whmcs_saved.html-d7a177d9.js" as="script"><link rel="prefetch" href="/assets/index.html-c6120d1d.js" as="script"><link rel="prefetch" href="/assets/index.html-188557cd.js" as="script"><link rel="prefetch" href="/assets/index.html-fdd520bc.js" as="script"><link rel="prefetch" href="/assets/index.html-4fb8045d.js" as="script"><link rel="prefetch" href="/assets/index.html-3770023f.js" as="script"><link rel="prefetch" href="/assets/index.html-cbf9eddd.js" as="script"><link rel="prefetch" href="/assets/index.html-c9cbbd5c.js" as="script"><link rel="prefetch" href="/assets/index.html-9edef219.js" as="script"><link rel="prefetch" href="/assets/index.html-b248571d.js" as="script"><link rel="prefetch" href="/assets/index.html-88c9345c.js" as="script"><link rel="prefetch" href="/assets/index.html-3bbc8878.js" as="script"><link rel="prefetch" href="/assets/index.html-b2fa6554.js" as="script"><link rel="prefetch" href="/assets/index.html-338410f6.js" as="script"><link rel="prefetch" href="/assets/index.html-df6e2fc8.js" as="script"><link rel="prefetch" href="/assets/index.html-be5c3aa9.js" as="script"><link rel="prefetch" href="/assets/index.html-e3f8548d.js" as="script"><link rel="prefetch" href="/assets/index.html-b2784f65.js" as="script"><link rel="prefetch" href="/assets/index.html-4e3051b5.js" as="script"><link rel="prefetch" href="/assets/404.html-1a8d7754.js" as="script"><link rel="prefetch" href="/assets/docsearch.min-0fff2622.js" as="script"><link rel="prefetch" href="/assets/docsearch.min-49eb4b49.js" as="script"><link rel="prefetch" href="/assets/vue-bot-ui.common-938820b9.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar fixed"><div class="navbar-header"><div class="navbar-header__logo-wrapper"><a href="/" class="home-link"><img class="logo" src="/global/logo.svg" alt="logo header"></a><div class="header-layout__search-container header-mobile__hidden"><!----><form id="search-form" class="drawer-header__input"><input value="" id="algolia-search-input" placeholder="Search" class="header-layout__search-default"><div class="header-layout__search-icon-default"><img alt="search icon" src="/global/search.svg"></div></form><div><div class="drawer"><div class="drawer-header"><div class="drawer-header__wrapper"><h2 class="drawer-header__paragraph">How can we help you?</h2><div id="drawerSearch"></div></div><div class="drawer-cross"><img class="drawer-cross__img" src="/global/cross.svg" alt="cross"><p class="drawer-cross__text">close</p></div></div><div class="drawer-tabs__wrapper" data-v-c60e280a><!--[--><!--]--></div><main><div class="drawer-main"><div class="drawer-main__wrapper"><div class="drawer-main__breadcrumb"><!----></div><!--[--><!----><div style="--aa1be2ec:15;"><p class="no_results">What are you searching for?</p></div><!--]--></div></div><!----></main></div><!----></div></div></div><div class="links" style="max-width:nullpx;"><img class="navbar-header__mobile-search" src="/global/search.svg" alt="icon image"><div class="header-products-wrapper"><div class="dropdown"><!----><!----><div class="header-products-container"><img class="header-products-container__img" alt="hamburger menu" src="/global/hamburger-menu.svg"><p class="header-products-wrapper-paragraph">Products</p><img class="products-icon__default" width="10" height="8" src="/arrows/arrow-down.svg" alt="arrow down icon"></div></div></div><!--[--><a target="_blank" class="btn">Ask GPT?</a><a href="https://www.cloudlinux.com/support-portal/" target="_blank" class="btn">Submit support request</a><a href="https://cloudlinux.com/trial" target="_blank" class="btn btn-white">Try Free</a><!--]--></div></div><!----></header><!----><div class="page"><!--[--><!--]--><div class="breadcrumb-wrapper page-breadcrumb" data-v-9445381a><span class="breadcrumb-title" data-v-9445381a>Documentation:</span><!--[--><a aria-current="page" href="/cloudlinuxos/shared-pro/" class="router-link-active router-link-exact-active breadcrumb" data-v-9445381a>CloudLinux OS Pro Components</a><!--]--></div><img class="page-mobile__sidebar-menu" src="/global/sidebar-menu.svg" alt="sidebar hamburger menu"><div class="page-nav-wrapper"><!----></div><div class="content" custom="false"><h1 id="cloudlinux-os-pro-components" tabindex="-1"><a class="header-anchor" href="#cloudlinux-os-pro-components" aria-hidden="true">#</a> CloudLinux OS Pro Components</h1><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>CloudLinux OS Shared Hosting Pro was developed with shared hosting in mind. It’s a state-of-the-art operating system that gives shared hosting providers what they need: advanced automation, deep-look performance analytics, and centralized monitoring tools.</p><p>It includes additional tools to expand the functionality.</p><p>To activate the CloudLinux OS Shared Pro you have to purchase a Shared Pro license first, or upgrade the existing one from the <a href="https://cln.cloudlinux.com" target="_blank" rel="noopener noreferrer">cln.cloudlinux.com</a> then activate a license on a server using the <a href="https://docs.cloudlinux.com/cloudlinuxos/cloudlinux_installation/#license-activation" target="_blank" rel="noopener noreferrer">same instructions</a> just with a new key.</p><div class="tip custom-block"><p class="custom-block-title">Info</p><p>Apart from the functionality described in this documentation section, the Shared Pro edition includes all the <a href="/cloudlinuxos/cloudlinux_os_components/#cloudlinux-os-components" class="">CloudLinux Shared OS features</a>.</p></div><h2 id="acceleratewp" tabindex="-1"><a class="header-anchor" href="#acceleratewp" aria-hidden="true">#</a> AccelerateWP</h2><h3 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting started</h3><p>AccelerateWP carries a suite of optimization features that can be enabled and automatically configured for the end user&#39;s site.</p><p>There are AccelerateWP, AccelerateWP Premium and AccelerateWP CDN feature suites.</p><p>AccelerateWP suite is always enabled when AccelerateWP is turned on. Choose whether you want to offer AccelerateWP Premium offer AccelerateWP Premium or CDN (Content Delivery Network) for your users (by opting in) and click &quot;Turn on&quot; to start exploring AccelerateWP.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>AccelerateWP Free suite is enabled by default on all new servers. Proceed to <a href="/cloudlinuxos/shared-pro/accelerate-wp/#suites-usage-statistics" class="">suites configuration</a> if your server has AccelerateWP already turned on.</p></div><h5 id="activate-acceleratewp-for-a-single-server" tabindex="-1"><a class="header-anchor" href="#activate-acceleratewp-for-a-single-server" aria-hidden="true">#</a> Activate AccelerateWP for a single server</h5><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPAdminPaidPremium.webp" alt=""></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>By default, AccelerateWP Premium suite includes Object Cache (which is not billable per user). If the option to allow billable optimization features is selected in CLN, the additional premium features will be included in the suite.</p></div><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPAdminNonPaidPremium.webp" alt=""></p><p>Enable AccelerateWP Free for all users on the server via <a href="#enable-acceleratewp-free">CLI</a></p><p>Enable AccelerateWP Premium for all users on the server via <a href="#enable-acceleratewp-premium">CLI</a></p><p>Once the AccelerateWP suite is enabled by an administrator, end-users will see an AccelerateWP tab in their control panel interface and be able to activate the optimization feature.</p><p>When AccelerateWP CDN suite is enabled by the administrator, end-users will get 1 GB of CDN traffic and be able to activate the feature to use until the limit is reached. Once the 1GB limit is reached - the end-user will be suggested to extend the CDN limit by purchasing a CDN plan using <a href="#whmcs-billing">WHMCS or 3&#39;d party billing</a>.</p><p>When the AccelerateWP Premium suite is enabled by the administrator, end-users will see the free Object Caching feature in their interface. If current <a href="/cln/dashboard/#acceleratewp-features-management-for-regular-customers" class="">CloudLinux license</a> gives access to billable features - end-users will see Image Optimization and Critical CSS features as well. but cannot activate the feature unless they purchase the feature using <a href="#whmcs-billing">WHMCS or 3&#39;d party billing</a>.</p><h5 id="activate-acceleratewp-free-on-all-servers-via-centralized-monitoring" tabindex="-1"><a class="header-anchor" href="#activate-acceleratewp-free-on-all-servers-via-centralized-monitoring" aria-hidden="true">#</a> Activate AccelerateWP Free on all servers via Centralized Monitoring</h5><p>It is possible to activate AccelerateWP Free on all compatible servers via the <a href="https://cm.cloudlinux.com" target="_blank" rel="noopener noreferrer">Centralized Monitoring UI</a> or via the <a href="https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring" target="_blank" rel="noopener noreferrer">CLN UI</a>. Once Activate button is clicked - AccelerateWP Free will be set up automatically on all compatible servers within couple of minutes.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/CMInstallationProd.webp" alt=""></p><h5 id="activate-acceleratewp-premium-on-all-servers-via-centralized-monitoring" tabindex="-1"><a class="header-anchor" href="#activate-acceleratewp-premium-on-all-servers-via-centralized-monitoring" aria-hidden="true">#</a> Activate AccelerateWP Premium on all servers via Centralized Monitoring</h5><p>Starting from <code>lve-utils-6.5.11-1</code> it is possible to activate AccelerateWP Premium via Centralized Monitoring as well.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/CMInstallationPremium.webp" alt=""></p><p>AccelerateWP Premium will be activated on all compatible servers once activation button is clicked and upgrade url is provided. Before using AccelerateWP Premium features - all end-users will be requested to upgrade to Premium plan using provided upgrade url.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The list of AccelerateWP Premium features depends on current CloudLinux License, if it does not provide access to billable features (Image Optimization, Critical CSS) - only Object Cache will be available</p></div><h5 id="acceleratewp-suite" tabindex="-1"><a class="header-anchor" href="#acceleratewp-suite" aria-hidden="true">#</a> AccelerateWP suite</h5><p>This is a basic suite which includes <a href="https://user-docs.cloudlinux.com/wpos-plugin/#acceleratewp-feature-wordpress-optimization-plugin" target="_blank" rel="noopener noreferrer">AccelerateWP base feature</a>: a WordPress optimization plugin that provides full page caching, GZIP compression and some other useful optimizations.</p><p><strong>AccelerateWP suite limitations</strong></p><ul><li>the website must be on an Apache or LiteSpeed web server;</li><li>the website must be on a server with CloudLinuxOS Shared Pro, Solo, or Admin license</li><li>the website must use PHP version 7.3 or higher.</li><li>the WordPress version must be 5.8 and higher.</li><li>no other WordPress Caching plugins must be installed.</li><li>WordPress should not be running in Multisite mode.</li></ul><h5 id="acceleratewp-premium-suite" tabindex="-1"><a class="header-anchor" href="#acceleratewp-premium-suite" aria-hidden="true">#</a> AccelerateWP Premium suite</h5><p>Starting from <code>accelerate-wp-1.9-18</code> - AccelerateWP Premium suite includes both free and billable optimization features. The available features depend on the CloudLinux license installed on the server.</p><p>For more information on how to set up a CloudLinux license with AccelerateWP Premium billable features, see <a href="/cln/dashboard/#acceleratewp-features-management-for-regular-customers" class="">Setup CloudLinux license with AccelerateWP Premium billable features</a></p><p><strong>Free features</strong></p><ul><li>Object Caching;</li></ul><p><strong>Billable features</strong></p><ul><li>Image Optimization;</li><li>Critical CSS;</li></ul><p>Once a server is licensed with CloudLinux and has paid features enabled, both free and billable features become available. If the license does not include paid features, only free features will be accessible.</p><p><a href="https://user-docs.cloudlinux.com/wpos-plugin/#acceleratewp-premium-object-caching-feature" target="_blank" rel="noopener noreferrer">Object Caching feature</a>.</p><p>The Object Caching mechanism stores database query results in additional storage for quick access. This mechanism is beneficial in cases if a website needs to process multiple pages per second as requests come in and may be helpful in cases when full-page caching cannot be used, e.g. on personalized pages.</p><p><a href="https://user-docs.cloudlinux.com/wpos-plugin/#image-optimization" target="_blank" rel="noopener noreferrer">Image Optimization feature</a></p><p><a href="https://user-docs.cloudlinux.com/wpos-plugin/#css-files" target="_blank" rel="noopener noreferrer">Critical CSS feature</a></p><p><strong>Premium suite limitations</strong></p><ul><li>the website must be on an Apache or a LiteSpeed web server;</li><li>the website must be on a server with CloudLinuxOS Shared Pro, Solo, or Admin license</li><li>the website must use one of the following PHP handlers: <ul><li><a href="https://blog.cpanel.com/how-to-use-php-fpm-with-cpanel/" target="_blank" rel="noopener noreferrer">php-fpm</a></li><li><a href="/cloudlinuxos/cloudlinux_os_components/#apache-mod-lsapi-pro" class="">lsapi</a></li></ul></li><li>the website must use PHP version 7.2 or higher.</li><li>the WordPress version must be 3.7 and higher.</li><li>no other WordPress Caching plugins must be installed.</li><li>the <a href="https://snuffleupagus.readthedocs.io/" target="_blank" rel="noopener noreferrer">Snuffleupagus</a> must be turned off.</li><li>WordPress should not be running in Multisite mode.</li></ul><h3 id="administrator-interface" tabindex="-1"><a class="header-anchor" href="#administrator-interface" aria-hidden="true">#</a> Administrator interface</h3><h5 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h5><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Resellers&#39; users are not allowed to use AccelerateWP features.</p></div><p>In the <em>CloudLinux Manager → AccelerateWP</em> tab an administrator has the opportunity to provide end-users with a suite of features, which on its turn could be activated by end-users.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPAdminPaidPremium.webp" alt=""></p><p>Once the feature suite is enabled by the administrator, end-users will see an AccelerateWP tab in their control panel interface and be able to activate the optimization feature.</p><h4 id="suites-usage-statistics" tabindex="-1"><a class="header-anchor" href="#suites-usage-statistics" aria-hidden="true">#</a> Suites usage statistics</h4><p>When AccelerateWP is enabled, the AccelerateWP usage statistics are shown.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPStats.webp" alt=""></p><p>It includes:</p><ul><li><code>Active Users</code> block with the total number of users and number of users who have activated the optimization feature/total users</li><li><code>Wordpress sites on server</code> block with a total number of WordPress sites and WordPress sites optimized by the feature</li><li>statistics table</li></ul><p>Each row in the statistics table represents a particular user.</p><p>The first column <code>#of Wordpress sites</code> shows the total number of user&#39;s WordPress sites.</p><p>The second column <code>AccelerateWP</code> shows a number of user&#39;s WordPress sites, optimized by the feature.</p><p>To enable premium features, click on the &quot;Activate premium features&quot; link and select the options you want. To integrate functions with billing, you must specify the base URL for the purchase of the function by end users.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPAdminPaidPremium.webp" alt=""></p><p>In case both AccelerateWP and AccelerateWP Premium feature suites are enabled, the statistics are extended with AccelerateWP Premium metrics.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPStatsPremium.webp" alt=""></p><p>Please notice the <code>AccelerateWP Premium</code> rows in the <code>Active Users</code> and the <code>Wordpress sites on server</code> blocks, and also the <code>AccelerateWP Premium</code> column in the statistics table.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Newly created users will be accounted for 10 min after adding. If you want to get updated statistics immediately, use the &quot;Rescan users websites&quot; button.</p></div><h4 id="filters" tabindex="-1"><a class="header-anchor" href="#filters" aria-hidden="true">#</a> Filters</h4><p>You may use the following filters to browse AccelerateWP statistics slices.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPFilters.webp" alt=""></p><ul><li><code>Users with WordPress sites only</code> filter will show statistics for users who already have WordPress sites; users without WordPress installations will be hidden</li><li><code>Users with AccelerateWP only</code> filter will show statistics for users who utilize the AccelerateWP optimization feature; users who did not activate AccelerateWP feature will be hidden</li><li><code>Users with AccelerateWP Premium only</code> filter will show statistics for users who utilize the AccelerateWP Premium (Object Caching) feature; users who did not activate the AccelerateWP Premium feature will be hidden</li><li><code>Users with CDN Free only</code> filter will show statistics for users who utilize the AccelerateWP CDN feature</li><li><code>Users with CDN Pro only</code> filter will show statistics for users who utilize the AccelerateWP CDN Pro feature</li></ul><h3 id="acceleratewp-cli" tabindex="-1"><a class="header-anchor" href="#acceleratewp-cli" aria-hidden="true">#</a> AccelerateWP CLI</h3><p>CLI commands for managing AccelerateWP are provided by those utilities:</p><ul><li><code>cloudlinux-awp-admin</code> - for administrator-side actions;</li><li><code>cloudlinux-awp-user</code> - for user-side actions;</li></ul><p><a href="/cloudlinuxos/shared-pro/x-ray/#smart-advice-cli-commands" class="">Smart Advice CLI for managing optimization advices</a></p><p>Starting from <code>accelerate-wp-1.6-6</code> AccelerateWP CLI utilities provide CLI versioning which is defined via <code>--api-version</code> option.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>It is highly recommended to specify CLI version explicitly via --api-version, otherwise CLI will rely on default settings, which cannot guarantee backward compatability.</p></div><!----><a name="quick-start-guide-cli"></a><h4 id="frequently-used-commands" tabindex="-1"><a class="header-anchor" href="#frequently-used-commands" aria-hidden="true">#</a> Frequently used commands</h4><h5 id="find-all-enabled-premium-users" tabindex="-1"><a class="header-anchor" href="#find-all-enabled-premium-users" aria-hidden="true">#</a> Find all enabled premium users</h5><p><em>Note: this can also be viewed from the <strong>AccelerateWP</strong> tab in CloudLinux Manager</em></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin get-stat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="enable-acceleratewp-free" tabindex="-1"><a class="header-anchor" href="#enable-acceleratewp-free" aria-hidden="true">#</a> Enable AccelerateWP Free</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp --allowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="tip custom-block"><p class="custom-block-title"></p><p>Free CDN can only be installed based on SmartAdvice. The 1GB free CDN available only if Advice was given to the site. You can try to trace site via X-Ray, then the Advice might appear but it depends on the current rules for CDN Advice. Thus, the SmartAdvice can decide whenther CDN is not needed for some sites, therefore advice will not appear there. If there is no Advice, it means that that site does not need that type of optimization.</p><p>SmartAdvice may determine that certain websites don&#39;t require CDN resulting in the absence of Advice for you. If no Advice is provided, it indicates that the particular site doesn&#39;t necessitate that specific optimization.</p></div><h5 id="enable-acceleratewp-premium" tabindex="-1"><a class="header-anchor" href="#enable-acceleratewp-premium" aria-hidden="true">#</a> Enable AccelerateWP Premium</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --visible-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="enable-acceleratewp-premium-for-free-for-all-users" tabindex="-1"><a class="header-anchor" href="#enable-acceleratewp-premium-for-free-for-all-users" aria-hidden="true">#</a> Enable AccelerateWP Premium for free for all users:</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --allowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="set-premium-upgrade-url" tabindex="-1"><a class="header-anchor" href="#set-premium-upgrade-url" aria-hidden="true">#</a> Set Premium Upgrade URL</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-options --upgrade-url &quot;https://plan.upgrade/splash&quot; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="enable-acceleratewp-cdn-free" tabindex="-1"><a class="header-anchor" href="#enable-acceleratewp-cdn-free" aria-hidden="true">#</a> Enable AccelerateWP CDN free</h5><p><strong>All users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites accelerate_wp_cdn --allowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Single user or group of users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_cdn --allowed --users=&lt;username1&gt;,&lt;username2&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="enable-acceleratewp-cdn-50gb-example" tabindex="-1"><a class="header-anchor" href="#enable-acceleratewp-cdn-50gb-example" aria-hidden="true">#</a> Enable AccelerateWP CDN 50GB (example)</h5><p><em>Important note: each of these users will become billable to you as soon as you grant this entitlement</em></p><p><strong>All users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites accelerate_wp_cdn_pro --attrs=&#39;{&quot;traffic_limit&quot;: &quot;50 GB&quot;}&#39; --allowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Single user or group of users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites accelerate_wp_cdn_pro --attrs=&#39;{&quot;traffic_limit&quot;: &quot;50 GB&quot;}&#39; --allowed --users &lt;username&gt;,&lt;username2&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="revoke-access-to-cdn" tabindex="-1"><a class="header-anchor" href="#revoke-access-to-cdn" aria-hidden="true">#</a> Revoke access to CDN</h5><p><strong>All users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites accelerate_wp_cdn_pro --disallowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Single user or group of users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites accelerate_wp_cdn_pro --disallowed --users &lt;username&gt;,&lt;username2&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="set-upgrade-url-for-cdn" tabindex="-1"><a class="header-anchor" href="#set-upgrade-url-for-cdn" aria-hidden="true">#</a> Set Upgrade URL for CDN</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-options --suite accelerate_wp_cdn_pro --upgrade-url=&quot;https://plan.upgrade/cdn-boost&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="grant-users-access-to-all-premium-features" tabindex="-1"><a class="header-anchor" href="#grant-users-access-to-all-premium-features" aria-hidden="true">#</a> Grant users access to ALL premium features</h5><p><em>Note - this is the most common and fundamentally the same as the users upgrading using the WHMCS plugin - you will only be billed for the users that activate at least one premium feature</em></p><p><strong>All users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --allowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Single user or group of users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --allowed --users=&lt;username1&gt;,&lt;username2&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="completely-disallow-access-to-premium-features-including-premium-smartadvice" tabindex="-1"><a class="header-anchor" href="#completely-disallow-access-to-premium-features-including-premium-smartadvice" aria-hidden="true">#</a> Completely disallow access to premium features (including premium SmartAdvice)</h5><p><strong>All users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --disallowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Single user or group of users</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --disallowed --users=&lt;username1&gt;,&lt;username2&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="enable-all-features" tabindex="-1"><a class="header-anchor" href="#enable-all-features" aria-hidden="true">#</a> Enable all features</h5><p>Use the cloudlinux-awp-admin enable-feature CLI command to ensure the best performance for every WordPress user. This CLI command scans the server for all WordPress sites, then activates the AccelerateWP feature suite. Activation is skipped for any sites with existing page caching or feature incompatibilities. <em>Note: Please make sure your AccelerateWP version is &gt;= 1.2-2 before proceeding.</em> Scan the server in background mode and activate AccelerateWP on those WordPress sites where it is possible:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin enable-feature --all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="check-feature-activation-status" tabindex="-1"><a class="header-anchor" href="#check-feature-activation-status" aria-hidden="true">#</a> Check feature activation status</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin enable-feature --status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="cloudlinux-awp-admin" tabindex="-1"><a class="header-anchor" href="#cloudlinux-awp-admin" aria-hidden="true">#</a> cloudlinux-awp-admin</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version &lt;api_version&gt; &lt;command&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>supported commands for <code>--api-version 1</code>:</p><ul><li><code>set-suite</code> - manage optimization suites;</li><li><code>set-options</code> - manage server wide settings;</li><li><code>get-report</code> - get per user information about optimization suites statuses (allowed/disallowed) and usage of specific suites;</li><li><code>generate-report</code> - generate information, that is obtained via <code>get-report</code> command;</li><li><code>get-stat</code> - get total information about suites statuses (allowed/disallowed/visible) and usage of optimization features;</li><li><code>enable-feature</code> - activate free AccelerateWP feature to all users on the server;</li><li><code>object-cache-banner</code> - manage Redis Object Cache Pro banner visibility in WordPress (hide or show banner for specific WordPress site);</li></ul><p>All CLI responses contain <code>result</code> field which says was call successful or not.</p><ul><li><code>{&quot;result&quot;: &quot;success&quot;}</code> - in case of successful call</li><li><code>{&quot;result&quot;: &quot;ERROR_STRING&quot;}</code> - in case of unsuccessful call, <code>result</code> contains string with error details. Response also could have <code>context</code> field to provide additional error info, e.g: username, optimization suite or feature, etc. Example:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;context&quot;: {
        &quot;suite&quot;: &quot;accelerate_wp_cdn&quot;
    },
    &quot;result&quot;: &quot;Suite %(suite)s is not visible for users and so cannot be allowed in billing. Activate the suite on server first. Contact your hoster if you don`t have an access to the server.&quot;,
    &quot;timestamp&quot;: 1691136964.3719108
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="manage-acceleratewp-optimization-suites" tabindex="-1"><a class="header-anchor" href="#manage-acceleratewp-optimization-suites" aria-hidden="true">#</a> Manage AccelerateWP optimization suites</h5><p><code>--api-version 1</code></p><p>supported suites:</p><ul><li><code>accelerate_wp</code> - AccelerateWP Free features;</li><li><code>accelerate_wp_premium</code> - AccelerateWP Premium features;</li><li><code>accelerate_wp_cdn</code> - AccelerateWP CDN 1 GB;</li><li><code>accelerate_wp_cdn_pro</code> - AccelerateWP CDN Pro (50GB by default);</li></ul><p>supported actions for specific user(s):</p><ul><li><code>--allowed</code> - make features of optimization suite ALLOWED to be activated by end-user;</li><li><code>--disallowed</code> - make features optimization suite DISALLOWED to be activated by end-user;</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites=&lt;suites_comma_separated&gt; --users=&lt;usernames_comma_separated&gt; (--allowed | --disallowed) [--attrs=&lt;json_string&gt;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Examples of CLI commands to disable undesired optimization suite(s) for a single user.</p><p>To disable the AccelerateWP suite:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites=accelerate_wp --disallowed --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To disable the AccelerateWP Premium suite:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites=accelerate_wp_premium --disallowed --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To disable the AccelerateWP CDN suite:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suite=accelerate_wp_cdn --disallowed --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To disable the AccelerateWP CDN Pro suite:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suite=accelerate_wp_cdn_pro --disallowed --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To enable CDN Pro for a particular user:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites accelerate_wp_cdn_pro --allowed --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To disable all suites:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites=accelerate_wp,accelerate_wp_premium,accelerate_wp_cdn,accelerate_wp_cdn_pro --disallowed --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To define CDN traffic limit for AccelerateWP CDN Pro optimization suite (50GB limit is by default):</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites accelerate_wp_cdn_pro --allowed --users username1 --attrs=&#39;{&quot;traffic_limit&quot;: &quot;100 GB&quot;}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>supported traffic limits:</p><ul><li><code>50 GB</code> - default traffic limit, if no <code>--attrs</code> passed on <code>set-suite</code>;</li><li><code>100 GB</code></li><li><code>250 GB</code></li><li><code>500 GB</code></li><li><code>1 TB</code></li><li><code>2.5 TB</code></li><li><code>5 TB</code></li><li><code>10 TB</code></li></ul><p>For <em><em>all</em></em> users on the server:</p><p>Supported actions for all users:</p><ul><li><code>--allowed-for-all</code> - make features of optimization suite ALLOWED to be activated for all end-users (and newly created);</li><li><code>--disallowed-for-all</code> - make features optimization suite DISALLOWED to be activated for all end-users (and newly created);</li><li><code>--visible-for-all</code> - make features of optimization suite VISIBLE for all end-users (and newly created);</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites=&lt;suites_comma_separated&gt; (--allowed-for-all | --disallowed-for-all | --visible-for-all)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Example of command to enable CDN Pro for all users:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-suite --suites accelerate_wp_cdn_pro --users all --allowed-for-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="manage-acceleratewp-server-wide-settings" tabindex="-1"><a class="header-anchor" href="#manage-acceleratewp-server-wide-settings" aria-hidden="true">#</a> Manage AccelerateWP server wide settings</h5><p><code>cloudlinux-awp-admin --api-version &lt;api_version&gt; set-options</code></p><p><code>--api-version 1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options (--icon-visible=&lt;on/off&gt;) | (--object-cache-banner-visible=&lt;on/off&gt;) | (--suite=&quot;feature_suite&quot; --upgrade-url=&quot;link_to_url&quot;) | (--features=&quot;optimization_features_comma_separated&quot; --feature-visible=&lt;on/off&gt;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To make AccelerateWP icon visible or invisible in end-user UI:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --icon-visible=on
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --icon-visible=off
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To change the display of promotional materials for all new installations of the Redis Object Cache module by default, you need to set the visibility setting</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --object-cache-banner-visible=on
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --object-cache-banner-visible=off
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To make specific AccelerateWP feature visible or invisible to all users:</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Added in accelerate-wp &gt;= 1.6-6</p></div><p>supported features:</p><ul><li><code>critical_css</code></li><li><code>image_optimization</code></li><li><code>object_cache</code></li><li><code>cdn</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --feature-visible=on --features=&quot;&lt;features_comma_separated&gt;&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --feature-visible=off --features=&quot;&lt;features_comma_separated&gt;&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To set subscription upgrade url for specific AccelerateWP optimization suite:</p><p>for AccelerateWP Premium</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --suite accelerate_wp_premium --upgrade-url=&quot;http://mybilling1.com&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>for AccelerateWP CDN Pro</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --suite accelerate_wp_cdn_pro --upgrade-url=&quot;http://mybilling2.com&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="generate-acceleratewp-suites-report-for-all-users-on-server" tabindex="-1"><a class="header-anchor" href="#generate-acceleratewp-suites-report-for-all-users-on-server" aria-hidden="true">#</a> Generate AccelerateWP suites report for all users on server</h5><p><code>--api-version 1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> cloudlinux-awp-admin --api-version &lt;api_version&gt; generate-report (--all | --status)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Start report generation:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> cloudlinux-awp-admin --api-version 1 generate-report --all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>It starts data collection in background, so check status of generation by separate command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> cloudlinux-awp-admin --api-version 1 generate-report --status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Rely on <code>scan_status</code> key to ensure scanning is over, for example if it is still in progress:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> {
    &quot;last_scan_time&quot;: 1690198116,
    &quot;result&quot;: &quot;success&quot;,
    &quot;scan_status&quot;: &quot;in_progress&quot;,
    &quot;timestamp&quot;: 1690199148.6370175,
    &quot;total_users_scanned&quot;: 0,
    &quot;total_users_to_scan&quot;: 1
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="acceleratewp-suites-statistics" tabindex="-1"><a class="header-anchor" href="#acceleratewp-suites-statistics" aria-hidden="true">#</a> AccelerateWP suites statistics</h5><p><code>--api-version 1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version &lt;api_version&gt; get-report (--all | --users=&lt;usernames_comma_separated&gt;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Get suites statistics for all users:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 get-report --all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or for a particular user:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 get-report --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This CLI command returns the following information:</p><ul><li>total number of users in the report -- <code>total_users_count</code></li><li>total number of websites in the report -- <code>total_wordpress_count</code></li><li>total number of users with particular suite enabled -- <code>total_users_count_active</code></li><li>total number of websites with particular suite enabled -- <code>total_sites_count_active</code></li><li>number of websites with a particular suite enabled per each user in the report -- <code>*_sites_count</code> in the <code>users</code> list</li><li>suites visibility status per each user in the report -- <code>suites</code> in the <code>users</code> list <ul><li>possible values for visibility status are: <code>visible</code>, <code>allowed</code>, <code>disabled</code></li></ul></li></ul><p>The example output for a single user is given below:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;last_scan_time&quot;: 1681198804,
    &quot;result&quot;: &quot;success&quot;,
    &quot;timestamp&quot;: 1681203383.3503218,
    &quot;total_sites_count_active&quot;: {
        &quot;accelerate_wp&quot;: 1,
        &quot;accelerate_wp_premium&quot;: 0
    },
    &quot;total_users_count&quot;: 1,
    &quot;total_users_count_active&quot;: {
        &quot;accelerate_wp&quot;: 1,
        &quot;accelerate_wp_premium&quot;: 0
    },
    &quot;total_wordpress_count&quot;: 2,
    &quot;users&quot;: [
        {
            &quot;accelerate_wp_active_sites_count&quot;: 1,
            &quot;accelerate_wp_premium_sites_count&quot;: 0,
            &quot;suites&quot;: {
                &quot;accelerate_wp&quot;: {
                    &quot;source&quot;: &quot;manual&quot;,
                    &quot;status&quot;: &quot;allowed&quot;
                },
                &quot;accelerate_wp_premium&quot;: {
                    &quot;source&quot;: &quot;default&quot;,
                    &quot;status&quot;: &quot;visible&quot;
                }
            },
            &quot;username&quot;: &quot;user16&quot;,
            &quot;wp_sites_count&quot;: 2
        }
    ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="acceleratewp-features-statistics" tabindex="-1"><a class="header-anchor" href="#acceleratewp-features-statistics" aria-hidden="true">#</a> AccelerateWP features statistics</h5><p>Get overall AccelerateWP features usage statistics for a server with:</p><p><code>--api-version 1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 get-stat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This CLI command returns the following information:</p><ul><li>number of <code>allowed_users</code> in <code>total</code> and per feature</li><li>number of <code>visible_users</code> in <code>total</code> and per feature</li><li>number of <code>allowed_suites</code> per suite</li><li>number of sites with enabled features in <code>total</code> and per feature -- <code>enabled_sites</code></li><li>number of users with visible features in <code>total</code> and per feature -- <code>visible_users</code></li><li>features which are currently allowed -- <code>features_allowed_by_default</code></li><li>features which are currently visible -- <code>features_visible_by_default</code></li></ul><p>The example output is given below:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;accelerate_wp_suite_enabled_premium_suite_disallowed&quot;: 0,
    &quot;accelerate_wp_suite_enabled_premium_suite_visible&quot;: 0,
    &quot;allowed_suites&quot;: {
        &quot;accelerate_wp&quot;: 1,
        &quot;accelerate_wp_cdn_free&quot;: 1,
        &quot;accelerate_wp_cdn_pro&quot;: 0,
        &quot;accelerate_wp_premium&quot;: 1
    },
    &quot;allowed_users&quot;: {
        &quot;cdn_free&quot;: 1,
        &quot;cdn_pro&quot;: 0,
        &quot;critical_css&quot;: 1,
        &quot;image_optimization&quot;: 1,
        &quot;object_cache&quot;: 1,
        &quot;site_optimization&quot;: 1,
        &quot;total&quot;: 1
    },
    &quot;enabled_sites&quot;: {
        &quot;cdn_free&quot;: 0,
        &quot;cdn_pro&quot;: 0,
        &quot;critical_css&quot;: 1,
        &quot;image_optimization&quot;: 0,
        &quot;object_cache&quot;: 0,
        &quot;site_optimization&quot;: 0,
        &quot;total&quot;: 1
    },
    &quot;enabled_suites&quot;: {
        &quot;accelerate_wp&quot;: 0,
        &quot;accelerate_wp_cdn_free&quot;: 0,
        &quot;accelerate_wp_cdn_pro&quot;: 0,
        &quot;accelerate_wp_premium&quot;: 1
    },
    &quot;enabled_users&quot;: {
        &quot;cdn_free&quot;: 0,
        &quot;cdn_pro&quot;: 0,
        &quot;critical_css&quot;: 1,
        &quot;image_optimization&quot;: 0,
        &quot;object_cache&quot;: 0,
        &quot;site_optimization&quot;: 0
    },
    &quot;features_allowed_by_default&quot;: [
        &quot;cdn&quot;,
        &quot;critical_css&quot;,
        &quot;image_optimization&quot;,
        &quot;object_cache&quot;,
        &quot;site_optimization&quot;
    ],
    &quot;features_visible_by_default&quot;: [
        &quot;cdn&quot;,
        &quot;critical_css&quot;,
        &quot;image_optimization&quot;,
        &quot;object_cache&quot;,
        &quot;site_optimization&quot;
    ],
    &quot;is_accelerate_wp_flag_enabled&quot;: false,
    &quot;is_accelerate_wp_icon_enabled&quot;: true,
    &quot;result&quot;: &quot;success&quot;,
    &quot;timestamp&quot;: 1690979440.5282295,
    &quot;upgrade_urls&quot;: {
        &quot;accelerate_wp_cdn_pro&quot;: null,
        &quot;accelerate_wp_premium&quot;: null
    },
    &quot;visible_users&quot;: {
        &quot;cdn_free&quot;: 1,
        &quot;cdn_pro&quot;: 0,
        &quot;critical_css&quot;: 1,
        &quot;image_optimization&quot;: 1,
        &quot;object_cache&quot;: 1,
        &quot;site_optimization&quot;: 1,
        &quot;total&quot;: 1
    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="activate-free-acceleratewp-for-all-wordpress-sites-on-the-server" tabindex="-1"><a class="header-anchor" href="#activate-free-acceleratewp-for-all-wordpress-sites-on-the-server" aria-hidden="true">#</a> Activate free AccelerateWP for all WordPress sites on the server</h5><p><code>--api-version 1</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 enable-feature (--all | --status)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Use the that command to ensure the best performance for every end-user. CLI command scans a server for all WordPress sites and activates the AccelerateWP free feature suite. It can take up to 2 minutes for a single site. CLI command skips activation for WordPress sites with page caching or feature incompatibilities.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Please make sure your AccelerateWP version is &gt;= 1.2-2 before proceeding.</p></div><p>Scan the server in background mode and activate free AccelerateWP plugin on those WordPress sites where it is possible:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 enable-feature --all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The output will state the number of users for the scan and the progress state of the process.</p><p>Check activation status:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 enable-feature --status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The output will be either:</p><ul><li>Activation is still in progress,</li><li>Activation is done. The message will state how many users were initially for the scan, a number of WordPress sites with successfully activated suite and the total number of WordPress sites scanned.</li></ul><h5 id="acceleratewp-disable-redis-object-cache-pro-banner" tabindex="-1"><a class="header-anchor" href="#acceleratewp-disable-redis-object-cache-pro-banner" aria-hidden="true">#</a> AccelerateWP disable Redis Object Cache Pro banner</h5><p><code>--api-version 1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 object-cache-banner (--enable | --disable) (--all | --users=&lt;usernames_comma_separated&gt;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Depending on the server settings, the <code>WP_REDIS_DISABLE_BANNERS</code> constant will be defined in the <code>wp-config.php</code> file when the module is activated, which affects the display of promotional materials.</p><p>To change the <code>WP_REDIS_DISABLE_BANNERS</code> constant for previously installed modules, you need to run a process to update the constant:</p><p>Hide on websites where the module is installed</p><ul><li>for all users:<br><code>cloudlinux-awp-admin --api-version 1 object-cache-banner --all --disable</code></li><li>for specific users (users separated by commas):<br><code>cloudlinux-awp-admin --api-version 1 object-cache-banner --users foo,bar --disable</code></li><li>for current user (run under the user):<br><code>cloudlinux-awp-user --api-version 1 object-cache-banner --all --disable</code></li><li>for a specific website (run under the user):<br><code>cloudlinux-awp-user --api-version 1 object-cache-banner --wp-path &quot;&quot; --domain &quot;demo.com&quot; --disable</code></li></ul><p>Display on websites where the module is installed</p><ul><li>for all users:<br><code>cloudlinux-awp-admin --api-version 1 object-cache-banner --all --enable</code></li><li>for specific users (users separated by commas):<br><code>cloudlinux-awp-admin --api-version 1 object-cache-banner --users foo,bar --enable</code></li><li>for current user (run under the user):<br><code>cloudlinux-awp-user --api-version 1 object-cache-banner --all --enable</code></li><li>for a specific website (run under the user):<br><code>cloudlinux-awp-user --api-version 1 object-cache-banner --wp-path &quot;&quot; --domain &quot;demo.com&quot; --enable</code></li></ul><p>If the banner was previously disabled/enabled for the user/website, then for its subsequent activation of the ObjectCache module, the general settings at the server level will be applied. This means that for each user/website we do not store an individual banner disable/enable setting.</p><h5 id="smartadvice-email-reminders" tabindex="-1"><a class="header-anchor" href="#smartadvice-email-reminders" aria-hidden="true">#</a> SmartAdvice email reminders</h5><p>This section outlines the process of managing email notifications from the SmartAdvice plugins. It applies to all users and it is a global (server-wide) setting.</p><p><em>Sending reminder notifications for not activated advices once a month:</em></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin --api-version 1 set-options --smart-advice-reminders=&lt;on/off&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="cloudlinux-awp-user" tabindex="-1"><a class="header-anchor" href="#cloudlinux-awp-user" aria-hidden="true">#</a> cloudlinux-awp-user</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-user --api-version=&lt;api_version&gt; &lt;command&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>supported commands:</p><ul><li><code>enable</code> - activate specific optimization feature on WordPress site;</li><li><code>disable</code> - deactivate specific optimization feature on WordPress site;</li><li><code>get</code> - get information of optimization features on all user`s WordPress sites;</li></ul><p>Use the following CLI command <strong><em>on behalf of a user</em></strong></p><p>All CLI responses contain <code>result</code> field which says was call successful or not.</p><ul><li><code>{&quot;result&quot;: &quot;success&quot;}</code> - in case of successful call</li><li><code>{&quot;result&quot;: &quot;ERROR_STRING&quot;}</code> - in case of unsuccessful call, <code>result</code> contains string with error details</li></ul><h5 id="enable-optimization-feature" tabindex="-1"><a class="header-anchor" href="#enable-optimization-feature" aria-hidden="true">#</a> Enable optimization feature</h5><p><code>--api-version 1</code></p><p>supported features:</p><ul><li><code>accelerate_wp</code></li><li><code>object_cache</code></li><li><code>critical_css</code></li><li><code>image_optimization</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-user --api-version 1 enable --feature &lt;feature&gt; --wp-path &lt;path_to_wordpress&gt; --domain &lt;user_domain&gt; [--ignore-errors]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Use <code>--ignore-errors</code> to ignore WordPress site web-checks after enabling optimization features.</p><p>example of enabling Object Caching feature</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-user --api-version 1 enable --feature object_cache --wp-path &quot;userwordpresssite&quot; --domain username1.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Please, make sure <code>--wp-path</code> is same as in <code>&quot;path&quot;</code> key of <code>cloudlinux-awp-user get</code> json output.</p><p>Successful response example of enabling feature: rely on <code>feature.enabled</code> field to identify that feature was enabled</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;feature&quot;: {
        &quot;enabled&quot;: true
    },
    &quot;result&quot;: &quot;success&quot;,
    &quot;timestamp&quot;: 1690975273.8860605
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="disable-optimization-feature" tabindex="-1"><a class="header-anchor" href="#disable-optimization-feature" aria-hidden="true">#</a> Disable optimization feature</h5><p><code>--api-version 1</code></p><p>supported features:</p><ul><li><code>accelerate_wp</code></li><li><code>object_cache</code></li><li><code>critical_css</code></li><li><code>image_optimization</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-user --api-version 1 disable --feature &lt;feature&gt; --wp-path &lt;path_to_wordpress&gt; --domain &lt;user_domain&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>example of disabling Object Caching feature</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-user --api-version 1 disable --feature object_cache --wp-path &quot;userwordpresssite&quot; --domain username1.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Please, make sure <code>--wp-path</code> is same as in <code>&quot;path&quot;</code> key of <code>cloudlinux-awp-user get</code> json output.</p><p>Successful response example of enabling feature: rely on <code>feature.enabled</code> field to identify that feature was enabled</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;feature&quot;: {
        &quot;enabled&quot;: true,
        &quot;visible&quot;: true
    },
    &quot;result&quot;: &quot;success&quot;,
    &quot;timestamp&quot;: 1690975273.8860605
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="acceleratewp-features-detailed-statistics" tabindex="-1"><a class="header-anchor" href="#acceleratewp-features-detailed-statistics" aria-hidden="true">#</a> AccelerateWP features detailed statistics</h5><p><code>--api-version 1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-user --api-version 1 get
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The command reports:</p><ul><li>features allowed for a user -- <code>allowed_features</code></li><li>all user&#39;s websites <code>docroots</code> with features information per each <code>wps</code>, which includes: <ul><li>status of each feature -- if the feature is <code>enabled</code>, if the feature is <code>visible</code></li><li>issues detected (if any) for each feature</li></ul></li><li>subscription status (for premium features) -- <code>subscription</code></li><li>features visible for a user -- <code>visible_features</code></li></ul><p>The example output is given below:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;allowed_features&quot;: {
        &quot;accelerate_wp&quot;: [],
        &quot;accelerate_wp_premium&quot;: []
    },
    &quot;docroots&quot;: [
        {
            &quot;domains&quot;: [
                &quot;user0.com&quot;
            ],
            &quot;php_handler&quot;: &quot;fastcgi&quot;,
            &quot;php_version&quot;: &quot;plesk-php73-fastcgi&quot;,
            &quot;wps&quot;: [
                {
                    &quot;features&quot;: {
                        &quot;accelerate_wp&quot;: {
                            &quot;enabled&quot;: false,
                            &quot;issues&quot;: [
                                {
                                    &quot;context&quot;: {
                                        &quot;plugins&quot;: &quot;WP Rocket&quot;
                                    },
                                    &quot;description&quot;: &quot;Found conflicting plugins: %(plugins)s.&quot;,
                                    &quot;fix_tip&quot;: &quot;Deactivate and uninstall the conflicting plugin using the WordPress administration interface.&quot;,
                                    &quot;header&quot;: &quot;Conflicting plugins are enabled&quot;,
                                    &quot;type&quot;: &quot;incompatibility&quot;
                                }
                            ],
                            &quot;visible&quot;: true
                        },
                        &quot;object_cache&quot;: {
                            &quot;enabled&quot;: false,
                            &quot;issues&quot;: [
                                {
                                    &quot;context&quot;: {
                                        &quot;blog_url&quot;: &quot;https://blog.cloudlinux.com/&quot;,
                                        &quot;supported_handlers&quot;: &quot;php-fpm, lsapi&quot;
                                    },
                                    &quot;description&quot;: &quot;Website uses unsupported PHP handler. Currently supported handler(s): %(supported_handlers)s.&quot;,
                                    &quot;fix_tip&quot;: &quot;Please, set or ask your system administrator to set one of the supported PHP handlers for the domain: %(supported_handlers)s. Or keep watching our blog: %(blog_url)s for supported handlers list updates.&quot;,
                                    &quot;header&quot;: &quot;Unsupported PHP handler&quot;,
                                    &quot;type&quot;: &quot;incompatibility&quot;
                                }
                            ],
                            &quot;visible&quot;: true
                        }
                    },
                    &quot;path&quot;: &quot;wordpress&quot;,
                    &quot;version&quot;: &quot;6.2&quot;
                }
            ]
        },
        {
            &quot;domains&quot;: [
                &quot;sub.user0.com&quot;
            ],
            &quot;php_handler&quot;: &quot;fastcgi&quot;,
            &quot;php_version&quot;: &quot;plesk-php73-fastcgi&quot;,
            &quot;wps&quot;: []
        }
    ],
    &quot;max_cache_memory&quot;: &quot;64mb&quot;,
    &quot;result&quot;: &quot;success&quot;,
    &quot;subscription&quot;: {
        &quot;object_cache&quot;: &quot;no&quot;
    },
    &quot;timestamp&quot;: 1681200081.765476,
    &quot;upgrade_url&quot;: null,
    &quot;used_memory&quot;: null,
    &quot;visible_features&quot;: {
        &quot;accelerate_wp&quot;: [
            &quot;accelerate_wp&quot;
        ],
        &quot;accelerate_wp_premium&quot;: [
            &quot;object_cache&quot;
        ]
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="configure-redis-extension-for-alt-php" tabindex="-1"><a class="header-anchor" href="#configure-redis-extension-for-alt-php" aria-hidden="true">#</a> Configure redis extension for alt-php</h3><p>Object cache optimization feature requires several php extensions to be enabled, so there is a script <code>/usr/share/cloudlinux/wpos/enable_redis_for_alt_php.py</code> which does configuration of required modules: <code>redis</code>, <code>igbinary</code>, <code>json</code>.</p><p>By default, it modifies global php.ini and enables required extensions there.</p><p>Starting from <code>accelerate-wp &gt;= 1.6-7</code> - to prevent this script of modifying global php.ini - create marker file: <code>/var/clwpos/admin/do_not_modify_global_php.flag</code>. In that case, additional custom php ini with required php extension will be created and global php.ini remains unmodified.</p><h3 id="billing-integration-upsell-automation-for-premium-features" tabindex="-1"><a class="header-anchor" href="#billing-integration-upsell-automation-for-premium-features" aria-hidden="true">#</a> Billing Integration (upsell automation for premium features)</h3><p>The premium features of AccelerateWP are intended to generate revenue for CloudLinux hosting customers by adding high-end performance value to WordPress that meets or exceeds the value of premium WordPress Hosting/Managed WordPress market leaders. AccelerateWP premium features are suggested to hosting end-users (and WordPress administrators) when substantial data supports a significant performance boost will be achived upon activation.</p><h4 id="setting-the-upgrade-url" tabindex="-1"><a class="header-anchor" href="#setting-the-upgrade-url" aria-hidden="true">#</a> Setting the upgrade URL</h4><p>When a premium feature is suggested to the user/admin through our SmartAdvice utility, they will be prompted to upgrade. The upgrade URL is where the user will be sent when they click &quot;upgrade&quot; and this is customizable per server (or fleet). There are 2 common upgrade packaging models that will dictate how this URL is set and you will need to make this decision and configure the upgrade URL before offering AccelerateWP premium. The 2 packaging models are:</p><ol><li>Include AccelerateWP Premium features in your highest tier hosting plans</li><li>Offer as an add-on subscription to existing hosting plans</li></ol><p>Once you have made this decision, you will need to integrate your billing platform.</p><h4 id="whmcs-billing" tabindex="-1"><a class="header-anchor" href="#whmcs-billing" aria-hidden="true">#</a> WHMCS billing</h4><p>If you use WHMCS, AccelerateWP Premium billing integration is quite simple. CloudLinux developed its own WHMCS plugin which provides this out of the box. View our <a href="/cln/whmcs_advantage/" class="">documentation</a> to learn how to install and use the plugin.</p><h4 id="other-billing-integration" tabindex="-1"><a class="header-anchor" href="#other-billing-integration" aria-hidden="true">#</a> Other billing integration</h4><p>As AccelerateWP Premium is a feature that works on a subscription basis, we made it possible for hosters to integrate their existing billing systems with our plugin and sell the feature for their users.</p><p>When AccelerateWP Premium is enabled in the admin interface, users get a proposal to upgrade their subscription.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPUpgradeNoLink.webp" alt=""></p><p>When a user upgrades the subscription to the plan with AccelerateWP support, billing must execute the following command on the server:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --allowed --source=BILLING_OVERRIDE --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This command makes two things:</p><ul><li>allow the user to install the plugin, bypassing the upgrade window;</li><li>reports premium as being used to CLN, starting the billing cycle for the hoster.</li></ul><p>When the user terminates or downgrades the plan, the following command must be executed by the billing system:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-suite --suites=accelerate_wp_premium --default --source=BILLING_OVERRIDE --users=&lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="setup-upgrade-url-for-acceleratewp-premium" tabindex="-1"><a class="header-anchor" href="#setup-upgrade-url-for-acceleratewp-premium" aria-hidden="true">#</a> Setup upgrade URL for AccelerateWP Premium</h3><p>The upgrade window can be customized with a link to the plan upgrade page, which can be set using the CLI command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-options --upgrade-url https://plan.upgrade/splash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPUpgradeLink.webp" alt=""></p><p>AccelerateWP automatically appends GET parameters when the link is displayed.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://plan.upgrade/splash/?m=acceleratewp&amp;action=provisioning&amp;username=democom&amp;domain=demo.com&amp;server_ip=10.51.0.10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Parameter</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>m</td><td>acceleratewp</td><td>Constant.</td></tr><tr><td>action</td><td>provisioning</td><td>Constant.</td></tr><tr><td>username</td><td>democom</td><td>Customer&#39;s account name.</td></tr><tr><td>domain</td><td>demo.com</td><td>Customer&#39;s account primary domain.</td></tr><tr><td>server_ip</td><td>10.51.0.10</td><td>Primary IP of the server where AccelerateWP is installed</td></tr></tbody></table><p>Parameters can be used to determine the billing account of the user in order to display the proper page. WHMCS plugin already has an automatic redirect to the upgrade page, there is only needed to set upgrade-url to the root of your WHMCS instance.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-options --upgrade-url https://whmcs.mydomain.zone/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Upgrade URL is opened in a modal browser window and will be automatically closed when AccelerateWP receives a callback about the successful upgrade.</p><p>The callback is already implemented in the WHMCS plugin, but if you are using some other billing, you should add the following code on the page which appears when a user successfully upgrades the subscription.</p><pre><code>&lt;script&gt;
if(window.opener &amp;&amp; !window.opener.closed) {
    window.opener.postMessage(&#39;PAYMENT_SUCCESS&#39;, &#39;*&#39;);
}
&lt;/script&gt;
</code></pre><p>In order to remove the link, just set the upgrade URL to the empty one.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-awp-admin set-options --upgrade-url &#39;&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="disable-acceleratewp-premium" tabindex="-1"><a class="header-anchor" href="#disable-acceleratewp-premium" aria-hidden="true">#</a> Disable AccelerateWP Premium</h3><p>If you would like to stop using AccelerateWP Premium, click on the <code>manage</code> link and remove the <code>Premium Features</code> checkbox. AccelerateWP will be still available for your users.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPDisablePremiumOnly.webp" alt=""></p><h3 id="disable-acceleratewp" tabindex="-1"><a class="header-anchor" href="#disable-acceleratewp" aria-hidden="true">#</a> Disable AccelerateWP</h3><p>If you would like to stop using AccelerateWP completely, toggle the <code>AccelerateWP</code> back. Both AccelerateWP and AccelerateWP Premium will be turned off.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPDisable.webp" alt=""></p><p>This operation will:</p><ul><li>disable the AccelerateWP tab in the users&#39; control panel interface</li><li>disable all AccelerateWP optimization suites</li><li>deactivate all optimization features for all users</li></ul><p>This operation will NOT:</p><ul><li>cancel the subscription made by the user in WHMCS or other billing. The user&#39;s subscription stays alive and the user will still be charged in the billing system unless the hoster manually makes a refund</li></ul><h3 id="logs" tabindex="-1"><a class="header-anchor" href="#logs" aria-hidden="true">#</a> Logs</h3><p>The main AccelerateWP log is located at</p><ul><li><code>/var/log/clwpos/main.log</code></li></ul><p>In case AccelerateWP Premium is active, the auxiliary monitoring daemon <code>clwpos_monitoring</code> is also activated. Its log is located at</p><ul><li><code>/var/log/clwpos/daemon.log</code></li></ul><h3 id="faq" tabindex="-1"><a class="header-anchor" href="#faq" aria-hidden="true">#</a> FAQ</h3><h4 id="with-which-panel-can-i-use-acceleratewp" tabindex="-1"><a class="header-anchor" href="#with-which-panel-can-i-use-acceleratewp" aria-hidden="true">#</a> With which panel can I use AccelerateWP?</h4><p>AccelerateWP is compatible with cPanel, Plesk, and DirectAdmin, and it also <a href="https://blog.cloudlinux.com/acceleratewp-is-now-supporting-custom-control-panel-integration" target="_blank" rel="noopener noreferrer">supports custom control panel integration</a>.</p><h4 id="is-it-possible-to-use-acceleratewp-on-a-non-control-panel-server" tabindex="-1"><a class="header-anchor" href="#is-it-possible-to-use-acceleratewp-on-a-non-control-panel-server" aria-hidden="true">#</a> Is it possible to use AccelerateWP on a non-control panel server?</h4><p>Yes, if a custom integration mechanism is used: <a href="https://blog.cloudlinux.com/acceleratewp-is-now-supporting-custom-control-panel-integration" target="_blank" rel="noopener noreferrer">custom control panel integration</a>.</p><h4 id="do-you-plan-to-enable-support-of-the-nginx-server" tabindex="-1"><a class="header-anchor" href="#do-you-plan-to-enable-support-of-the-nginx-server" aria-hidden="true">#</a> Do you plan to enable support of the Nginx server?</h4><p>This is a part of our very long-term plans, thus not expected in the nearest future.</p><h4 id="how-will-it-help-my-customers" tabindex="-1"><a class="header-anchor" href="#how-will-it-help-my-customers" aria-hidden="true">#</a> How will it help my customers?</h4><p>AccelerateWP is a complex solution to help your customers increase their WordPress site performance. AccelerateWP brings number of optimization features, like object caching, css and js preprocessing and website preloading.</p><h4 id="how-could-i-monitor-redis-instances-while-using-the-acceleratewp-premium-suite" tabindex="-1"><a class="header-anchor" href="#how-could-i-monitor-redis-instances-while-using-the-acceleratewp-premium-suite" aria-hidden="true">#</a> How could I monitor Redis instances while using the AccelerateWP Premium suite?</h4><p>The Redis process is started for a user after activating the AccelerateWP Premium Object Caching feature for at least one WordPress site. It is killed after AccelerateWP Premium Object Caching has been deactivated for all user&#39;s websites.</p><p>Look through the processes list to check the Redis status for a particular user:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> ps aux | grep redis  

 awpuser  2662517  0.0  0.5 101096  8512 ?        Sl   15:33   0:00 /opt/alt/redis/bin/redis-server unixsocket:/home/awpuser/.clwpos/redis.sock
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In case if AccelerateWP Premium is active, the auxiliary monitoring daemon <code>clwpos_monitoring</code> is also activated. It checks Redis instances each 5 minutes, starts new instances, restart failed ones and kills the “garbage” instances if needed. Check daemon status using <code>service clwpos_monitoring status</code> and its main log: <code>/var/log/clwpos/daemon.log</code>.</p><h4 id="my-users-are-complaining-that-their-features-are-not-installed-automatically-after-a-subscription-upgrade" tabindex="-1"><a class="header-anchor" href="#my-users-are-complaining-that-their-features-are-not-installed-automatically-after-a-subscription-upgrade" aria-hidden="true">#</a> My users are complaining that their features are not installed automatically after a subscription upgrade</h4><p>This can be caused by several reasons. Either your customer&#39;s website was detected to be malfunctioning or there was an issue with the environment when the feature was installed (e.g. bad internet connectivity with the WordPress market).</p><p>First, try to enable the feature manually using the AccelerateWP interface. Most likely you will find a human-readable error message there.</p><p>Next, you can try to dive into <code>/var/log/clwpos/daemon.log</code> and find the reason why the <code>enable</code> command failed. Here is an example of a successful feature installation for reference:</p><pre><code>2023-02-14 11:01:14,696: (clwpos.daemon_base) [INFO] Running cloudlinux-awp-user enable --feature object_cache --domain wpujj.com --wp-path
2023-02-14 11:01:15,081: (clwpos.daemon_base) [INFO] Command succeded with output:
`CompletedProcess(args=[&#39;/bin/cagefs_enter.proxied&#39;, &#39;cloudlinux-awp-user&#39;, &#39;enable&#39;, &#39;--feature&#39;, &#39;object_cache&#39;, &#39;--domain&#39;, &#39;wpujj.com&#39;, &#39;--wp-path&#39;, &#39;&#39;], returncode=0, 
stdout=&#39;{\n &quot;context&quot;: {\n &quot;domain&quot;: &quot;wpujj.com&quot;,\n &quot;feature&quot;: &quot;object_cache&quot;\n  },\n  &quot;result&quot;: &quot;success&quot;,\n &quot;timestamp&quot;: 1676372475.044419,\n \n}\n&#39;, stderr=&#39;&#39;)`
2023-02-14 11:01:15,086: (clwpos.daemon_base) [INFO] background process finished: pid=415368
</code></pre><p>Also, some useful notes may be present in the user&#39;s log located at <code>/home/&lt;username&gt;/.clwpos/main.log</code>.</p><p>If the issue persists, or you cannot resolve it yourself, contact CloudLinux support and attach <code>/var/log/clwpos/daemon.log</code> and <code>/home/&lt;username&gt;/.clwpos/main.log</code> for further investigation.</p><h3 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting" aria-hidden="true">#</a> Troubleshooting</h3><h4 id="end-users-of-acceleratewp-premium-feature-encounter-redis-extension-is-not-installed-for-selected-php-version" tabindex="-1"><a class="header-anchor" href="#end-users-of-acceleratewp-premium-feature-encounter-redis-extension-is-not-installed-for-selected-php-version" aria-hidden="true">#</a> End-users of AccelerateWP Premium feature encounter Redis extension is not installed for selected php version</h4><p>In order to make use of the AccelerateWP Premium Object Caching feature, the loaded Redis extension is required for the end-user&#39;s website. End-users will not be able to activate the Object Caching feature until the Redis extension configuration is incomplete.</p><p>Corresponding incompatibility warning will be displayed in the control panel&#39;s User interface:</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPNoRedis.webp" alt=""></p><p>The Redis extensions are configured for all installed and supported PHP versions automatically:</p><ul><li>right after the AccelerateWP Premium suite is enabled</li><li>by cron once a day</li></ul><p>or you can trigger the utility manually:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/usr/sbin/enable_redis_for_panel_php
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>All errors will be displayed in standard output and logged into <code>/var/log/clwpos/main.log</code>.</p><p><strong>Ensuring the EA-PHP Redis extension is configured correctly</strong></p><ol><li><p>Check Redis extension package is installed by running the following command</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rpm -q ea-phpXY-php-redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Install the corresponding extension if it is not present:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install ea-phpXY-php-redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Consider the example for checking out and installing the Redis extension for <code>ea-php74</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rpm -q ea-php74-php-redis
yum install ea-php74-php-redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Check Redis <code>ini</code> file is present by running the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ls /opt/cpanel/ea-phpXY/root/etc/php.d/ | grep 50-redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Consider the example for checking out Redis extension for <code>ea-php74</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ls /opt/cpanel/ea-php74/root/etc/php.d/ | grep 50-redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Try reinstalling the package if <code>ini</code> file is missing.</p></li><li><p>Make sure the Redis module is loaded under a specific user by running the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>su -c &quot;php -m | grep redis&quot; &lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p><strong>Ensuring the ALT-PHP Redis extension is configured correctly</strong></p><ol><li><p>Check if <code>redis.so</code> is present for a particular alt-php version:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ls /opt/alt/phpXY/usr/lib64/php/modules | grep redis.so
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Consider the example for checking alt-php74 redis.so:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ls /opt/alt/php74/usr/lib64/php/modules | grep redis.so
redis.so
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>If the Redis module is missing:</p><p>a. Install the <code>alt-phpXY-pecl-ext</code> package manually b. Run the Redis configuration script <code>/usr/share/cloudlinux/wpos/enable_redis_for_alt_php.py</code></p><p>All errors will be displayed in standard output and logged into <code>/var/log/clwpos/main.log</code>.</p></li><li><p>If the Redis module is present for a particular php version, but the incompatibility issue persists, re-check the following:</p><p>a. Make sure the Redis module is loaded under user:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>su -c &quot;php -m | grep redis&quot; &lt;username&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>b. Check the required extensions are enabled in <code>php.ini</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cat /opt/alt/phpXY/etc/php.ini | grep redis.so
cat /opt/alt/phpXY/etc/php.ini | grep json.so
cat /opt/alt/phpXY/etc/php.ini | grep igbinary.so
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>c. Enable missing extensions manually.</p></li></ol><h4 id="end-users-of-acceleratewp-encounter-php-related-issues-during-feature-activation" tabindex="-1"><a class="header-anchor" href="#end-users-of-acceleratewp-encounter-php-related-issues-during-feature-activation" aria-hidden="true">#</a> End-users of AccelerateWP encounter PHP-related issues during feature activation</h4><p>End-users may encounter PHP-related errors while activating the AccelerateWP features.</p><p><img src="/images/cloudlinuxos/shared-pro/accelerate-wp/AWPBrokenPHP.webp" alt=""></p><p>The general examples of possible reasons are:</p><ul><li>broken PHP binaries</li><li>missing PHP files</li><li>etc.</li></ul><p>To check that this issue is caused by PHP itself, call any PHP command, for example:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/opt/cpanel/ea-php80/root/usr/bin/php -i
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>And make sure that installed <code>ea-php80</code> packages are not broken using <code>rpm -V &lt;package_name&gt;</code>.</p><p>Reinstall broken packages if found.</p><p>Consider the example issue (presented at the picture above) with broken <code>mbstring.so</code> for <code>ea-php80</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/opt/cpanel/ea-php80/root/usr/bin/php -i
Segmentation fault (core dumped)  

rpm -V ea-php80 

rpm -V ea-php80-php-mbstring
S.5....T.    /opt/cpanel/ea-php80/root/usr/lib64/php/modules/mbstring.so
......G..  a /usr/lib/.build-id/9c/38ed78a6d401ff6dce059ccea51c95870d98c5  

yum reinstall ea-php80-php-mbstring
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="centralized-monitoring" tabindex="-1"><a class="header-anchor" href="#centralized-monitoring" aria-hidden="true">#</a> Centralized Monitoring</h2><h3 id="description" tabindex="-1"><a class="header-anchor" href="#description" aria-hidden="true">#</a> Description</h3><p><span class="notranslate">Centralized Monitoring</span> is a tool that allows hosting administrators to monitor load for all their servers and users.</p><p><span class="notranslate">Centralized Monitoring</span> allows you to:</p><ul><li>View system metrics for all clients’ end servers</li><li>View the LVE statistics per user for all clients’ end servers</li><li>Enable AccelerateWP Free on all compatible servers</li></ul><h3 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h3><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Make sure that <code>cm.cloudlinux.com</code> is available on your end server.</p></div><ol><li>Make sure you have a CloudLinux OS Shared Pro subscription.</li><li>Make sure you have installed the latest <strong>lve-utils</strong> package. You can install or update it with the following commands: <ul><li>installation</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install lve-utils
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>update</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum update lve-utils
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>Log in to the <a href="https://cm.cloudlinux.com/" target="_blank" rel="noopener noreferrer">https://cm.cloudlinux.com/</a> using CLN credentials (if you are already logged in via CLN, authorization via CM is not necessary, it uses SSO).</li><li>Activate statistics collection on all your servers via the <a href="https://cm.cloudlinux.com" target="_blank" rel="noopener noreferrer">Centralized Monitoring UI</a> or via the <a href="https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring" target="_blank" rel="noopener noreferrer">CLN UI</a>. Optionally, activate the <a aria-current="page" href="/cloudlinuxos/shared-pro/#acceleratewp-suite" class="router-link-active router-link-exact-active">AccelerateWP Free</a>* for all of your compatible servers. <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMInstallationProd.webp" alt=""> Additionally, it is possible to activate the <a aria-current="page" href="/cloudlinuxos/shared-pro/#acceleratewp-premium-suite" class="router-link-active router-link-exact-active">AccelerateWP Premium</a>* for all compatible servers. <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMInstallationPremium.webp" alt=""></li><li>Within couple minutes after the activation, statistics collection and sending to the central server, <a aria-current="page" href="/cloudlinuxos/shared-pro/#acceleratewp-suite" class="router-link-active router-link-exact-active">AccelerateWP Free</a>* and <a aria-current="page" href="/cloudlinuxos/shared-pro/#acceleratewp-premium-suite" class="router-link-active router-link-exact-active">AccelerateWP Premium</a> * will be set up automatically: all required packages and components will be installed. For new, just registered servers, actions can take up to 5 hours.</li><li>Make sure you have activated statistics collection (see paragraph 4) otherwise you will not be able to set up your servers. For instant set up of a registered server after statistics collection was enabled, run the following commands for all servers:<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rhn_check	
/usr/share/cloudlinux/cl_plus/manage_clplus enable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><strong>Note</strong>: If the <code>rhn_check</code> command is not found, run the following command:<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install/update rhn-check rhn-setup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>AccelerateWP Premium activation support was added in <code>lve-utils-6.5.11-1</code>.</li><li>After 5 hours (or after the manual setup), check that statistics for all registered servers is collected via <a href="https://cm.cloudlinux.com/#/servers" target="_blank" rel="noopener noreferrer">https://cm.cloudlinux.com/#/servers</a>. And check that user statistics on the servers is collected via <a href="https://cm.cloudlinux.com/#/users" target="_blank" rel="noopener noreferrer">https://cm.cloudlinux.com/#/users</a>.<div class="tip custom-block"><p class="custom-block-title">Note</p><p>User statistics will be available only for users that were loaded starting from connecting the server to the Centralized Monitoring.</p></div></li></ol><p>* AccelerateWP Free activation also automatically installs and configures <a href="/cloudlinuxos/command-line_tools/#x-ray-autotracing" class="">Autotracing</a> on server.</p><h3 id="centralized-monitoring-mode-without-session-expired" tabindex="-1"><a class="header-anchor" href="#centralized-monitoring-mode-without-session-expired" aria-hidden="true">#</a> Centralized Monitoring: mode without session expired</h3><p>Users can monitor server’s or user’s load for a long time using the mode without session expired.</p><p>To turn on the mode without session expired, follow the next steps:</p><ol><li><p>Log in to the <a href="https://cln.cloudlinux.com/console/" target="_blank" rel="noopener noreferrer">cln.cloudlinux.com</a> via your account</p></li><li><p>Open the <a href="https://cm.cloudlinux.com/#/servers" target="_blank" rel="noopener noreferrer">cm.cloudlinux.com</a> in a new browser tab/window (please, use the same browser as in step 1)</p></li><li><p>Use the toggle to turn on/off 10 min auto logout</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/AutoLogout.webp" alt=""></p></li></ol><p>Your session in the <a href="https://cln.cloudlinux.com/console/" target="_blank" rel="noopener noreferrer">cln.cloudlinux.com</a> will expire in 10 min. But your session in the <a href="https://cm.cloudlinux.com/#/servers" target="_blank" rel="noopener noreferrer">cm.cloudlinux.com</a> will not expire while your browser tab remains open.</p><h3 id="centralized-monitoring-user-interface" tabindex="-1"><a class="header-anchor" href="#centralized-monitoring-user-interface" aria-hidden="true">#</a> Centralized Monitoring user interface</h3><p>You can access <span class="notranslate">Centralized Monitoring</span> in your <a href="https://cln.cloudlinux.com/" target="_blank" rel="noopener noreferrer">CLN account</a>. Click <span class="notranslate">C-Monitoring</span> in the left menu.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMCLNAccount.webp" alt=""></p><h4 id="servers" tabindex="-1"><a class="header-anchor" href="#servers" aria-hidden="true">#</a> Servers</h4><p>This page contains the list of all clients’ end servers. The server appears in the list after finishing <a aria-current="page" href="/cloudlinuxos/shared-pro/#installation-2" class="router-link-active router-link-exact-active">Installation</a>. By default, there is a descending sort by CPU usage.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAllServers.webp" alt=""></p><p>The following values are available for each server:</p><ul><li><span class="notranslate"><strong>Load Avg 15m</strong></span> – average system load for the last 15 min</li><li><span class="notranslate"><strong>CPU Usage</strong></span> – CPU usage for the last 15 min (the number of cores can be found in the hint)</li><li><span class="notranslate"><strong>Memory Usage</strong></span> – free available memory, the second value is the total memory for the last 15 min</li><li><span class="notranslate"><strong>IO read/write</strong></span> – disk read bytes/disk written bytes for the last 15 min</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The values are calculated using a 15 min time period but the metric state is updated automatically every minute by default or you can choose from one of the predefined periods.</p></div><ul><li><span class="notranslate"><strong>Idle state</strong></span> – there were no statistics for the server for the last minute.</li><li><span class="notranslate"><strong>N/A state</strong></span> – there were no statistics for the server for the last 30 days. This can happen if a new server was added but statistics sending was not configured.</li></ul><p>There is no pagination on the <span class="notranslate"><em>All servers</em></span> page and all columns can be sorted by absolute value. Use the search tool to operate with the data.</p><h4 id="servers-details" tabindex="-1"><a class="header-anchor" href="#servers-details" aria-hidden="true">#</a> Servers details</h4><p>To get the detailed statistics for the server via charts, click a desired server line in the table. All charts are auto-refreshed and there is an ability to select the period for metrics data to be updated for the chart.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMUPdates.webp" alt=""></p><div class="warning custom-block"><p class="custom-block-title">Note</p><p>We store the metrics data for one month only.</p></div><h4 id="charts-for-server-metrics" tabindex="-1"><a class="header-anchor" href="#charts-for-server-metrics" aria-hidden="true">#</a> Charts for server metrics</h4><h4 id="visualization-of-the-most-popular-server-states" tabindex="-1"><a class="header-anchor" href="#visualization-of-the-most-popular-server-states" aria-hidden="true">#</a> Visualization of the most popular server states</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMMostPopularStates.webp" alt=""></p><h4 id="disk-space-usage" tabindex="-1"><a class="header-anchor" href="#disk-space-usage" aria-hidden="true">#</a> Disk space usage</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMDiskSpaceUsage.webp" alt=""></p><h4 id="open-file-descriptor-context-switches" tabindex="-1"><a class="header-anchor" href="#open-file-descriptor-context-switches" aria-hidden="true">#</a> Open file descriptor/Context switches</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMOpenFileDescriptorContextSwitches.webp" alt=""></p><h4 id="system-load-1m-5m-15m" tabindex="-1"><a class="header-anchor" href="#system-load-1m-5m-15m" aria-hidden="true">#</a> System load 1m , 5m, 15m</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMSystemLoad.webp" alt=""></p><h4 id="cpu-usage-total-system-user-iowait-steal" tabindex="-1"><a class="header-anchor" href="#cpu-usage-total-system-user-iowait-steal" aria-hidden="true">#</a> CPU usage (total, system, user, iowait, steal)</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMSCPUUsag.webp" alt=""></p><h4 id="network-traffic-usage" tabindex="-1"><a class="header-anchor" href="#network-traffic-usage" aria-hidden="true">#</a> Network traffic usage</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMNetworkTrafficUsage.webp" alt=""></p><h4 id="disk-space-usage-1" tabindex="-1"><a class="header-anchor" href="#disk-space-usage-1" aria-hidden="true">#</a> Disk space usage</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMDiskSpaceUsageBasics.webp" alt=""></p><h4 id="memory-usage-total-used-available" tabindex="-1"><a class="header-anchor" href="#memory-usage-total-used-available" aria-hidden="true">#</a> Memory usage (total, used, available)</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMMemoryUsage.webp" alt=""></p><h4 id="time-spent-doing-i-os" tabindex="-1"><a class="header-anchor" href="#time-spent-doing-i-os" aria-hidden="true">#</a> Time spent doing I/Os</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMTimeSpentDoingIO.webp" alt=""></p><h4 id="disk-iops-completed" tabindex="-1"><a class="header-anchor" href="#disk-iops-completed" aria-hidden="true">#</a> Disk IOps Completed</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMDiskIOpsCompleted.webp" alt=""></p><h4 id="disk-read-write-data" tabindex="-1"><a class="header-anchor" href="#disk-read-write-data" aria-hidden="true">#</a> Disk read/write data</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMDiskReadWriteData.webp" alt=""></p><h4 id="disk-read-write-time" tabindex="-1"><a class="header-anchor" href="#disk-read-write-time" aria-hidden="true">#</a> Disk read/write time</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMDiskReadWriteTime.webp" alt=""></p><h4 id="apache-connections-number-number-of-requests-per-minute-max-connections" tabindex="-1"><a class="header-anchor" href="#apache-connections-number-number-of-requests-per-minute-max-connections" aria-hidden="true">#</a> Apache connections (number)/Number of requests per minute/Max connections</h4><div class="warning custom-block"><p class="custom-block-title">Note</p><p>In the current version, we collect these metrics for the cPanel end servers only. We are planning to add other panels support soon.</p></div><div class="warning custom-block"><p class="custom-block-title">Note</p><p>In the current version, we collect these metrics only for Apache (NOT for LiteSpeed, Nginx, etc.). The charts will be empty for LiteSpeed, Nginx, etc..</p></div><h4 id="mysql-queries" tabindex="-1"><a class="header-anchor" href="#mysql-queries" aria-hidden="true">#</a> MySQL queries</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMMySQLQueries.webp" alt=""></p><p>MySQL queries collector gets number of queries executed on the server per minute. It takes data from the MySQL server variable &quot;Questions&quot;. You may manually check variable value by executing query <code>SHOW GLOBAL STATUS LIKE &#39;Questions&#39;;</code>. For more information about MySQL server variables - please, see MySQL documentation.</p><h4 id="the-most-loaded-server-users-for-the-last-minute" tabindex="-1"><a class="header-anchor" href="#the-most-loaded-server-users-for-the-last-minute" aria-hidden="true">#</a> The most loaded server users for the last minute</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMMostLoadedUsers.webp" alt=""></p><p>We calculate the user’s load by LVE statistics that we collect on the end server. The idle state for the user means that the LVE statistics were not collected for the last minute for some reason.</p><p>In each cell there are current usage/limit values for the basic LVE limits:</p><ul><li>CPU Usage</li><li>Entry Processes</li><li>Physical Memory Usage</li><li>IOPS</li><li>IO Usage</li><li>Number of Processes</li><li>MySQL CPU</li><li>MySQL IO</li></ul><p>In the hint, there is a number of faults for each limit. The values in the columns are underlined (it is red if load-to-limit ratio &gt;=90% and it is yellow if load-to-limit ratio &gt;= 50%). For the current implementation, the only sort by the load-to-limit ratio is available. By default, there is a descending sort by the CPU usage column.</p><p>When sorting by a column, the lines with the load-to-limit ratio &gt;=90% for this column will have the red background color, and lines with the load-to-limit ratio &gt;=50% for this column will have the yellow background color.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The users with unlimited resources (∞) will be at the bottom of the table.</p></div><h4 id="users" tabindex="-1"><a class="header-anchor" href="#users" aria-hidden="true">#</a> Users</h4><p>This page contains all users for the all server of the client and their LVE statistics for the last minute. You can select the number of users on this page and search by user’s data.</p><p>The description of this page is the same as <a aria-current="page" href="/cloudlinuxos/shared-pro/#the-most-loaded-server-users-for-the-last-minute" class="router-link-active router-link-exact-active"><em>The most loaded server users for the last minute</em></a> of the top 5 loaded users.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMUsers.webp" alt=""></p><p>User’s metrics data can be sorted by the load-to-limit ratio and by the absolute value.</p><p>The absolute value is used to analyse the load produced by unlimited users.</p><p>The value of the load-to-limit ratio is convenient to use in the analysis of how many resources the users consume and whether they need to change the limits.</p><p>The values like this <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMvalue.webp" alt=""> means that the resource is unlimited and 500.2 MB is the current usage of it.</p><p>Metrics data of <em>Idle users</em> is not used in the sorting, so such users always will be at the end of the list. The sorting can be done for only one metric.</p><h4 id="charts-for-users-metrics" tabindex="-1"><a class="header-anchor" href="#charts-for-users-metrics" aria-hidden="true">#</a> Charts for Users metrics</h4><div class="warning custom-block"><p class="custom-block-title">Note</p><p>We store the metrics data for one month only.</p></div><p>On the user details page, the admin can find the charts for all LVE limits.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMUsersCharts.webp" alt=""></p><h3 id="alert-manager" tabindex="-1"><a class="header-anchor" href="#alert-manager" aria-hidden="true">#</a> Alert Manager</h3><p>Alert Manager allows you to create a server or user alert for selected metrics and email the triggered events.</p><h4 id="alert-manager-page" tabindex="-1"><a class="header-anchor" href="#alert-manager-page" aria-hidden="true">#</a> Alert Manager page</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager1.webp" alt=""></p><p>The Alert Manager page contains a table with the following:</p><ul><li><strong>Alert name</strong> - a unique alert name</li><li><strong>Tracking metric</strong> - a name of a server/user metric which will trigger the alert notification</li><li><strong># of servers</strong> - number of servers on which the metric will be tracked <ul><li>click <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager2.webp" alt=""> to view a list of servers host names</li></ul></li><li><strong># of users</strong> - number of users for which the metric will be tracked <ul><li>click <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager2.webp" alt=""> to view a list of users names</li></ul></li><li><strong>Value</strong> - a condition for the alert rule which will be applied to the tracking metrics</li><li><strong>Email</strong> - email to send the triggered events notifications</li><li><strong>Type</strong> - a type of the alert rule</li><li><strong># of triggered events</strong> - the number of events from the time, when alert rule was created <ul><li><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager3.webp" alt=""> the event is still firing</li></ul></li><li><strong>Time of the last trigger</strong> - the time of last triggered event, it is the time in your browser time zone</li><li><strong>Actions</strong> - click <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager4.webp" alt=""> to edit and <img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager5.webp" alt=""> to delete the alert rule</li></ul><p><strong>Color Codes</strong></p><ul><li><strong>Red</strong> color means that the event with the condition &quot;more than&quot; is still firing.</li><li><strong>Green</strong> color means that the event with the condition &quot;less than&quot; is still firing.</li></ul><h4 id="creating-an-alert" tabindex="-1"><a class="header-anchor" href="#creating-an-alert" aria-hidden="true">#</a> Creating an alert</h4><p>To create a new alert, click the <em>Create alert</em> button.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager7.webp" alt=""></p><p>Next, fill out the opened popup.</p><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager6.webp" alt=""></p><ul><li><strong>Name of alert</strong> - a unique alert name</li><li><strong>Alert type</strong> - an admin can create a <strong>user</strong> or a <strong>server</strong> alert. <a aria-current="page" href="/cloudlinuxos/shared-pro/#difference-between-the-server-alert-and-the-user-alert" class="router-link-active router-link-exact-active">What is the difference between them?</a></li><li><strong>Select user/server</strong> - admin will see such dropdown depending on a <a aria-current="page" href="/cloudlinuxos/shared-pro/#cases-of-alert-creating" class="router-link-active router-link-exact-active">case of alert creating</a></li><li><strong>Notify me</strong> - the condition of the alert trigger</li><li><strong>Duration</strong> - how much time the condition should be actual to trigger the notification</li><li><strong>Notify me on email</strong> - the email to send notifications</li></ul><h4 id="editing-an-alert" tabindex="-1"><a class="header-anchor" href="#editing-an-alert" aria-hidden="true">#</a> Editing an alert</h4><p>An admin can edit any field in the Alert except the Alert type.</p><h4 id="difference-between-the-server-alert-and-the-user-alert" tabindex="-1"><a class="header-anchor" href="#difference-between-the-server-alert-and-the-user-alert" aria-hidden="true">#</a> Difference between the server alert and the user alert</h4><p>The <strong>server alert</strong> is used to track the state of the whole server, it does not track user state on the server. The <strong>server alert</strong> tracks the next list of metrics:</p><ol><li>Context switches</li><li>System load (1m)</li><li>System load (5m)</li><li>System load (15m)</li><li>CPU Basic (total)</li><li>CPU Basic (system)</li><li>CPU Basic (user)</li><li>CPU Basic (iowait)</li><li>CPU Basic (steal)</li><li>Network Traffic Basic (<code>eht0_receive</code>)</li><li>Network Traffic Basic (<code>eht0_transmit</code>)</li><li>Network Traffic Basic (<code>ehtN_receive</code>)</li><li>Network Traffic Basic (<code>ehtN_transmit</code>)</li><li>Disk Space Used Basic (<code>mountpoint: &lt;0&gt;</code>)</li><li>Disk Space Used Basic (<code>mountpoint: &lt;1&gt;</code>)</li><li>Disk Space Used Basic (<code>mountpoint: &lt;N&gt;</code>)</li><li>Memory Basic (available)</li><li>Memory Basic (used)</li><li>Time spent Doing I/Os</li><li>Disk IOps Writes Completed</li><li>Disk IOps Reads Completed</li><li>Disk Read Data</li><li>Disk Write Data</li><li>Disk Read Time</li><li>Disk Write Time</li><li>Apache connections</li><li>Number of requests per minute</li><li>MySQL queries</li><li>Hardware Temperature (<code>chip&lt;0&gt;</code>)</li><li>Hardware Temperature (<code>sensor&lt;0&gt;</code>)</li><li>Hardware Temperature (<code>chip&lt;N&gt;</code>)</li><li>Hardware Temperature (<code>sensor&lt;N&gt;</code>)</li><li>Open File Description</li></ol><p>During creating a server alert an admin should select the type of metrics as the first step. The list of servers will be collected according to the availability of these metrics on the server.</p><p>For example, for now, we do not collect Apache metrics for non-cPanel servers, so you will get only cPanel servers as a list of servers for these metrics.</p><p>We&#39;re planning to implement support for other panels/web servers in the next releases.</p><div class="tip custom-block"><p class="custom-block-title">Small limitation</p><p>We collect the server list according to having their statistics in our database (this behavior will be changed in the next releases).</p></div><p>For example, if server state is N/A or idle more than 24 hours, it will not be visible in the list for the alert.</p><p>The <strong>user alert</strong> tracks the next list of LVE metrics:</p><ol><li>CPU Usage (current usage)</li><li>CPU Usage (faults)</li><li>Entry Processes (current usage)</li><li>Entry Processes (faults)</li><li>Physical Memory Usage (current usage)</li><li>Physical Memory Usage (faults)</li><li>IOPS (current usage)</li><li>IOPS (faults)</li><li>IO Usage (current usage)</li><li>IO Usage (faults)</li><li>Number of Processes (current usage)</li><li>Number of Processes (faults)</li><li>MySQL CPU (current usage)</li><li>MySQL CPU (faults)</li><li>MySQL IO (current usage)</li></ol><div class="tip custom-block"><p class="custom-block-title">Small limitation</p><p>We collect the server list according to having their statistics in our database (this behavior will be changed in the next releases).</p></div><p>For example, if the user state is N/A or idle more than 24 hours, it will not be visible in the list for the alert.</p><h4 id="cases-of-alert-creating" tabindex="-1"><a class="header-anchor" href="#cases-of-alert-creating" aria-hidden="true">#</a> Cases of alert creating</h4><ul><li>Creating a server alert for the selected metrics for one server</li><li>Creating a server alert for the selected metrics for all servers (the default value)</li></ul><p>In this two cases, you will not see the dropdown for selecting users because the metrics will track the server state.</p><ul><li>Creating a user alert for one user, so admin can select a server and a user.</li><li>Creating a user alert for all users on several servers/all servers (in this case admin can&#39;t select users - all users will be selected automatically)</li></ul><h4 id="what-is-the-firing-state-of-the-alert" tabindex="-1"><a class="header-anchor" href="#what-is-the-firing-state-of-the-alert" aria-hidden="true">#</a> What is the Firing state of the alert?</h4><p>This is the state of an alert that has been active for longer than the configured threshold duration.</p><h4 id="alert-notifications" tabindex="-1"><a class="header-anchor" href="#alert-notifications" aria-hidden="true">#</a> Alert notifications</h4><p><img src="/images/cloudlinuxos/shared-pro/centralized-monitoring/CMAlertManager8.webp" alt=""></p><ul><li><strong>Alert name</strong> - the link to the alert page</li><li><strong>Firing target</strong> - the link to the server details page</li></ul><h3 id="faq-1" tabindex="-1"><a class="header-anchor" href="#faq-1" aria-hidden="true">#</a> FAQ</h3><h4 id="how-can-i-disable-collecting-and-sending-statistics-on-a-client-s-server" tabindex="-1"><a class="header-anchor" href="#how-can-i-disable-collecting-and-sending-statistics-on-a-client-s-server" aria-hidden="true">#</a> How can I disable collecting and sending statistics on a client’s server?</h4><p>Run this command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/usr/share/cloudlinux/cl_plus/manage_clplus disable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h4 id="where-can-i-view-all-my-servers-load" tabindex="-1"><a class="header-anchor" href="#where-can-i-view-all-my-servers-load" aria-hidden="true">#</a> Where can I view all my servers load?</h4><p>You can find all your servers load in your CM personal account here: <a href="https://cm.cloudlinux.com/#/servers" target="_blank" rel="noopener noreferrer">https://cm.cloudlinux.com/#/servers</a> or in your CLN personal account here: <a href="https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring" target="_blank" rel="noopener noreferrer">https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring</a>.</p><h4 id="where-can-i-view-all-my-users-load" tabindex="-1"><a class="header-anchor" href="#where-can-i-view-all-my-users-load" aria-hidden="true">#</a> Where can I view all my users load?</h4><p>You can find all your users load in your CM personal account here: <a href="https://cm.cloudlinux.com/#/users" target="_blank" rel="noopener noreferrer">https://cm.cloudlinux.com/#/users</a> or in your CLN personal account here: <a href="https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring" target="_blank" rel="noopener noreferrer">https://cln.cloudlinux.com/console/cloudlinux/centralized-monitoring</a></p><h4 id="where-can-i-view-a-server-load-details-for-a-period" tabindex="-1"><a class="header-anchor" href="#where-can-i-view-a-server-load-details-for-a-period" aria-hidden="true">#</a> Where can I view a server load details for a period?</h4><p>Click the desired server in the server list in the UI.</p><h4 id="where-can-i-view-a-user-load-details-for-the-period" tabindex="-1"><a class="header-anchor" href="#where-can-i-view-a-user-load-details-for-the-period" aria-hidden="true">#</a> Where can I view a user load details for the period?</h4><p>Click the desired user in the user list in the UI.</p><h4 id="how-long-are-statistics-stored-in-the-central-database" tabindex="-1"><a class="header-anchor" href="#how-long-are-statistics-stored-in-the-central-database" aria-hidden="true">#</a> How long are statistics stored in the central database?</h4><p>30 days.</p><h4 id="how-can-i-change-the-charts-period-on-the-details-page" tabindex="-1"><a class="header-anchor" href="#how-can-i-change-the-charts-period-on-the-details-page" aria-hidden="true">#</a> How can I change the charts period on the details page?</h4><p>Choose the desired period in the upper right corner or select it directly on the chart.</p><h4 id="i-don-t-understand-how-to-read-the-user-load-chart" tabindex="-1"><a class="header-anchor" href="#i-don-t-understand-how-to-read-the-user-load-chart" aria-hidden="true">#</a> I don’t understand how to read the user load chart.</h4><p>The user load chart contains three lines:</p><ul><li>limit</li><li>current load</li><li>count of faults</li></ul><p>Limit and current load are drawing regarding the left vertical axis, the count of faults is drawing regarding the right vertical axis. You can focus on a particular line by clicking a required legend.</p><h3 id="troubleshooting-1" tabindex="-1"><a class="header-anchor" href="#troubleshooting-1" aria-hidden="true">#</a> Troubleshooting</h3><h4 id="i-can-t-see-a-server-statistics" tabindex="-1"><a class="header-anchor" href="#i-can-t-see-a-server-statistics" aria-hidden="true">#</a> I can&#39;t see a server statistics</h4><ol><li>Check that your server is registered by key or by IP license of the CloudLinux+ account, i.e., it should be seen in the list of servers in your CLN account here: <a href="https://cln.cloudlinux.com/console/auth/login" target="_blank" rel="noopener noreferrer">https://cln.cloudlinux.com/console/auth/login</a></li><li>Check that the following required packages are installed on the end server:</li></ol><ul><li><span class="notranslate"><code>cl-end-server-tools</code></span> &gt;= 1.0.7-1</li><li><span class="notranslate"><code>cl-node-exporter</code></span> &gt;= 1.1.0-2</li><li><span class="notranslate"><code>rhn-client-tools</code></span><ul><li>CloudLinux OS 6 &gt;= 1.1.15-3.el6.cloudlinux.26</li><li>CloudLinux OS 7 &gt;= 2.0.2-31.el7.clouldinux</li><li>CloudLinux OS 8 &gt;= 2.8.16-14.module_el8.1.0+6074+9dc6073e.cloudlinux.2</li></ul></li><li><span class="notranslate"><code>lve-stats</code></span> &gt;= 3.0.7-2</li><li><span class="notranslate"><code>lve-utils</code></span> &gt;= 4.2.21-2</li><li><span class="notranslate"><code>alt-python27-cllib</code></span> &gt;= 2.1.13-1</li><li><code>lvemanager</code> &gt;= 6.2.10-1</li></ul><ol start="3"><li>Check that service collecting and sending statistics is running:</li></ol><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>service cl_plus_sender status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><ol start="4"><li>Check that log of the <span class="notranslate"><em>cl_plus_sender</em></span> service doesn&#39;t contain errors:</li></ol><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/var/log/clplus_sender.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h4 id="where-can-i-view-the-events-log-on-the-client-s-server" tabindex="-1"><a class="header-anchor" href="#where-can-i-view-the-events-log-on-the-client-s-server" aria-hidden="true">#</a> Where can I view the events log on the client&#39;s server?</h4><p>You can view the events log on the client&#39;s server here:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/var/log/clplus_sender.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h4 id="can-i-get-monitoring-metrics-from-litespeed-nginx-or-other-not-apache-web-server" tabindex="-1"><a class="header-anchor" href="#can-i-get-monitoring-metrics-from-litespeed-nginx-or-other-not-apache-web-server" aria-hidden="true">#</a> Can I get monitoring metrics from LiteSpeed, Nginx or other (Not Apache) web server?</h4><p>Starting from end-server-tools-1.0.7, it supports collecting and sending statistics from the Apache and LiteSpeed web servers.</p><p>LiteSpeed is supported on cPanel and DirectAdmin control panels.</p><p>Each minute the statistics collection daemon checks which web server is started. If LiteSpeed is started, the daemon will collect data from it, otherwise, it checks if Apache is started.</p><p>When the daemon detects that the server is changed, it writes the following line into the statistics collection daemon log <code>/var/log/clplus_sender.log</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2020-10-09 17:25:31,462: (CL+_sender_daemon) [INFO] Apache/Litespeed collector: Using Apache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2020-10-09 18:13:03,897: (CL+_sender_daemon) [INFO] Apache/Litespeed collector: Using Litespeed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If the daemon can&#39;t detect either Apache or LiteSpeed, it writes to the log the following:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2020-10-09 17:33:38,399: (CL+_sender_daemon) [INFO] Apache/Litespeed collector: Apache or Litespeed stopped or absent, collector will not work
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The statistics collection daemon reacts to the server changing automatically, no need to restart it.</p><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>Please note that the daemon checks the server type once in a minute, so the data sent on a minute of switching can be unreliable.</p></div><h4 id="logging-data-sent-to-pushgateway-to-the-statistics-collection-daemon-log" tabindex="-1"><a class="header-anchor" href="#logging-data-sent-to-pushgateway-to-the-statistics-collection-daemon-log" aria-hidden="true">#</a> Logging data sent to pushgateway to the statistics collection daemon log</h4><p>Starting from <code>cl-end-server-tools</code> v.1.0.6-1, the statistics collection daemon allows to log data sent to pushgateway to its log <code>/var/log/clplus_sender.log</code>.</p><p>To start logging, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>touch /var/lve/cmt_debug_logging
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To stop logging, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rm -f /var/lve/cmt_debug_logging
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You don&#39;t need to restart the daemon after starting/stopping logging. The presence of a control file is evaluated &quot;on the fly&quot;.</p><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>Use this logging with caution because when it is enabled, the size of the daemon log <code>/var/log/clplus_sender.log</code> will increase each minute minimum on 3-4 KB. The actual increase size depends on the number of active users&#39; processes on a server.</p></div><h3 id="known-issues" tabindex="-1"><a class="header-anchor" href="#known-issues" aria-hidden="true">#</a> Known issues</h3><ul><li>MySQL Governor statistics in some cases is collected incorrectly</li><li>Sorting by MySQL Governor statistics ignores idle users</li><li>Sorting from the search result set does not work</li><li>Sorting by ratio for unlimited users works incorrectly</li></ul><h2 id="x-ray" tabindex="-1"><a class="header-anchor" href="#x-ray" aria-hidden="true">#</a> X-Ray</h2><h3 id="description-1" tabindex="-1"><a class="header-anchor" href="#description-1" aria-hidden="true">#</a> Description</h3><div class="warning custom-block"><p class="custom-block-title">Warning!</p><p><span class="notranslate">X-Ray</span> is available out of the box for cPanel, Plesk, and DirectAdmin. For other control panels you should implement integration as described <a href="/control_panel_integration/#how-to-integrate-x-ray-with-a-control-panel" class="">here</a></p></div><p><span class="notranslate">X-Ray</span> is a tool developed for website performance monitoring and performance issues detection.</p><p><span class="notranslate">X-Ray</span> can gather and visualize information about top N slowest system functions, external requests, software modules and database queries of the client’s website.</p><h3 id="known-limitations" tabindex="-1"><a class="header-anchor" href="#known-limitations" aria-hidden="true">#</a> Known limitations</h3><p><span class="notranslate">X-Ray</span> is not compatible with Opcahce JIT optimization. Once <span class="notranslate">X-Ray</span> tracing task is running for the site the Opcache JIT optimization will be disabled until tracing task completed.</p><h3 id="installation-1" tabindex="-1"><a class="header-anchor" href="#installation-1" aria-hidden="true">#</a> Installation</h3><div class="tip custom-block"><p class="custom-block-title">Note</p><p>X-Ray Autotracing is installed and enabled by default on all new compatible servers.</p></div><ol><li><p>Make sure you have CloudLinux OS Shared Pro subscription (only non-reseller accounts apply)</p></li><li><p>Make sure you have installed <strong>LVE Manager version 6.2 or later</strong>. You can install or update it with the following commands:</p><ul><li>installation</li></ul><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install lvemanager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><ul><li>update</li></ul><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum update lvemanager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></li><li><p>X-Ray will be activated on all your servers during 4 hours. You will see the X-Ray tab in the LVE Manager UI.</p></li><li><p>For instant activation, run the following command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rhn_check
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><p>If the <code>rhn_check</code> command is not found, run the following command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install rhn-check rhn-setup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></li><li><p>Then install the <span class="notranslate"><code>alt-php-xray</code></span> package</p><ul><li><p>Via user interface</p><ul><li>Go to the <span class="notranslate"><em>X-Ray</em></span> tab.</li><li>Click <span class="notranslate"><em>Install</em></span> to start installation.</li></ul><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayUI.webp" alt=""></p></li><li><p>Via SSH by running the following command:</p></li></ul><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install lvemanager alt-php-xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></li><li><p>After installation, use the <span class="notranslate"><em>Start tracing</em></span> button to create your first tracing task for a slow site.</p></li></ol><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayStartTracing.webp" alt=""></p><h3 id="x-ray-serverwide-mode" tabindex="-1"><a class="header-anchor" href="#x-ray-serverwide-mode" aria-hidden="true">#</a> X-Ray serverwide mode</h3><p>With X-Ray v0.6-11 we introduced global X-Ray mode which enables tracing extension for all PHP versions on the servers. This mode allows your customers to <a href="https://cloudlinux.zendesk.com/hc/en-us/articles/115004537805-Different-PHP-versions-per-directories-using-mod-lsapi" target="_blank" rel="noopener noreferrer">override PHP versions</a> in different folders and trace websites located in those folders.</p><p>In order to enable this mode, type the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-xray-manager enable-serverwide-mode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In order to get back to default:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-xray-manager disable-serverwide-mode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Enable and disable commands do not stop or remove tracing tasks.</p><h3 id="x-ray-phpinfo-mode" tabindex="-1"><a class="header-anchor" href="#x-ray-phpinfo-mode" aria-hidden="true">#</a> X-Ray phpinfo mode</h3><p>With X-Ray v0.6-18 we introduced new X-Ray mode which gathers website php version using information from phpinfo. This mode allows your customers to <a href="https://cloudlinux.zendesk.com/hc/en-us/articles/115004537805-Different-PHP-versions-per-directories-using-mod-lsapi" target="_blank" rel="noopener noreferrer">override PHP versions</a></p><div class="warning custom-block"><p class="custom-block-title"></p><p>In order to use this mode, websites should be reachable through http or https.</p></div><p>In order to enable this mode, type the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>touch /opt/cloudlinux/flags/enabled-flags.d/xray-per-domain-php-version-mode.flag
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In order to get back to default:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rm -f /opt/cloudlinux/flags/enabled-flags.d/xray-per-domain-php-version-mode.flag
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="how-to-manage-x-ray" tabindex="-1"><a class="header-anchor" href="#how-to-manage-x-ray" aria-hidden="true">#</a> How to manage X-Ray</h3><p>X-Ray provides several options for monitoring domain requests speed: Manual Tracing task, X-Ray Autotracing and Continuous tracing.</p><ul><li><p><strong>Manual Tracing task</strong> is a task that you can create for a specific URL to collect server requests. The task will end either after a specified number of requests to the URL or after a specified time (maximum after two days). It is not possible here to automatically email a report but it is possible to export the report in PDF and send to a user.</p></li><li><p><strong>Autotracing task</strong> is a task that will be created automatically at the end of each day for slow URLs that were found during that day by the <a href="/lve_manager/#website-monitoring-tool-and-slow-site-analyzer" class="">PHP Slow Site Analyzer</a> (SSA). Need to be enabled separately, see <a href="/cloudlinux-os-plus/#how-to-enable-x-ray-autotracing" class="">How to enable X-Ray Autotracing</a>.</p></li><li><p><strong>Continuous tracing</strong> is a task that initiates daily hourly tracing requests for a specified domain and email a monitoring report. Continuous task can&#39;t stop automatically, you need to stop it manually. In fact, continuous task allows to automatically create a tracing task for each new day, with the ability to get a report for the past day.</p></li></ul><h4 id="tracing-tasks-tab" tabindex="-1"><a class="header-anchor" href="#tracing-tasks-tab" aria-hidden="true">#</a> Tracing tasks tab</h4><p>The <em>Tracing tasks</em> tab contains a list of all tracing tasks created both manually and automatically via continuous tasks.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayTracingTaskCreated.webp" alt=""></p><p>The <em>Created</em> column shows how a task was created – automatically (by continuous task) or manually.</p><h4 id="continuous-tracing-tab" tabindex="-1"><a class="header-anchor" href="#continuous-tracing-tab" aria-hidden="true">#</a> Continuous tracing tab</h4><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>To use Continuous task, update your LVE Manager and alt-PHP-X-Ray packages to versions lvemanager-6.2.9-1 and alt-php-xray-0.2-1 by running the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum update lvemanager alt-php-xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><p>The <em>Continuous tracing</em> tab contains a list of continuous tasks for which tracing tasks will be created automatically for a new day for a specific domain.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTasksList.webp" alt=""></p><h3 id="managing-tracing-task" tabindex="-1"><a class="header-anchor" href="#managing-tracing-task" aria-hidden="true">#</a> Managing tracing task</h3><h4 id="creating-a-new-tracing-task" tabindex="-1"><a class="header-anchor" href="#creating-a-new-tracing-task" aria-hidden="true">#</a> Creating a new tracing task</h4><ol><li>Go to the <span class="notranslate"><em>X-Ray</em></span> tab</li><li>Click the <span class="notranslate"><em>Start tracing</em></span> button to create a new task</li><li>In the opened popup specify a website URL to trace</li><li>Click the <span class="notranslate"><em>Run</em></span> button</li><li>Tracing will run in the default mode. In the default mode <span class="notranslate">X-Ray</span> traces the first 20 requests for a specified URL</li></ol><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayTracingTask.webp" alt=""></p><ul><li><p><span class="notranslate"><strong>URL</strong></span> should be a valid URL of the domain which exists on the current hosting server. The URL field supports wildcard matching. To learn more about wildcard matching, click <em>How to use special characters</em>.</p></li><li><p><span class="notranslate"><strong>Advanced settings</strong></span> allow you to set an IP address and tracing options: by time or by number of queries.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAdvanced.webp" alt=""></p></li></ul><p><strong>Advanced settings</strong></p><ul><li><span class="notranslate"><strong>Client’s IP</strong></span>: it is an IPv4 address of a machine to trace. For example, if you have a production website that processes requests from different IP addresses and you do not want to add these requests to the tracing task. So, you can set a specific IP address and <span class="notranslate">X-Ray</span> will analyze requests only from this specific IP address. Record for</li><li><span class="notranslate"><strong>Time period</strong></span>: how much time <span class="notranslate">X-Ray</span> collect the requests (2 days max)</li><li><span class="notranslate"><strong>Requests</strong></span>: the amount of requests that <span class="notranslate">X-Ray</span> will collect</li></ul><p>After creating, the task appears in the list of tracing tasks.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayTrcingTaskList.webp" alt=""></p><h4 id="viewing-tracing-tasks-list" tabindex="-1"><a class="header-anchor" href="#viewing-tracing-tasks-list" aria-hidden="true">#</a> Viewing tracing tasks list</h4><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayTrcingTaskList1.webp" alt=""></p><p>Tasks created <em>Manually</em> are simply tracing tasks.</p><h4 id="tracing-status" tabindex="-1"><a class="header-anchor" href="#tracing-status" aria-hidden="true">#</a> Tracing status</h4><p>A tracing task can have the following statuses:</p><ul><li><span class="notranslate"><strong>Running</strong></span> – tracing is in progress</li><li><span class="notranslate"><strong>Stopped</strong></span> – tracing was stopped by administrator</li><li><span class="notranslate"><strong>On hold</strong></span> – the same URL already exists in the lists. Task processing will not start automatically. Administrator should start it manually.</li><li><span class="notranslate"><strong>Completed</strong></span> – period of time is finished or number of requests is reached.</li></ul><h4 id="collected-requests-for-tracing-task" tabindex="-1"><a class="header-anchor" href="#collected-requests-for-tracing-task" aria-hidden="true">#</a> Collected requests for tracing task</h4><div class="warning custom-block"><p class="custom-block-title">Warning!</p><p>Collected requests are available in the UI for two weeks.</p></div><p>Click <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayView.webp" alt=""> to open a list of collected requests.</p><h4 id="tracing-tasks" tabindex="-1"><a class="header-anchor" href="#tracing-tasks" aria-hidden="true">#</a> Tracing tasks</h4><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayCollectedRequests.webp" alt=""></p><p>The slowest request is highlighted.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRaySlowestRequest.webp" alt=""></p><ul><li><span class="notranslate"><strong>Total</strong></span> displays how many requests were collected according to tasks requirements.</li><li><span class="notranslate"><strong>Pending</strong></span> displays how many of collected requests are not visible in the table yet.</li><li><span class="notranslate"><strong>Throttled</strong></span> displays the number of requests during the execution of which the LVE limits were exceeded.</li><li><span class="notranslate"><strong>Slow</strong></span> displays the number of requests lasting more than one second.</li></ul><p>There are filters for the request types and the indicator of a filter used now.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/FilterIndicator.webp" alt=""></p><p>If slow requests were not detected during the tracing task, the following is displayed. Here, you can also view all requests.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/RecordedSession.webp" alt=""></p><p><span class="notranslate">X-Ray</span> collects the following data for each request:</p><ul><li><span class="notranslate"><strong>Top issues</strong></span> – the slowest items of a request</li><li><span class="notranslate"><strong>Software modules/plugins</strong></span> by execution time (only for WordPress plugins)</li><li><span class="notranslate"><strong>Database queries</strong></span> by execution time</li><li><span class="notranslate"><strong>External requests</strong></span> by execution time</li><li><span class="notranslate"><strong>Other system functions</strong></span> by execution time</li></ul><h4 id="software-modules-plugins" tabindex="-1"><a class="header-anchor" href="#software-modules-plugins" aria-hidden="true">#</a> Software modules/plugins</h4><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRaySoftwareModulesPlugins.webp" alt=""></p><p>The <span class="notranslate"><em>Software modules/plugins</em></span> section displays the following data:</p><ul><li><span class="notranslate"><strong>Software type</strong></span> – a type a module/plugin. For now, <span class="notranslate">X-Ray</span> can analyze only WordPress software</li><li><span class="notranslate"><strong>Software module</strong></span> – a name of the WordPress plugin</li><li><span class="notranslate"><strong>Duration</strong></span> – plugin execution time</li><li><span class="notranslate"><strong>Duration (%)</strong></span> – plugin execution time as a percentage of the total duration of the request</li></ul><h4 id="database-queries" tabindex="-1"><a class="header-anchor" href="#database-queries" aria-hidden="true">#</a> Database queries</h4><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayDatabaseQueries.webp" alt=""></p><p>The <span class="notranslate"><em>Database queries</em></span> section displays the following data:</p><ul><li><span class="notranslate"><strong>Query</strong></span> – the executed SQL-query</li><li><span class="notranslate"><strong>File</strong></span> – the file and the line of the executed query and backtrace</li><li><span class="notranslate"><strong>Software module</strong></span> – a WordPress plugin name from which the request was completed. If the request does not belong to any of the WordPress plugin, the name of the function that executed the given request is displayed</li><li><span class="notranslate"><strong>Calls</strong></span> – the number of identical SQL queries</li><li><span class="notranslate"><strong>Duration</strong></span> – execution time as a percentage of the total duration of a request and the function processing time (in brackets)</li></ul><h4 id="external-requests" tabindex="-1"><a class="header-anchor" href="#external-requests" aria-hidden="true">#</a> External requests</h4><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayExternalRequests.webp" alt=""></p><p>The <span class="notranslate"><em>External requests</em></span> section displays the following data:</p><ul><li><span class="notranslate"><strong>URL</strong></span> – the URL of the executed request</li><li><span class="notranslate"><strong>File</strong></span> – the file and the line of the executed request and backtrace</li><li><span class="notranslate"><strong>Duration</strong></span> – execution time as a percentage of the total duration of a request and the function processing time (in brackets)</li></ul><h4 id="system-functions" tabindex="-1"><a class="header-anchor" href="#system-functions" aria-hidden="true">#</a> System functions</h4><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRaySystemFunctions.webp" alt=""></p><p>The <span class="notranslate"><em>System functions</em></span> section displays the following data:</p><ul><li><span class="notranslate"><strong>Function</strong></span> – the executed function</li><li><span class="notranslate"><strong>File</strong></span> – the file and the line of the executed request</li><li><span class="notranslate"><strong>Duration</strong></span> – execution time as a percentage of the total duration of a request and the function processing time (in brackets)</li></ul><h4 id="stopping-tracing-task" tabindex="-1"><a class="header-anchor" href="#stopping-tracing-task" aria-hidden="true">#</a> Stopping tracing task</h4><p>Click <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayStop.webp" alt=""> to stop the tracing task.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayStopped.webp" alt=""></p><p>The tracing task status will be changed to <span class="notranslate"><strong>Stopped</strong></span>. Data will not be collected anymore but you can see already collected information or continue tracing later by clicking <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayStart.webp" alt="">.</p><h4 id="deleting-tracing-task" tabindex="-1"><a class="header-anchor" href="#deleting-tracing-task" aria-hidden="true">#</a> Deleting tracing task</h4><p>Click <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayDelete.webp" alt=""> to delete the tracing task.</p><div class="warning custom-block"><p class="custom-block-title">Warning!</p><p>When you have deleted a tracing task, all collected data will be unavailable.</p></div><h3 id="managing-continuous-tasks" tabindex="-1"><a class="header-anchor" href="#managing-continuous-tasks" aria-hidden="true">#</a> Managing continuous tasks</h3><h4 id="creating-a-new-continuous-task" tabindex="-1"><a class="header-anchor" href="#creating-a-new-continuous-task" aria-hidden="true">#</a> Creating a new continuous task</h4><ol><li>Click the <em>Create continuous tracing</em> button</li></ol><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayCreateContinuousTaskBtn.webp" alt=""></p><ol start="2"><li>Specify URL in the <em>Domain</em> field and email in the <em>Email for reports</em> field and click the <em>Create</em> button.</li></ol><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayCreateContinuousTaskForm.webp" alt=""></p><ol start="3"><li>You can see a new task in the <em>Continuous tracing</em> tab in the X-Ray UI.</li></ol><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTracingTab.webp" alt=""></p><ol start="4"><li><p>If you stop a continuous tracing task, a new task for the next 24 hours will not be created. The task for the current day will be finished at midnight and the report will be emailed.</p></li><li><p>If you delete a continuous tracing task, the task for the current day will be finished at midnight and the report will be emailed.</p></li></ol><h4 id="viewing-continuous-tasks-list" tabindex="-1"><a class="header-anchor" href="#viewing-continuous-tasks-list" aria-hidden="true">#</a> Viewing continuous tasks list</h4><p>You can find a list of continuous tracing tasks in the <em>Continuous tracing</em> tab.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTracingTasksList.webp" alt=""></p><p>You can find automatically created tasks in the <em>Tracing tasks</em> tab marked as <em>Automatically</em> in the <em>Created</em> column.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTracingTasksListCreated.webp" alt=""></p><p>The <a href="/cloudlinux-os-plus/#tracing-status" class="">statuses for automatically created tasks</a> are the same as for tracing task.</p><p>To view detailed info about an automatically created task, click <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayView1.webp" alt="">. You will get requests grouped by hour.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTracingTasksListGrouped.webp" alt=""></p><p>Click to a group to open a list of the requests.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTracingTasksRequestsList.webp" alt=""></p><p>The following data is collected for each request:</p><ul><li>Software modules/plugins by execution time (only for WordPress plugins)</li><li>Database queries by execution time</li><li>External requests by execution time</li><li>Other system functions by execution time</li></ul><h4 id="stopping-automatic-tracing-task" tabindex="-1"><a class="header-anchor" href="#stopping-automatic-tracing-task" aria-hidden="true">#</a> Stopping automatic tracing task</h4><p>Stopping automatic tracing task (a part of continuous tracing task) affects only the automatic tracing task for the current day. A new task for the next day will be created at the end of the day.</p><p>To stop the continuous tracing task completely, see <a href="/cloudlinux-os-plus/#creating-a-new-continuous-task" class="">Creating a new continuous task, paragraph 4</a>.</p><h4 id="deleting-automatic-tracing-task" tabindex="-1"><a class="header-anchor" href="#deleting-automatic-tracing-task" aria-hidden="true">#</a> Deleting automatic tracing task</h4><p>Deleting automatic tracing task (a part of continuous tracing task) affects only the automatic tracing task for the current day. A new task for the next day will be created at the end of the day.</p><p>To delete the continuous tracing task completely, see <a href="/cloudlinux-os-plus/#creating-a-new-continuous-task" class="">Creating a new continuous task, paragraph 5</a>.</p><h4 id="continuous-task-daily-report" tabindex="-1"><a class="header-anchor" href="#continuous-task-daily-report" aria-hidden="true">#</a> Continuous task daily report</h4><ol><li><p>Users get daily reports on their emails. An example of a report is shown below:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTaskDaylyReportExample.webp" alt=""></p></li><li><p>Click the link in the email to show the detailed report:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTaskDaylyReportCollectedRequests.webp" alt=""></p></li><li><p>You can view requests grouped by hour:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTaskDaylyReportByHourRequests.webp" alt=""></p></li><li><p>You can also view the detailed information about request:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayContinuousTaskDaylyReportRequestDetails.webp" alt=""></p></li></ol><h3 id="x-ray-autotracing" tabindex="-1"><a class="header-anchor" href="#x-ray-autotracing" aria-hidden="true">#</a> X-Ray Autotracing</h3><p>X-Ray Autotracing automatically creates tracing tasks for slow URLs that were found during a day by the <a href="/lve_manager/#website-monitoring-tool-and-slow-site-analyzer" class="">PHP Slow Site Analyzer</a> (SSA).</p><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>To use X-Ray Autotracing, update your alt-php-ssa and alt-php-xray packages to versions alt-php-ssa-0.2-1 and alt-php-xray-0.4-1 or higher by running the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum update alt-php-ssa alt-php-xray --enablerepo=cloudlinux-updates-testing
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h4 id="how-to-enable-x-ray-autotracing" tabindex="-1"><a class="header-anchor" href="#how-to-enable-x-ray-autotracing" aria-hidden="true">#</a> How to enable X-Ray Autotracing</h4><p>To enable X-Ray Autotracing, run the following commands via SSH:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/usr/sbin/cloudlinux-ssa-manager enable-ssa
/usr/sbin/cloudlinux-autotracing enable --all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Check <a href="/command-line_tools/#x-ray-autotracing" class="">CLI documentation</a> for a description of the <code>/usr/sbin/cloudlinux-autotracing</code> CLI utility.</p><h4 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements" aria-hidden="true">#</a> Requirements</h4><ul><li>CloudLinux OS Shared Pro or CloudLinux OS Solo or CloudLinux OS Admin</li><li>alt-php-ssa &gt; 0.2-1 version</li><li>alt-php-xray &gt; 0.4-1 version</li><li>Enabled PHP SSA on the server</li></ul><h4 id="autotracing-interface" tabindex="-1"><a class="header-anchor" href="#autotracing-interface" aria-hidden="true">#</a> Autotracing Interface</h4><p>A new tab for Autotracing tasks was added to the X-Ray UI:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAutotracingtaskstab.webp" alt=""></p><h4 id="autotracing-faq" tabindex="-1"><a class="header-anchor" href="#autotracing-faq" aria-hidden="true">#</a> Autotracing FAQ</h4><p>Q: Why are the slow URLs in the Slow Site Analyzer report different from those on which the autotracing tasks were created?</p><p>A: Because the autotracing decision module uses rules and thresholds different from Slow Site Analyzer, which are configured by the CloudLinux team.</p><p>Q: How often autotracing tasks will be generated?</p><p>A: Once a day at the same time as a Slow Site Analyzer report.</p><h3 id="x-ray-smart-advice" tabindex="-1"><a class="header-anchor" href="#x-ray-smart-advice" aria-hidden="true">#</a> X-Ray Smart Advice</h3><p>Smart advice is a new feature of X-Ray that is designed to find and propose solutions to fix performance issues and speed up the performance of a sites.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Smart Advice will work only for CloudLinux OS Shared Pro servers with cPanel Control Panel for now.</p><p>At the moment, Smart Advise is focused only on WordPress sites.</p></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>To use X-Ray Smart Advice, update your alt-php-ssa and alt-php-xray packages to versions alt-php-ssa-0.2-3 and alt-php-xray-0.5-1 or higher by running the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum update alt-php-ssa alt-php-xray lve-utils lvemanager --enablerepo=cloudlinux-updates-testing
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h4 id="how-to-enable-x-ray-smart-advice" tabindex="-1"><a class="header-anchor" href="#how-to-enable-x-ray-smart-advice" aria-hidden="true">#</a> How to enable X-Ray Smart Advice</h4><div class="warning custom-block"><p class="custom-block-title">Attention!</p><p>If you&#39;d like to try Smart Advice and AccelerateWP you should participate in the Beta tester program. To become a beta tester, please send your request at our Beta program page with the signup form <a href="https://www.cloudlinux.com/wp-performance/" target="_blank" rel="noopener noreferrer">here</a>. Once you submit the request, we will send you a confirmation email with program details and terms of use.</p></div><h4 id="requirements-1" tabindex="-1"><a class="header-anchor" href="#requirements-1" aria-hidden="true">#</a> Requirements</h4><ul><li>CloudLinux OS Shared Pro or CloudLinux OS Solo</li><li>alt-php-xray &gt; 0.5-1 version</li><li>lve-utils &gt; 6.3.2-1 version</li><li>lvemanager &gt; 7.6.1-1 version</li><li>cloudlinux-site-optimization-module &gt; 0.1-1 version</li></ul><p>We Recommend:</p><ul><li>Enable <a href="/cloudlinuxos/shared-pro/cloudlinux-os-plus/#x-ray-autotracing" class="">X-Ray Autotracing</a> on the server</li><li>Use alt-php-ssa &gt; 0.2-3 version</li></ul><h4 id="how-x-ray-smart-advice-works" tabindex="-1"><a class="header-anchor" href="#how-x-ray-smart-advice-works" aria-hidden="true">#</a> How X-Ray Smart Advice works</h4><p>The main process of looking for advice is X-Ray tracing tasks. The best way for doing this is to enable X-Ray Autotracing. This will allow you to most effectively find Smart Advice for sites that have performance issues without your manual participation. You can find information on how to enable X-Ray Autotracing <a href="/cloudlinux-os-plus/#how-to-enable-x-ray-autotracing" class="">here</a>. On the other hand, you can create tracing tasks manually or use continuous X-Ray but we suggest you use X-Ray Autotracing for this purpose.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Advice will not be generated by old tracing tasks.</p></div><p>While the tracing task is running, X-Ray will look for places where advice can be applied. New advice will be displayed on the <em>Smart Advice</em> tab.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRaySmartAdviceMainTab.webp" alt=""></p><p>After the X-Ray finds advice you will see new advice in the <em>Review</em> status on the <em>Smart Advice</em> tab. Then you may use the <em>Details</em> button to see which URLs were found by X-Ray that will be speed up by that advice and use <em>Quick Action</em> to enable advice for a site.</p><p>Example of details:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRaySmartAdviceDetails.webp" alt=""></p><p>After you apply the advice by using <em>Quick Action</em>, the status will change to the <em>Applied</em>.</p><p>If a long time has passed since the last time the advice was updated for a site, it will be moved to the <em>Outdated</em> status.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>New X-Ray task may update <em>Outdated</em> advice if X-Ray finds performance issues that may be fixed by that advice. Then the status of advice becomes <em>Review</em>.</p></div><p>If the process of applying advice fails you will see an error log with a detailed error, you may try to fix it manually and try again or <a href="https://cloudlinux.zendesk.com/hc/en-us" target="_blank" rel="noopener noreferrer">contact our support team for help</a>.</p><p>Example when an error appears during advice applying:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRaySmartAdviceError.webp" alt=""></p><h4 id="smart-advice-faq" tabindex="-1"><a class="header-anchor" href="#smart-advice-faq" aria-hidden="true">#</a> Smart Advice FAQ</h4><p>Q: Why I can&#39;t see new advice on the <em>Smart Advice</em> tab?</p><p>A: For the generating of advice, it is necessary to run X-Ray tracing tasks, the best way to do it without manual interaction is to use X-Ray Autoracing. You can find more information on how to enable X-Ray Autotracing <a href="/cloudlinux-os-plus/#how-to-enable-x-ray-autotracing" class="">here</a>.</p><h4 id="smart-advice-cli-commands" tabindex="-1"><a class="header-anchor" href="#smart-advice-cli-commands" aria-hidden="true">#</a> Smart Advice CLI commands</h4><p>CLI commands for managing feature advices</p><ul><li><code>cl-smart-advice</code> - for managing advices;</li></ul><p>Starting from <code>alt-php-xray-0.5-25</code> Smart Advice CLI utilities provide CLI versioning which is defined via <code>--api-version</code> option.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>It is highly recommended to specify CLI version explicitly via --api-version, otherwise CLI will rely on default settings, which cannot guarantee backward compatability.</p></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cl-smart-advice --api-version &lt;api_version&gt; &lt;command&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>supported commands for <code>--api-version=1</code>:</p><ul><li><code>list</code> - shows list of all advices;</li><li><code>apply</code> - applies specific advice;</li><li><code>rollback</code> - rollbacks specific advice;</li></ul><h5 id="advices-list" tabindex="-1"><a class="header-anchor" href="#advices-list" aria-hidden="true">#</a> Advices list</h5><p><code>--api-version=1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cl-smart-advice --api-version=&lt;api_version&gt; list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>For each advice in the list the CLI command returns the following information:</p><ul><li><code>metadata</code>, which includes information about <code>username</code>, <code>domain</code> and <code>website</code> for which the advice is issued</li><li><code>advice</code> information: <ul><li>its identifier <code>id</code> (id, that should be used in apply and rollback commands)</li><li>its <code>type</code> (optimization feature identifier)</li><li>its <code>status</code> - current status: <code>review</code> or <code>applied</code></li><li><code>module_name</code> - name of optimization feature</li><li><code>is_premium</code> - if advice is for optimization feature from AccelerateWP Premium suite</li><li><code>subscription</code> - info about optimization suite subscription (only if advice requires subscription)</li><li><code>description</code> and <code>detailed_description</code> - human-readable descriptions of advice</li><li>other internal informational fields</li></ul></li><li><code>result</code> - result of command: it may have <code>success</code> or error details</li></ul><p>Successful output example of <code>cl-smart-advice --api-version=1 list</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
  &quot;data&quot;: [
    {
      &quot;created_at&quot;: &quot;2023-04-11T07:33:48.191870+00:00&quot;,
      &quot;updated_at&quot;: &quot;2023-04-11T07:33:48.191870+00:00&quot;,
      &quot;metadata&quot;: {
        &quot;username&quot;: &quot;user16&quot;,
        &quot;domain&quot;: &quot;user16.com&quot;,
        &quot;website&quot;: &quot;/wordpress&quot;
      },
      &quot;advice&quot;: {
        &quot;id&quot;: 23484,
        &quot;type&quot;: &quot;OBJECT_CACHE&quot;,
        &quot;status&quot;: &quot;review&quot;,
        &quot;description&quot;: &quot;Turn on Object Caching&quot;,
        &quot;is_premium&quot;: true,
        &quot;module_name&quot;: &quot;object_cache&quot;,
        &quot;subscription&quot;: {
          &quot;status&quot;: &quot;no&quot;,
          &quot;upgrade_url&quot;: null
        },
        &quot;total_stages&quot;: 0,
        &quot;completed_stages&quot;: 0,
        &quot;detailed_description&quot;: &quot;To improve site performance, enable the Object Caching We recommend applying the advice if you see it frequen
tly for the most valuable URLs of your site.&quot;
      }
    },
    {
      &quot;created_at&quot;: &quot;2023-04-11T07:33:48.297784+00:00&quot;,
      &quot;updated_at&quot;: &quot;2023-04-11T08:51:42.362117+00:00&quot;,
      &quot;metadata&quot;: {
        &quot;username&quot;: &quot;user16&quot;,
        &quot;domain&quot;: &quot;user16.com&quot;,
        &quot;website&quot;: &quot;/wordpress&quot;
      },
      &quot;advice&quot;: {
        &quot;id&quot;: 23485,
        &quot;type&quot;: &quot;SITE_OPTIMIZATION&quot;,
        &quot;status&quot;: &quot;applied&quot;,
        &quot;description&quot;: &quot;Turn on AccelerateWP feature&quot;,
        &quot;is_premium&quot;: false,
        &quot;module_name&quot;: &quot;accelerate_wp&quot;,
        &quot;total_stages&quot;: 0,
        &quot;completed_stages&quot;: 0,
        &quot;detailed_description&quot;: &quot;To improve site performance, enable the AccelerateWP optimization feature. We recommend applying the advice if you see it frequently for the most valuable URLs of your site.&quot;
      }
    }
  ],
  &quot;result&quot;: &quot;success&quot;,
  &quot;timestamp&quot;: 1681203110
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Failed output example of <code>cl-smart-advice --api-version=1 list</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{&quot;result&quot;: &quot;Malformed API response&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="apply-advice" tabindex="-1"><a class="header-anchor" href="#apply-advice" aria-hidden="true">#</a> Apply advice</h5><p><code>--api-version=1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cl-smart-advice --api-version=&lt;api_version&gt; apply --advice_id=&lt;id_of_advice&gt; [ --accept_license_terms ] [ --ignore-errors ]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>--accept_license_terms</code> - accept license terms on applying CDN type advice; <code>--ignore-errors</code> - ignore WordPress site web-checks after enabling optimization features;</p><p><code>advice_id</code> from <code>cl-smart-advice --api-version=&lt;api_version&gt; list</code> output</p><p>Successful output example of <code>cl-smart-advice --api-version=1 apply --advice_id=12345</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;feature&quot;: {
        &quot;enabled&quot;: true
    },
    &quot;result&quot;: &quot;success&quot;,
    &quot;timestamp&quot;: 1690806590.0494235
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>feature</code>: status of optimization to be applied via advice <ul><li><code>enabled</code>: true or false value meaning feature is enabled or not</li></ul></li><li><code>result</code>: result of command: it may have <code>success</code> or error details</li></ul><p>Failed output example of <code>cl-smart-advice --api-version=1 apply --advice_id=12345</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{&quot;result&quot;: &quot;Malformed API response&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="rollback-advice" tabindex="-1"><a class="header-anchor" href="#rollback-advice" aria-hidden="true">#</a> Rollback advice</h5><p><code>--api-version=1</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cl-smart-advice --api-version=&lt;api_version&gt; rollback --advice_id=&lt;id_of_advice&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>advice_id</code> from <code>cl-smart-advice --api-version=&lt;api_version&gt; list</code> output</p><p>Successful output example of <code>cl-smart-advice --api-version=1 rollback --advice_id=12345</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{
    &quot;feature&quot;: {
        &quot;enabled&quot;: false,
        &quot;visible&quot;: true
    },
    &quot;result&quot;: &quot;success&quot;,
    &quot;timestamp&quot;: 1690806844.9735684
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>feature</code>: status of optimization to be applied via advice <ul><li><code>enabled</code>: true or false value meaning feature is enabled or not</li><li><code>visible</code>: true or false value meaning feature is visible or not</li></ul></li><li><code>result</code>: result of command: it may have <code>success</code> or error details</li></ul><p>Failed output example of <code>cl-smart-advice --api-version=1 rollback --advice_id=12345</code>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>{&quot;result&quot;: &quot;Malformed API response&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="advanced-performance-analytics" tabindex="-1"><a class="header-anchor" href="#advanced-performance-analytics" aria-hidden="true">#</a> Advanced performance analytics</h3><p>By enabling this feature, X-Ray will add JavaScript profiling code to each WordPress site during the tracing process. This will allow X-Ray to provide highly detailed insights into each website’s performance (greatly enhancing the quality and accuracy of SmartAdvice). The performance metrics that will be collected include TTFB (Time To First Byte), Total Blocking Time, First Contentful Paint, and more. The profiling code does not collect any user or visitor data nor sensitive data of any kind. The sole purpose of this profiling code is to gather performance-related metrics to better optimize the website.</p><h4 id="how-to-enable-disable-via-ui" tabindex="-1"><a class="header-anchor" href="#how-to-enable-disable-via-ui" aria-hidden="true">#</a> How to enable/disable via UI</h4><p>You can manage the setting in several interfaces:</p><p><strong>X-Ray settings:</strong></p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAdvancedMetrics.ui.xray.webp" alt=""></p><p><strong>AccelerateWP settings:</strong></p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAdvancedMetrics.ui.awp.webp" alt=""></p><h4 id="how-to-enable-disable-via-cli" tabindex="-1"><a class="header-anchor" href="#how-to-enable-disable-via-cli" aria-hidden="true">#</a> How to enable/disable via CLI</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-xray-manager advanced-metrics --enable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cloudlinux-xray-manager advanced-metrics --disable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="how-it-works" tabindex="-1"><a class="header-anchor" href="#how-it-works" aria-hidden="true">#</a> How it works</h4><p>To start advanced performance monitoring, you can enable tracing tasks that involve adding a JavaScript snippet to the bottom of your WordPress page. This snippet facilitates performance monitoring and allows X-Ray to gather valuable insights.</p><p>Once tracing tasks are enabled, the JavaScript snippet will periodically send POST requests to our secure analytics service.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAdvancedMetrics.request.webp" alt=""></p><p>These requests capture anonymous data about page load time and resources.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAdvancedMetrics.data.webp" alt=""></p><h3 id="end-user-x-ray-plugin" tabindex="-1"><a class="header-anchor" href="#end-user-x-ray-plugin" aria-hidden="true">#</a> End-user X-Ray plugin</h3><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>To use the end-user X-Ray plugin, update your LVE Manager and X-Ray packages to the <code>lvemanager-6.3.9-1</code> (or later) and <code>alt-php-xray-0.3-1</code> (or later) by running the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum update lvemanager alt-php-xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h4 id="how-to-enable-disable-the-end-user-x-ray-plugin" tabindex="-1"><a class="header-anchor" href="#how-to-enable-disable-the-end-user-x-ray-plugin" aria-hidden="true">#</a> How to enable/disable the end-user X-Ray plugin</h4><p>You can hide or show the end-user X-Ray plugin icon by ticking or unticking the proper checkbox in the LVE Manager.</p><p>Go to <em>LVE Manager → Options Tab → User interface settings</em>.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/HideXRayAppCheckbox.webp" alt=""></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The X-Ray plugin icon in the end-user interface is hidden when the checkbox is ticked.</p></div><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayAppUIIcon.webp" alt=""></p><h4 id="how-to-manage-the-end-user-x-ray-plugin" tabindex="-1"><a class="header-anchor" href="#how-to-manage-the-end-user-x-ray-plugin" aria-hidden="true">#</a> How to manage the end-user X-Ray plugin</h4><p>The web interface of the end-user X-Ray plugin is almost the same as the X-Ray administrator interface.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayEndUserUI.webp" alt=""></p><p>But there are some differences and they are described further.</p><ul><li>End-users can create tasks only for their domains from the drop-down list: <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayEndUserUIStart.webp" alt=""></li><li>To specify URL or wildcard, end-users should use the input field next to the domain: <img src="/images/cloudlinuxos/shared-pro/x-ray/XRayEndUserUiSpecifyURL.webp" alt=""></li></ul><p>You can read about all other basic interface elements and managing tracing tasks in the <a href="/cloudlinux-os-plus/#managing-tracing-task" class="">Managing tracing task section</a>.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Tracing tasks created by an end-user will also be displayed in the administrator interface and administrators can manage the end-user&#39;s tasks the same way as they manage their own. At the same time, tasks created by the administrator or other end-users will not be displayed in the UI of the current user.</p></div><h4 id="end-user-x-ray-plugin-limitations" tabindex="-1"><a class="header-anchor" href="#end-user-x-ray-plugin-limitations" aria-hidden="true">#</a> End-user X-Ray plugin limitations</h4><ul><li><p>The end-user X-Ray plugin does not support creating continuous tasks.</p></li><li><p>The end-user has a limit of tracing tasks running at a time. Before starting the next task, the end-user should wait for the completion of the previous ones or forcefully stop the running ones. Otherwise, the user will get the next error:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayEndUserUIError.webp" alt=""></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The current limit is one tracing task per user.</p></div></li><li><p>The administrator and the end-user can’t run the tracing task for the same Domain/URL at the same time. Once, the administrator started a specific tracing task, the end-user will not be able to duplicate it. And the same is true for the administrators – they will just see the running task for the specific domain and see the notification that they&#39;re trying to create a tracing task with a duplicated URL.</p></li><li><p>If continuous tracing is enabled for the domain, the end-user will not be able to create a new task for this domain because the same rule works - it will be a duplicate of the existing tracing tasks. The next warning will appear:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayEndUserUIWarning.webp" alt=""></p><p>To solve this, the existing running tasks for the same Domain/URL should be stopped or completed. You can find more details about this in the <a href="/cloudlinux-os-plus/#what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url" class="">FAQ</a>.</p></li><li><p>If a user&#39;s tracing task was created for a domain which is using the FPM handler there&#39;s an additional limitation. To avoid frequent reloads of the particular FPM service, <strong>Start tracing</strong> , <strong>Stop tracing</strong> or <strong>Continue tracing</strong> action would be blocked in case if the latest reload of a corresponding FPM service was done less than 1 minute ago.<br> If a user gets such an error message - it means that 1 reload in 1 minute for a particular FPM service has been already done. Just try performing the same operation once again in a while.</p></li></ul><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayEndUserFPMerror.webp" alt=""></p><h3 id="x-ray-automated-throttling-detection" tabindex="-1"><a class="header-anchor" href="#x-ray-automated-throttling-detection" aria-hidden="true">#</a> X-Ray automated throttling detection</h3><div class="tip custom-block"><p class="custom-block-title">Note</p><p><strong>CPU throttling detection</strong> is available since <code>alt-php-xray-0.3-2</code> and <code>lvemanager-xray-0.5-2</code>.</p><p><strong>IO/IOPS throttling detection</strong> is available since <code>alt-php-xray-0.3-7</code> and <code>lvemanager-xray-0.7-1</code>.</p><ul><li><code>kmod-lve-2.0-23</code> (and later) for CloudLinux OS 8 or CloudLinux OS 7 hybrid</li><li><code>kernel-1.5-58</code> (and later) for CloudLinux OS 7 or CloudLinux OS 6 hybrid</li></ul><p>are also required to utilize the feature of <strong>IO/IOPS throttling detection</strong>.</p></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>X-Ray automated throttling detection feature is not supported for CloudLinux OS 6</p></div><p>The X-Ray automated throttling detection system checks if the account exceeds LVE limits by CPU or by IO/IOPS during the HTTP request execution. Requests with exceeded LVE limits are indicated in both X-Ray Administrator and X-Ray User plugins.</p><p>If CPU limiting was detected for a particular request, it is indicated in the X-Ray UI that the system itself has slowed down the request processing due to CPU throttling and this is apparently not a performance issue in the PHP code.</p><p>If limiting by IO and IOPS in total was detected for a particular request, it is indicated in the X-Ray UI in the same manner, except for the cause of slowing down the request -- IO throttling.</p><p>The case of both limiting for the request is also possible.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/CPUIOLimiting.webp" alt=""></p><p>Requests with exceeded LVE limits are also marked in the request detailed view.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/RequestDetails.webp" alt=""></p><p>Requests with exceeded LVE limits are marked in the PDF report as well.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/PDFReport.webp" alt=""></p><h3 id="x-ray-client" tabindex="-1"><a class="header-anchor" href="#x-ray-client" aria-hidden="true">#</a> X-Ray client</h3><p><span class="notranslate">X-Ray</span> client is a PHP extension named <span class="notranslate"><code>xray.so</code></span>. It analyzes the processing time of the entire request and its parts and then sends the data to the <span class="notranslate">X-Ray</span> agent.</p><h4 id="list-of-supported-php-versions" tabindex="-1"><a class="header-anchor" href="#list-of-supported-php-versions" aria-hidden="true">#</a> List of supported PHP versions</h4><p>The list of currently supported PHP versions:</p><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><strong>ALT PHP</strong>:</td><td><strong>EA PHP</strong>:</td><td><strong>Plesk PHP</strong></td><td><strong>DirectAdmin PHP</strong></td><td><strong>Other panels PHP</strong></td></tr><tr><td><ul><li>alt-php54</li><li>alt-php55</li><li>alt-php56</li><li>alt-php70</li><li>alt-php71</li><li>alt-php72</li><li>alt-php73</li><li>alt-php74</li><li>alt-php80</li><li>alt-php81</li><li>alt-php82</li><li>alt-php83</li></ul></td><td><ul><li>ea-php54</li><li>ea-php55</li><li>ea-php56</li><li>ea-php70</li><li>ea-php71</li><li>ea-php72</li><li>ea-php73</li><li>ea-php74</li><li>ea-php80</li><li>ea-php81</li><li>ea-php82</li></ul></td><td><ul><li>php54</li><li>php55</li><li>php56</li><li>php70</li><li>php71</li><li>php72</li><li>php73</li><li>php74</li><li>php80</li><li>php81</li><li>php82</li><li>php83</li></ul></td><td><ul><li>php54</li><li>php55</li><li>php56</li><li>php70</li><li>php71</li><li>php72</li><li>php73</li><li>php74</li><li>php80</li><li>php81</li><li>php82</li><li>php83</li></ul></td><td><ul><li>54</li><li>55</li><li>56</li><li>70</li><li>71</li><li>72</li><li>73</li><li>74</li><li>80</li><li>81</li><li>82</li><li>83</li></ul></td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">Warning!</p><p><span class="notranslate"><a href="/cloudlinux_os_components/#how-to-configure-alt-php72-zts-to-use-with-php-selector" class="">php-zts</a></span> and <a href="/cloudlinux_os_components/#roll-your-own-php" class="">custom PHPs, rolled in selector</a>, are not supported</p></div><h3 id="functions-that-x-ray-client-can-hook" tabindex="-1"><a class="header-anchor" href="#functions-that-x-ray-client-can-hook" aria-hidden="true">#</a> Functions that X-Ray client can hook</h3><h4 id="database-queries-1" tabindex="-1"><a class="header-anchor" href="#database-queries-1" aria-hidden="true">#</a> Database queries</h4><ul><li>Functions from the <a href="https://www.php.net/manual/ru/book.mysql.php" target="_blank" rel="noopener noreferrer">MySQL</a> extension: <ul><li><span class="notranslate"><code>mysql_query</code></span></li><li><span class="notranslate"><code>mysql_db_query</code></span></li><li><span class="notranslate"><code>mysql_unbuffered_query</code></span></li></ul></li><li>Functions from the <a href="https://www.php.net/manual/ru/book.mysqli.php" target="_blank" rel="noopener noreferrer">MySQLi</a> extension: <ul><li><span class="notranslate"><code>mysqli_query</code></span></li><li><span class="notranslate"><code>mysqli::query</code></span></li><li><span class="notranslate"><code>mysqli_multi_query</code></span></li><li><span class="notranslate"><code>mysqli::multi_query</code></span></li><li><span class="notranslate"><code>mysqli_real_query</code></span></li><li><span class="notranslate"><code>mysqli::real_query</code></span></li></ul></li><li>Functions from the <a href="https://www.php.net/manual/ru/book.pdo.php" target="_blank" rel="noopener noreferrer">PDO</a> extension: <ul><li><span class="notranslate"><code>PDO::exec</code></span></li><li><span class="notranslate"><code>PDO::query</code></span></li><li><span class="notranslate"><code>PDOStatement::execute</code></span></li></ul></li></ul><h4 id="external-requests-1" tabindex="-1"><a class="header-anchor" href="#external-requests-1" aria-hidden="true">#</a> External requests</h4><ul><li>Function <a href="https://www.php.net/manual/ru/function.exec" target="_blank" rel="noopener noreferrer">curl_exec</a></li></ul><h4 id="system-php-functions" tabindex="-1"><a class="header-anchor" href="#system-php-functions" aria-hidden="true">#</a> System PHP functions</h4><p>It may be any PHP system function which can be related to a PHP engine or other PHP extension, for example <span class="notranslate"><code>fopen()</code></span> or <span class="notranslate"><code>json_encode()</code></span>. A list of these functions can be found <a href="https://www.php.net/manual/en/indexes.functions.php" target="_blank" rel="noopener noreferrer">here</a>.</p><h4 id="configuration-options" tabindex="-1"><a class="header-anchor" href="#configuration-options" aria-hidden="true">#</a> Configuration Options</h4><div class="notranslate"><h4 id="xray-enabled" tabindex="-1"><a class="header-anchor" href="#xray-enabled" aria-hidden="true">#</a> xray.enabled</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.enabled=On/Off</code></span></p><p><strong>Default</strong>: <span class="notranslate">On</span></p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: Enable or disable <span class="notranslate">X-Ray</span> extension from php.ini</p><hr><div class="notranslate"><h4 id="xray-database-queries" tabindex="-1"><a class="header-anchor" href="#xray-database-queries" aria-hidden="true">#</a> xray.database_queries</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.database_queries=[number]</code></span></p><p><strong>Default</strong>: 20</p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: The number of the slowest SQL queries which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.</p><hr><div class="notranslate"><h4 id="xray-external-requests" tabindex="-1"><a class="header-anchor" href="#xray-external-requests" aria-hidden="true">#</a> xray.external_requests</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.external_requests=[number]</code></span></p><p><strong>Default</strong>: 20</p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: The number of the slowest external requests (the curl_exec function) which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.</p><hr><div class="notranslate"><h4 id="xray-system-functions" tabindex="-1"><a class="header-anchor" href="#xray-system-functions" aria-hidden="true">#</a> xray.system_functions</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.system_functions=[number]</code></span></p><p><strong>Default</strong>: 20</p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: The number of the slowest system functions which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 100. If the variable value is more, the default value will be used.</p><hr><div class="notranslate"><h4 id="xray-backtrace-depth" tabindex="-1"><a class="header-anchor" href="#xray-backtrace-depth" aria-hidden="true">#</a> xray.backtrace_depth</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.backtrace_depth=[number]</code></span></p><p><strong>Default</strong>: 10</p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: The backtrace depth to the main() function which will be sent to the <span class="notranslate">X-Ray</span> agent. The min value is 0 and the max value is 20. If the variable value is more, the default value will be used.</p><hr><div class="notranslate"><h4 id="xray-processor" tabindex="-1"><a class="header-anchor" href="#xray-processor" aria-hidden="true">#</a> xray.processor</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.processor=[processor_name]</code></span></p><p><strong>Default</strong>: <span class="notranslate">xray</span></p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: Tells the <span class="notranslate">X-Ray</span> client which processor to use. The new processors may be added in the future. The default processor is xray which means to send data to the <span class="notranslate">X-Ray</span> agent.</p><hr><div class="notranslate"><h4 id="xray-tasks" tabindex="-1"><a class="header-anchor" href="#xray-tasks" aria-hidden="true">#</a> xray.tasks</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.tasks=host:uri:ip:id</code></span></p><p><strong>Default</strong>: <span class="notranslate">no value</span></p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: The current tracing tasks for the given PHP request. This directive is added automatically by the <span class="notranslate">X-Ray</span> manager when creating a task. It is not allowed to edit manually, as <span class="notranslate">X-Ray</span> may stop working.</p><hr><div class="notranslate"><h4 id="xray-to-file" tabindex="-1"><a class="header-anchor" href="#xray-to-file" aria-hidden="true">#</a> xray.to_file</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.to_file=On/Off</code></span></p><p><strong>Default</strong>: <span class="notranslate">Off</span></p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: Only for debug purposes. Writes to a file data which is sent to the processor.</p><hr><div class="notranslate"><h4 id="xray-debug" tabindex="-1"><a class="header-anchor" href="#xray-debug" aria-hidden="true">#</a> xray.debug</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.debug=On/Off</code></span></p><p><strong>Default</strong>: <span class="notranslate">Off</span></p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: Only for debug purposes. Enables debug output during request processing. In the On mode can slow down the domain.</p><hr><div class="notranslate"><h4 id="xray-debug-file" tabindex="-1"><a class="header-anchor" href="#xray-debug-file" aria-hidden="true">#</a> xray.debug_file</h4></div><p><strong>Syntax</strong>: <span class="notranslate"><code>xray.debug_file=[path_to_file]</code></span></p><p><strong>Default</strong>: <span class="notranslate"><code>/tmp/xray-debug.log</code></span></p><p><strong>Changeable</strong>: <span class="notranslate">PHP_INI_SYSTEM</span></p><p><strong>Description</strong>: Only for debug purposes. Specifies a file for logging debug information.</p><h3 id="x-ray-agent" tabindex="-1"><a class="header-anchor" href="#x-ray-agent" aria-hidden="true">#</a> X-Ray agent</h3><p>This is a service that receives data from the <span class="notranslate">X-Ray</span> client and sends it to the remote storage.</p><h4 id="managing-x-ray-service" tabindex="-1"><a class="header-anchor" href="#managing-x-ray-service" aria-hidden="true">#</a> Managing X-Ray service</h4><p>The <span class="notranslate">X-Ray</span> agent is managed by the <span class="notranslate"><code>service</code></span> utility.</p><ul><li><p>To start the <span class="notranslate">X-Ray</span> agent, run the following command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>service xray-agent start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></li><li><p>To stop the <span class="notranslate">X-Ray</span> agent, run the following command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>service xray-agent stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></li><li><p>To restart the <span class="notranslate">X-Ray</span> agent, run the following command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>service xray-agent restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></li></ul><h3 id="faq-2" tabindex="-1"><a class="header-anchor" href="#faq-2" aria-hidden="true">#</a> FAQ</h3><h4 id="does-x-ray-affect-website-performance" tabindex="-1"><a class="header-anchor" href="#does-x-ray-affect-website-performance" aria-hidden="true">#</a> Does X-Ray affect website performance?</h4><p><span class="notranslate">X-Ray</span> affects website performance. Our tests show 5-10 % overhead from a website loading time with <span class="notranslate">X-Ray</span> tracing enabled. <span class="notranslate">X-Ray</span> allows you to find website performance issues and should not be enabled permanently. If your website is very slow, you can enable <span class="notranslate">X-Ray</span> to find the cause and then disable it.</p><h4 id="my-customers-override-php-versions-in-different-folders-and-x-ray-does-not-trace-those-websites-what-should-i-do" tabindex="-1"><a class="header-anchor" href="#my-customers-override-php-versions-in-different-folders-and-x-ray-does-not-trace-those-websites-what-should-i-do" aria-hidden="true">#</a> My customers <a href="https://cloudlinux.zendesk.com/hc/en-us/articles/115004537805-Different-PHP-versions-per-directories-using-mod-lsapi" target="_blank" rel="noopener noreferrer">override php versions</a> in different folders and X-Ray does not trace those websites, what should I do?</h4><p>You should turn on the <a href="#x-ray-serverwide-mode">X-Ray serverwide mode</a> or the <a href="#x-ray-phpinfo-mode">X-Ray phpinfo mode</a>.</p><h4 id="what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url" tabindex="-1"><a class="header-anchor" href="#what-should-i-do-if-i-see-the-warning-task-is-duplicated-by-url" aria-hidden="true">#</a> What should I do if I see the warning &quot;Task is duplicated by URL&quot;?</h4><p>This warning means that you already have a task to trace this URL in the list of your tracing tasks. If you see this warning, a new task can be created only with the <span class="notranslate"><em>On hold</em></span> status and you will be able to run it only when the previous task with the same URL will be completed.</p><p>Note that the URL field supports wildcard matching and you can have a case when <span class="notranslate">X-Ray</span> is tracing the <span class="notranslate"><code>URL=domain.com/*</code></span> and you are trying to create a new task with <span class="notranslate"><code>URL=domain.com/xray.php</code></span>. In this case, you will see that warning because the <code>*</code> URLs array includes <span class="notranslate"><code>xray.php</code></span>.</p><h4 id="i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do" tabindex="-1"><a class="header-anchor" href="#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do" aria-hidden="true">#</a> I started a tracing task and made requests to URL but did not see any results in the UI. What should I do?</h4><ol><li><p><span class="notranslate">X-Ray</span> may not send data if a site uses a caching plugin, as the caching plugin is outputting HTML, thus there are no PHP scripts to examine. We encountered such issues with sites that use <span class="notranslate">LSCache</span> and <span class="notranslate">WP Super Cache</span> plugins. Check that your site does not use caching plugins. If so, disable it while tracing a site to get information from <span class="notranslate">X-Ray</span>. Moreover, it can also be because of caching on server side, for example NGINX Cache. Or when using CDN because requests are processed from another host. In such cases, during tracing, caching must also be disabled.</p></li><li><p>If you set a client’s IP when creating the tracing task, check that your requests come to the server with this IP via phpinfo (since there may be NAT between your local machine and the server).</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayPHPInfoRemoteAddr.webp" alt=""></p></li><li><p>Check that <span class="notranslate"><strong>xray</strong></span> extension is enabled for the domain. To do so, go to the <span class="notranslate"><code>phpinfo()</code></span> page and make a request. In the phpinfo output try to find the following section:</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayPHPInfo.webp" alt=""></p></li></ol><p>If you cannot see that section, try to restart PHP processes for that user (the simplest way is to restart Apache) and check that you can see the <span class="notranslate"><strong>xray</strong></span> extension.</p><ol start="4"><li><p>If you can see the <span class="notranslate"><strong>xray</strong></span> extension in the phpinfo, check that <span class="notranslate">X-Ray</span> agent service is running with the service xray-agent status command. If it is not running, start it with the <span class="notranslate"><code>service xray-agent start</code></span> command.</p></li><li><p>If, after checking the previous items, the issue persists, <a href="https://cloudlinux.zendesk.com/hc/en-us/requests/new" target="_blank" rel="noopener noreferrer">contact our support team</a>.</p></li></ol><h4 id="what-to-do-if-x-ray-is-not-found-in-the-phpinfo-page" tabindex="-1"><a class="header-anchor" href="#what-to-do-if-x-ray-is-not-found-in-the-phpinfo-page" aria-hidden="true">#</a> What to do if X-Ray is not found in the phpinfo() page?</h4><p>If you managed to create a tracing task, this means that the <span class="notranslate"><code>xray.ini</code></span> file was created in a system. Therefore, there may be two reasons why it did not appear in the phpinfo page of the domain.</p><ol><li><p>PHP process wasn&#39;t reloaded after adding the xray.ini. To solve this, you should restart the Apache or fpm service for the domain on which the tracing was started. At the moment, this is done automatically by the <span class="notranslate">X-Ray</span> manager after creating the task.</p></li><li><p>Your domain uses a PHP version different from the one which was detected by the <span class="notranslate">X-Ray</span> manager. To solve this, check the scan dir for additional ini files for your domain.</p><p><img src="/images/cloudlinuxos/shared-pro/x-ray/XRayScanDir.webp" alt=""></p><p>Then check the <span class="notranslate"><code>ini_location</code></span> that was passed to the <span class="notranslate">X-Ray</span> manager by running the following command:</p><div class="notranslate"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cat /usr/share/alt-php-xray/manager.log | grep ini_location
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><p>Find your tracing task in the output and check that the <span class="notranslate"><code>xray.ini</code></span> exists in this directory, also check that the <code>ini</code> path is the same in the phpinfo page output and in the <span class="notranslate"><code>ini_location</code></span> directive for your tracing task. If they are the same, you should reload your PHP. If they are different that means that the <span class="notranslate">X-Ray</span> manager could not correctly determine the PHP version your domain uses. In this case, contact our support team at <a href="https://cloudlinux.zendesk.com/hc/requests/new" target="_blank" rel="noopener noreferrer">https://cloudlinux.zendesk.com/hc/requests/new</a>.</p></li></ol><h4 id="i-use-litespeed-x-ray-is-enabled-and-it-is-shown-in-the-phpinfo-page-but-does-not-collect-data-when-sending-requests-to-a-site-what-to-do" tabindex="-1"><a class="header-anchor" href="#i-use-litespeed-x-ray-is-enabled-and-it-is-shown-in-the-phpinfo-page-but-does-not-collect-data-when-sending-requests-to-a-site-what-to-do" aria-hidden="true">#</a> I use LiteSpeed, X-Ray is enabled and it is shown in the phpinfo() page but does not collect data when sending requests to a site. What to do?</h4><p>Check for the <span class="notranslate"><code>CacheLookup on</code></span> option in the <code>htaccess</code> file for your domain. If the option is there, LiteSpeed processes requests bypassing the PHP X-Ray extension. In this case, to get tracing information, you should remove the <span class="notranslate"><code>CacheLookup on</code></span> option.</p><h4 id="what-is-the-proper-format-for-the-url" tabindex="-1"><a class="header-anchor" href="#what-is-the-proper-format-for-the-url" aria-hidden="true">#</a> What is the proper format for the URL?</h4><p>All of the examples below are correct:</p><ul><li><code>http://domain.com</code></li><li><code>http://domain.com/</code></li><li><code>https://domain.com</code></li><li><code>https://domain.com/</code></li></ul><p>You can use any of them with a prefix <code>www.</code> and it is also correct.</p><h4 id="what-packages-are-required-for-x-ray" tabindex="-1"><a class="header-anchor" href="#what-packages-are-required-for-x-ray" aria-hidden="true">#</a> What packages are required for X-Ray?</h4><p>Required packages:</p><ul><li><code>lvemanager</code> &gt;= 6.2.10-1</li><li><code>alt-php-xray</code> &gt;= 0.2-1</li></ul><p>$$$$$$$$$$$$$4</p></div><div class="page-edit"><div class="edit-link"><img src="/global/pen.svg" alt="icon pen"><a href="https://github.com/cloudlinux/cloudlinux-documentation/tree/master/docs/cloudlinuxos/shared-pro/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div></div><div class="back-to-top" data-v-1eb13e00><a class="nav-arrow top back-to-top__link" data-v-1eb13e00><span class="back-to-top__link-span" data-v-1eb13e00>Scroll up</span></a></div><!--[--><!--]--></div><!----><div class="footer footer-default-layout" data-v-f2902e71><div class="footer__img" data-v-f2902e71><a href="https://cloudlinux.com" data-v-f2902e71><img src="/global/we-are-cloudlinux.svg" data-v-f2902e71></a></div><div class="footer-company-title" data-v-f2902e71>2024. CloudLinux Inc </div><div class="social" data-v-f2902e71><div class="social_links" data-v-f2902e71><!--[--><a href="https://cloudlinux.zendesk.com/hc/en-us/categories/360002375940" target="_blank" data-v-f2902e71>Knowledge base</a><a href="https://forum.cloudlinux.com/" target="_blank" data-v-f2902e71>Forum</a><a href="https://blog.cloudlinux.com/" target="_blank" data-v-f2902e71>Blog</a><a href="https://www.cloudlinux.com/privacy-policy/" target="_blank" data-v-f2902e71>Privacy Policy</a><!--]--></div><span class="footer-social-text" data-v-f2902e71>Stay in touch</span><div class="social-icons-wrapper" data-v-f2902e71><!--[--><a class="social-icons-link" href="https://www.facebook.com/cloudlinux/" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/fb.png" alt="footer logo" data-v-f2902e71></a><a class="social-icons-link" href="https://twitter.com/cloudlinuxos/" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/tw.png" alt="footer logo" data-v-f2902e71></a><a class="social-icons-link" href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/in.png" alt="footer logo" data-v-f2902e71></a><a class="social-icons-link" href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/ytube.png" alt="footer logo" data-v-f2902e71></a><!--]--></div></div></div></div><!----><!--]--></div>
    <script type="module" src="/assets/app-2878c155.js" defer></script>
  </body>
</html>
