<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5408110.js"></script><script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-T538N4K');
      </script><script>
      (function() {
        var routes = {"/?compatiblity_matrix.html":"/cloudlinuxos/limits/#compatibility-matrix","/cloudlinux_os_components/#installation-5":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-5","/cloudlinux_os_components/#installation-and-update-2":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-1","/?cagefs_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-1","/mysql_governor.html":"/cloudlinuxos/cloudlinux_os_components/#mysql-governor","?backing_up_mysql.html":"/cloudlinuxos/cloudlinux_os_components/#backing-up-mysql","/mod_lsapi_troubleshooting.html":"/cloudlinuxos/cloudlinux_os_components/#troubleshooting-3","/cloudlinux_installation/#registering-cloudlinux-server":"/cloudlinuxos/cloudlinux_installation/#license-activation","/apache_mod_lsapi.html":"/cloudlinuxos/cloudlinux_os_components/#apache-mod-lsapi-pro","/cagefs.html":"/cloudlinuxos/cloudlinux_os_components/#cagefs","/change_mysql_version.html":"/cloudlinuxos/cloudlinux_os_components/#change-mysql-version","/cldiag.html":"/cloudlinuxos/command-line_tools/#cldiag","/custom_php_ini_options.html":"/cloudlinuxos/cloudlinux_os_components/#custom-php-ini-options","?apache_mod_lsapi.html":"/cloudlinuxos/cloudlinux_os_components/#apache-mod-lsapi-pro","?custom_php_ini_options.html":"/cloudlinuxos/cloudlinux_os_components/#custom-php-ini-options","?hybrid_kernel.html":"/cloudlinuxos/cloudlinux_os_kernel/#hybrid-kernels","?installation.html":"/cloudlinuxos/cloudlinux_installation/","?link_traversal_protection.html":"/cloudlinuxos/cloudlinux_os_kernel/#securelinks-and-link-traversal-protection","?lve_limits_with_packages.html":"/cloudlinuxos/lve_manager/#packages","?lve_pam_module.html":"/cloudlinuxos/cloudlinux_os_components/#lve-pam-module","?php_selector_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-3","?virtuozzo_and_openvz.html":"/cloudlinuxos/cloudlinux_installation/#virtuozzo-and-openvz","/installation-wizard.html":"/cloudlinuxos/lve_manager/#installation-wizard","/lve-limits-validation.html":"/cloudlinuxos/limits/#limits-validation","/mysql_governor_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-2","/node_js_selector.html":"/cloudlinuxos/cloudlinux_os_components/#node-js-selector","/php_selector.html":"/cloudlinuxos/cloudlinux_os_components/#php-selector","/php_selector_installation.html":"/cloudlinuxos/cloudlinux_os_components/#installation-and-update-3","/python_and_ruby_selector.html":"/cloudlinuxos/cloudlinux_os_components/#python-selector","/reseller_limits.html":"/cloudlinuxos/limits/#reseller-limits","/cloudlinux-os-plus/#x-ray-autotracing":"/cloudlinuxos/shared-pro/#x-ray-autotracing","/cloudlinux_installation/#activation":"/cloudlinuxos/cloudlinux_installation/#license-activation","/cloudlinux_installation/#converting-existing-servers":"/cloudlinuxos/cloudlinux_installation/#converting-existing-servers","/cloudlinux_installation/#known-restrictions-and-issues":"/cloudlinuxos/cloudlinux_installation/#known-restrictions-and-issues","/cloudlinux_installation/#uninstalling":"/cloudlinuxos/cloudlinux_installation/#uninstalling","/cloudlinux_os_components/#customize-lve-stats2-notifications":"/cloudlinuxos/cloudlinux_os_components/#customize-lve-stats2-notifications","/cloudlinux_os_components/#installation-enabling-and-disabling":"/cloudlinuxos/command-line_tools/#cagefs","/cloudlinux-os-plus/#faq-2":"/cloudlinuxos/shared-pro/#faq-2","/cloudlinux-os-plus/#installation-2":"/cloudlinuxos/shared-pro/#installation-1","/cloudlinux-os-plus/#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do":"/cloudlinuxos/shared-pro/#i-started-a-tracing-task-and-made-requests-to-url-but-did-not-see-any-results-in-the-ui-what-should-i-do","/control_panel_integration/#mysql-governor":"/cloudlinuxos/control_panel_integration/#mysql-governor","/control_panel_integration/#the-list-of-the-integration-scripts":"/cloudlinuxos/control_panel_integration/#the-list-of-the-integration-scripts","/ffmpeg":"/cloudlinuxos/cloudlinux_os_components/#ffmpeg","/limits/#limits-validation":"/cloudlinuxos/limits/#limits-validation","/php_selector/#litespeed-support":"/cloudlinuxos/cloudlinux_os_components/#litespeed-support","/python_selector":"/cloudlinuxos/cloudlinux_os_components/#python-selector","/python_selector/#installation":"/cloudlinuxos/cloudlinux_os_components/#installation-1","/user-docs/user-docs-shared-cloudlinux/#acceleratewp":"/user-docs/user-docs-shared-pro-cloudlinux/#acceleratewp","/cloudlinux-os-plus":"/cloudlinuxos/shared-pro/","/cloudlinuxos":"/cloudlinuxos/cloudlinux_installation/#installation","/shared":"/cloudlinuxos/","/shared-pro/accelerate-wp/#set-upgrade-url-for-cdn":"/cloudlinuxos/shared-pro/#set-upgrade-url-for-cdn","/shared-pro/":"/cloudlinuxos/shared-pro/","/cloudlinuxos-pro/introduction/":"/cloudlinuxos/shared-pro/#introduction","/shared-pro/accelerate-wp":"/cloudlinuxos/shared-pro/#acceleratewp","/cloudlinuxos/shared-pro/accelerate-wp/":"/cloudlinuxos/shared-pro/#acceleratewp","/solo/introduction/":"/introduction/solo/","/solo/activation/":"/introduction/solo/#license-activation","/solo/faq/":"/introduction/solo/#faq","/admin/description/":"/introduction/admin/","/admin/installation/":"/introduction/admin/#licensing","/admin/components/":"/introduction/admin/#components","/admin/faq/":"/introduction/admin/#faq","/introduction/":"/introduction/cloudlinux-os-editions/","/introduction/#cloudlinux-os-life-cycle":"/introduction/cloudlinux-os-editions/#cloudlinux-os-life-cycle","/introduction/#cloudlinux-9":"/cloudlinuxos/cloudlinux_installation/#requirements","/cloudlinuxos/apache2nginx/":"/cloudlinuxos/max_webserver/"};
        
        // Function to normalize a URL by removing a trailing slash and leading characters
        function normalizeUrl(url) {
          url = url.endsWith('/') ? url.slice(0, -1) : url;
          url = url.startsWith('/') ? url.slice(1) : url;
          url = url.startsWith('?') ? url.slice(1) : url;
          return url;
        }
    
        var currentPath = window.location.pathname + window.location.search + window.location.hash;
        currentPath = normalizeUrl(currentPath);
    
        for (var route_url in routes) {
          if (normalizeUrl(route_url) === currentPath) {
            window.location.href = routes[route_url];
            break; // Exit the loop after redirecting
          }
        }
      })();
      </script><script>
        (function() {
          // Trigger the scroll event without actually scrolling
          function triggerScrollEvent() {
            const targetElement = window;
            const scrollEvent = new Event('scroll', {
              bubbles: true,
              cancelable: true,
            });
            targetElement.dispatchEvent(scrollEvent);
          }
  
          // Call the triggerScrollEvent and scrollBodyDown functions after the page is fully loaded
          window.addEventListener('load', () => {
            triggerScrollEvent();
          });
        })();
      </script><title>ELevate</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-bacbc22d.css" as="style"><link rel="stylesheet" href="/assets/style-bacbc22d.css">
    <link rel="modulepreload" href="/assets/app-592dd57e.js"><link rel="modulepreload" href="/assets/framework-dd156d1c.js"><link rel="modulepreload" href="/assets/index.html-1da73dee.js"><link rel="modulepreload" href="/assets/index.html-41ec7480.js"><link rel="prefetch" href="/assets/index.html-3b293775.js" as="script"><link rel="prefetch" href="/assets/index.html-6df021ce.js" as="script"><link rel="prefetch" href="/assets/index.html-5f5b585a.js" as="script"><link rel="prefetch" href="/assets/index.html-ac8928eb.js" as="script"><link rel="prefetch" href="/assets/convert.html-f72b4278.js" as="script"><link rel="prefetch" href="/assets/index.html-81fdb6dc.js" as="script"><link rel="prefetch" href="/assets/index.html-b1035221.js" as="script"><link rel="prefetch" href="/assets/conversion.html-d288c2ad.js" as="script"><link rel="prefetch" href="/assets/index.html-8f2405df.js" as="script"><link rel="prefetch" href="/assets/index.html-8c5ecf17.js" as="script"><link rel="prefetch" href="/assets/index.html-cc8131a7.js" as="script"><link rel="prefetch" href="/assets/index.html-faa1c9ca.js" as="script"><link rel="prefetch" href="/assets/regular.html-3b7030a1.js" as="script"><link rel="prefetch" href="/assets/reseller.html-57f304ce.js" as="script"><link rel="prefetch" href="/assets/index.html-eafa4c34.js" as="script"><link rel="prefetch" href="/assets/index.html-92c4383f.js" as="script"><link rel="prefetch" href="/assets/index.html-b8f45164.js" as="script"><link rel="prefetch" href="/assets/index.html-ec2bd0a3.js" as="script"><link rel="prefetch" href="/assets/index.html-143f0ae3.js" as="script"><link rel="prefetch" href="/assets/index.html-bf8a75b9.js" as="script"><link rel="prefetch" href="/assets/index.html-d2a995f2.js" as="script"><link rel="prefetch" href="/assets/index.html-4bcf3d6e.js" as="script"><link rel="prefetch" href="/assets/index.html-ef4e2bb6.js" as="script"><link rel="prefetch" href="/assets/index.html-8785f9a0.js" as="script"><link rel="prefetch" href="/assets/index.html-2d6a804d.js" as="script"><link rel="prefetch" href="/assets/index.html-7bf33f8f.js" as="script"><link rel="prefetch" href="/assets/index.html-5205b84f.js" as="script"><link rel="prefetch" href="/assets/index.html-cf3e6950.js" as="script"><link rel="prefetch" href="/assets/whmcs_saved.html-44210070.js" as="script"><link rel="prefetch" href="/assets/index.html-ef33aada.js" as="script"><link rel="prefetch" href="/assets/index.html-1a901f49.js" as="script"><link rel="prefetch" href="/assets/index.html-63b1f8dd.js" as="script"><link rel="prefetch" href="/assets/index.html-7ad21d0c.js" as="script"><link rel="prefetch" href="/assets/index.html-06621422.js" as="script"><link rel="prefetch" href="/assets/index.html-81beb05e.js" as="script"><link rel="prefetch" href="/assets/index.html-70efdd1b.js" as="script"><link rel="prefetch" href="/assets/index.html-fac878d6.js" as="script"><link rel="prefetch" href="/assets/index.html-8549ea48.js" as="script"><link rel="prefetch" href="/assets/index.html-781941ff.js" as="script"><link rel="prefetch" href="/assets/index.html-f0fd3107.js" as="script"><link rel="prefetch" href="/assets/index.html-4b035f13.js" as="script"><link rel="prefetch" href="/assets/index.html-63fea01f.js" as="script"><link rel="prefetch" href="/assets/index.html-296cc19b.js" as="script"><link rel="prefetch" href="/assets/index.html-3f4cbfef.js" as="script"><link rel="prefetch" href="/assets/index.html-ad9ff012.js" as="script"><link rel="prefetch" href="/assets/index.html-84ce9456.js" as="script"><link rel="prefetch" href="/assets/404.html-e0575d4e.js" as="script"><link rel="prefetch" href="/assets/index.html-2d2e15a0.js" as="script"><link rel="prefetch" href="/assets/index.html-95029f41.js" as="script"><link rel="prefetch" href="/assets/index.html-239d3e4c.js" as="script"><link rel="prefetch" href="/assets/index.html-7eb0774a.js" as="script"><link rel="prefetch" href="/assets/convert.html-c5b02693.js" as="script"><link rel="prefetch" href="/assets/index.html-c01f28b0.js" as="script"><link rel="prefetch" href="/assets/index.html-23f0e9d9.js" as="script"><link rel="prefetch" href="/assets/conversion.html-4931f873.js" as="script"><link rel="prefetch" href="/assets/index.html-67a00f90.js" as="script"><link rel="prefetch" href="/assets/index.html-e8f408fb.js" as="script"><link rel="prefetch" href="/assets/index.html-0b5bb9d8.js" as="script"><link rel="prefetch" href="/assets/index.html-416551eb.js" as="script"><link rel="prefetch" href="/assets/regular.html-727e3287.js" as="script"><link rel="prefetch" href="/assets/reseller.html-1ad4daef.js" as="script"><link rel="prefetch" href="/assets/index.html-235aa62c.js" as="script"><link rel="prefetch" href="/assets/index.html-68da1cef.js" as="script"><link rel="prefetch" href="/assets/index.html-d46e973b.js" as="script"><link rel="prefetch" href="/assets/index.html-f589b3b2.js" as="script"><link rel="prefetch" href="/assets/index.html-18f6a390.js" as="script"><link rel="prefetch" href="/assets/index.html-1f3da4e2.js" as="script"><link rel="prefetch" href="/assets/index.html-92be9bef.js" as="script"><link rel="prefetch" href="/assets/index.html-de6937d2.js" as="script"><link rel="prefetch" href="/assets/index.html-d7184692.js" as="script"><link rel="prefetch" href="/assets/index.html-10ff2e04.js" as="script"><link rel="prefetch" href="/assets/index.html-aa840e1d.js" as="script"><link rel="prefetch" href="/assets/index.html-b2d7b92c.js" as="script"><link rel="prefetch" href="/assets/index.html-b89c8e27.js" as="script"><link rel="prefetch" href="/assets/index.html-7f6654eb.js" as="script"><link rel="prefetch" href="/assets/whmcs_saved.html-94ab76c4.js" as="script"><link rel="prefetch" href="/assets/index.html-8641f2a0.js" as="script"><link rel="prefetch" href="/assets/index.html-2fa95f1b.js" as="script"><link rel="prefetch" href="/assets/index.html-c84a75eb.js" as="script"><link rel="prefetch" href="/assets/index.html-16b21d93.js" as="script"><link rel="prefetch" href="/assets/index.html-d7989310.js" as="script"><link rel="prefetch" href="/assets/index.html-054e512e.js" as="script"><link rel="prefetch" href="/assets/index.html-5fa5155c.js" as="script"><link rel="prefetch" href="/assets/index.html-2c2dfb23.js" as="script"><link rel="prefetch" href="/assets/index.html-04c701c3.js" as="script"><link rel="prefetch" href="/assets/index.html-9e8a5565.js" as="script"><link rel="prefetch" href="/assets/index.html-5d4e249d.js" as="script"><link rel="prefetch" href="/assets/index.html-d84cb147.js" as="script"><link rel="prefetch" href="/assets/index.html-66cd7b98.js" as="script"><link rel="prefetch" href="/assets/index.html-d83c55c6.js" as="script"><link rel="prefetch" href="/assets/index.html-0f9b9ad5.js" as="script"><link rel="prefetch" href="/assets/index.html-8ce3571d.js" as="script"><link rel="prefetch" href="/assets/index.html-a64109ea.js" as="script"><link rel="prefetch" href="/assets/404.html-2ec8d8e0.js" as="script"><link rel="prefetch" href="/assets/vue-bot-ui.common-d7beca41.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar fixed"><div class="navbar-header"><div class="navbar-header__logo-wrapper"><a href="/" class="home-link"><img class="logo" src="/global/logo.svg" alt="logo header"></a><div class="header-layout__search-container header-mobile__hidden"><!----><form id="search-form" class="drawer-header__input"><input type="text" value="" id="algolia-search-input" placeholder="Search" class="header-layout__search-default" maxlength="100"><div class="header-layout__search-icon-default"><img alt="search icon" src="/global/search.svg"><!----></div></form><div><div class="drawer"><div class="drawer-header"><div class="drawer-header__wrapper"><h2 class="drawer-header__paragraph">How can we help you?</h2><div id="drawerSearch"></div></div><div class="drawer-cross"><img class="drawer-cross__img" src="/global/cross.svg" alt="cross"><p class="drawer-cross__text">close</p></div></div><main><div class="drawer-main"><div class="drawer-main__wrapper"><div class="drawer-main__breadcrumb"><!-- Optional breadcrumb can stay here --></div><div><p class="no_results">Please type your search query, then press Enter or click the search button.</p></div></div></div><!----></main></div><!----></div></div></div><div class="links" style="max-width:nullpx;"><img class="navbar-header__mobile-search" src="/global/search.svg" alt="icon image"><div class="header-products-wrapper"><div class="dropdown"><!----><!----><div class="header-products-container"><img class="header-products-container__img" alt="hamburger menu" src="/global/hamburger-menu.svg"><p class="header-products-wrapper-paragraph">Products</p><img class="products-icon__default" width="10" height="8" src="/arrows/arrow-down.svg" alt="arrow down icon"></div></div></div><!--[--><a target="_blank" class="btn">Ask GPT?</a><a href="https://www.cloudlinux.com/support-portal/" target="_blank" class="btn">Submit support request</a><a href="https://cloudlinux.com/trial" target="_blank" class="btn btn-white">Try Free</a><!--]--></div></div><!----></header><!----><div class="page"><!--[--><!--]--><div class="breadcrumb-wrapper page-breadcrumb" data-v-9445381a><span class="breadcrumb-title" data-v-9445381a>Documentation:</span><!--[--><a aria-current="page" href="/cloudlinuxos/elevate/" class="router-link-active router-link-exact-active breadcrumb" data-v-9445381a>ELevate</a><!--]--></div><img class="page-mobile__sidebar-menu" src="/global/sidebar-menu.svg" alt="sidebar hamburger menu"><div class="page-nav-wrapper"><!----></div><div class="content" custom="false"><h1 id="elevate" tabindex="-1"><a class="header-anchor" href="#elevate" aria-hidden="true">#</a> ELevate</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#faq" class="router-link-active router-link-exact-active">FAQ</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#what-is-elevate" class="router-link-active router-link-exact-active">What is ELevate?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#is-it-ready-for-production-use" class="router-link-active router-link-exact-active">Is it ready for production use?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#can-it-break-something-on-my-system" class="router-link-active router-link-exact-active">Can it break something on my system?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#will-it-upgrade-everything-i-have-on-my-system" class="router-link-active router-link-exact-active">Will it upgrade everything I have on my system?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#what-packages-can-i-expect-to-be-upgraded" class="router-link-active router-link-exact-active">What packages can I expect to be upgraded?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#will-it-interrupt-my-server-s-functionality" class="router-link-active router-link-exact-active">Will it interrupt my server&#39;s functionality?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#how-long-does-it-take" class="router-link-active router-link-exact-active">How long does it take?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#how-do-i-use-it" class="router-link-active router-link-exact-active">How do I use it?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#i-ran-into-a-problem-during-the-upgrade-process-what-do-i-do" class="router-link-active router-link-exact-active">I ran into a problem during the upgrade process, what do I do?</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#the-troubleshooting-section-doesn-t-have-an-issue-that-i-m-having-what-now" class="router-link-active router-link-exact-active">The Troubleshooting section doesn&#39;t have an issue that I&#39;m having. What now?</a></li></ul></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#troubleshooting" class="router-link-active router-link-exact-active">Troubleshooting</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#common-issues" class="router-link-active router-link-exact-active">Common issues</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#elevate-cpanel-scenario-issues" class="router-link-active router-link-exact-active">ELevate cPanel Scenario issues</a></li></ul></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#known-issues" class="router-link-active router-link-exact-active">Known issues</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#web-servers" class="router-link-active router-link-exact-active">Web servers</a></li></ul></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#contribution" class="router-link-active router-link-exact-active">Contribution</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#extending-cloudlinux-elevate-to-support-new-components-system-types" class="router-link-active router-link-exact-active">Extending CloudLinux Elevate to support new components/system types</a></li></ul></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#elevate-scenario-cloudlinux-7-with-no-panel-or-a-custom-panel" class="router-link-active router-link-exact-active">ELevate Scenario - CloudLinux 7 with no panel or a custom panel</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#pre-upgrade" class="router-link-active router-link-exact-active">Pre-upgrade</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#transaction-configuration-files" class="router-link-active router-link-exact-active">Transaction Configuration Files</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#upgrade" class="router-link-active router-link-exact-active">Upgrade</a></li></ul></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#elevate-scenario-cloudlinux-7-with-cpanel" class="router-link-active router-link-exact-active">ELevate Scenario - CloudLinux 7 with cPanel</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#upgrade-process-overview" class="router-link-active router-link-exact-active">Upgrade process overview</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#preparing" class="router-link-active router-link-exact-active">Preparing</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#running" class="router-link-active router-link-exact-active">Running</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#post-upgrade" class="router-link-active router-link-exact-active">Post-upgrade</a></li></ul></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#elevate-scenario-cloudlinux-7-with-plesk" class="router-link-active router-link-exact-active">ELevate Scenario - CloudLinux 7 with Plesk</a><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#preparation" class="router-link-active router-link-exact-active">Preparation</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#running-1" class="router-link-active router-link-exact-active">Running</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#monitoring-and-troubleshooting" class="router-link-active router-link-exact-active">Monitoring and troubleshooting</a></li><li><a aria-current="page" href="/cloudlinuxos/elevate/#reverting" class="router-link-active router-link-exact-active">Reverting</a></li></ul></li></ul></nav><div class="warning custom-block"><p class="custom-block-title"></p><p>Please note that the CloudLinux Elevate tool is intended specifically for upgrading the CloudLinux OS. Upgrading to CloudLinux directly from a non-CloudLinux OS is <strong>not supported</strong>.</p><p>While it is possible, it requires additional steps to be taken. Refer to <a href="#i-have-a-centos-7-system-i-want-to-migrate-to-cloudlinux-8-can-i-use-your-tool-to-do-so">this documentation section</a> for details.</p></div><div class="warning custom-block"><p class="custom-block-title"></p><p>We disclaim responsibility for incorrect or improper use of the tool. The support team will not be able to help you if you have not followed all the steps described in the documentation or converted a server with an unsupported control panel present.</p><p>In addition, support will not be provided if you have any third-party utilities that do not function after the upgrade, according to <a href="https://www.cloudlinux.com/CloudLinux-and-Imunify-support-policy.pdf" target="_blank" rel="noopener noreferrer">Support policy</a>. Examples: webservers, DNS servers, mail servers, database servers and other utilities that do not belong to our product line.</p></div><h2 id="faq" tabindex="-1"><a class="header-anchor" href="#faq" aria-hidden="true">#</a> FAQ</h2><h3 id="what-is-elevate" tabindex="-1"><a class="header-anchor" href="#what-is-elevate" aria-hidden="true">#</a> What is ELevate?</h3><p>The ELevate project is an initiative to support migrations between major version of RHEL-derivatives.</p><p>The CloudLinux ELevate variant, built on top of the <a href="https://wiki.almalinux.org/elevate/" target="_blank" rel="noopener noreferrer">AlmaLinux ELevate project</a>, aims to provide a streamlined method of upgrading CloudLinux 7 systems to CloudLinux 8 in-place.</p><p>The <a href="https://leapp.readthedocs.io/" target="_blank" rel="noopener noreferrer">Leapp utility</a> is the main tool used to perform the upgrade.</p><p>The <a href="#elevate-scenario-cloudlinux-7-with-cpanel">ELevate Scenario - CloudLinux 7 with cPanel</a> uses the <a href="https://github.com/cpanel/elevate" target="_blank" rel="noopener noreferrer">cPanel ELevate</a> project as an additional layer of the upgrade process.</p><p>The <a href="#elevate-scenario-cloudlinux-7-with-plesk">ELevate Scenario - CloudLinux 7 with Plesk</a> also uses an additional layer - the <a href="https://github.com/plesk/cloudlinux7to8" target="_blank" rel="noopener noreferrer">cloudlinux7to8</a> project.</p><p>ELevate is a project aimed to provide the ability to migrate between major versions of RHEL-based distributions from 7.x to 8.x. It combines Red Hat&#39;s Leapp framework with a community created library and service for the migration metadata set required for it.</p><h3 id="is-it-ready-for-production-use" tabindex="-1"><a class="header-anchor" href="#is-it-ready-for-production-use" aria-hidden="true">#</a> Is it ready for production use?</h3><p>While the ELevate project and its surrounding ecosystem is mature, support for CloudLinux has been introduced more recently.</p><p>We guarantee functionality of CloudLinux products and services on the post-upgrade system. You are welcome to contact CloudLinux Support with any issues that occur with said products.</p><p>However, we cannot guarantee that the third-party software and RPM packages will be updated correctly on all system configurations. <a href="#will-it-upgrade-everything-i-have-on-my-system">See below</a>.</p><p>Systems with configurations and packages that substantially differ from a typical CloudLinux 7 installation could encounter issues previously not seen before.</p><h3 id="can-it-break-something-on-my-system" tabindex="-1"><a class="header-anchor" href="#can-it-break-something-on-my-system" aria-hidden="true">#</a> Can it break something on my system?</h3><p>It can.</p><p>A full system upgrade is an inherently invasive procedure. In some cases, due to different system configurations, package errors or even power failures, you may encounter issues during the upgrade process that can&#39;t be automatically recovered from.</p><p>Said issues may be severe, <strong><font color="Red">up to and including rendering the system completely inaccessible.</font></strong></p><p>In addition, in some cases the conversion process may get stuck once the server boots into a temporary configuration that does not start any network interfaces. It is preferable to have a way to access the server without an SSH connection, for example, through VNC.</p><p>The upgrade process itself is not designed to be reversible. While some of the changes can be undone, the process of reverting the system to its pre-upgrade state varies depending on the system&#39;s configuration and the point at which the upgrade failed. Thus, restoring the system from a backup is the most reliable way to recover from a failed upgrade.</p><p>Due to all of the potential risks involved, we <strong>highly recommend never running ELevate on a system without a full server backup/snapshot ready</strong>.</p><p>Ideally, perform a trial run in a disposable environment, like a VM or a sandbox, to verify that migration functions as expected before you attempt to migrate a system.</p><h3 id="will-it-upgrade-everything-i-have-on-my-system" tabindex="-1"><a class="header-anchor" href="#will-it-upgrade-everything-i-have-on-my-system" aria-hidden="true">#</a> Will it upgrade everything I have on my system?</h3><p>It depends. ELevate will not upgrade arbitrary software, especially one that isn&#39;t related to CloudLinux or a supported control panel.</p><p>The ELevate project only supports a subset of package repositories it&#39;s aware of - that is, package repositories that are included in its configuration files.</p><p>Packages from repositories Leapp is unaware of <strong>will not be upgraded</strong>.</p><p>It&#39;s possible to add missing repositories and packages to ELevate yourself, if you&#39;re so inclined. Please check the <a aria-current="page" href="/cloudlinuxos/elevate/#contribution" class="router-link-active router-link-exact-active">Contribution</a> section for more information on how to do so.</p><h3 id="what-packages-can-i-expect-to-be-upgraded" tabindex="-1"><a class="header-anchor" href="#what-packages-can-i-expect-to-be-upgraded" aria-hidden="true">#</a> What packages can I expect to be upgraded?</h3><p>Aside from CloudLinux and AlmaLinux packages, the CloudLinux Elevate includes the extendable &quot;vendors&quot; mechanism that contains migration data for some frequently used third-party system components.</p><p>That migration data is only activated when the corresponding package repositories are present and enabled on the pre-upgrade system.</p><p>Some of the vendors shipping by default include:</p><ul><li>Imunify360 and KernelCare</li><li>EPEL (Extra Packages for Enterprise Linux)</li></ul><h3 id="will-it-interrupt-my-server-s-functionality" tabindex="-1"><a class="header-anchor" href="#will-it-interrupt-my-server-s-functionality" aria-hidden="true">#</a> Will it interrupt my server&#39;s functionality?</h3><p>Yes.</p><p>One of the major steps of the upgrade process involves rebooting into a custom <code>initramfs</code> environment, from which the system&#39;s software is upgraded. During that period of time, the system will be mostly non-functional and inaccessible.</p><p>This stage may take <strong>up to an hour</strong>, so schedule the upgrade accordingly.</p><p>During the preparation stages - that is, when the upgrade process is first <em>initiated</em> and before the system is rebooted - the system&#39;s services will function normally.</p><p>Note that different upgrade scenarios behave somewhat differently during the preparation stage. For example, the cPanel scenario will disable the site functionality from the inital stage up until completion, while the no-panel/custom panel scenario will not.</p><h3 id="how-long-does-it-take" tabindex="-1"><a class="header-anchor" href="#how-long-does-it-take" aria-hidden="true">#</a> How long does it take?</h3><p>Depending on the amount and size of the packages that need to be updated, the upgrade process may take a long time, up to several hours. This time also varies with the machine&#39;s resources and the speed of internet connection.</p><p>If the machine remains unresponsive for more than 2 hours after rebooting, assume the upgrade process failed during the post-reboot phase, and the machine cannot return to normal functionality automatically.</p><h3 id="how-do-i-use-it" tabindex="-1"><a class="header-anchor" href="#how-do-i-use-it" aria-hidden="true">#</a> How do I use it?</h3><p>Depending on the web panel you have installed on your system, the upgrade process will require different steps.</p><p>At the moment, ELevate migration from CloudLinux 7 to CloudLinux 8 is supported on:</p><ul><li><em>no panel/custom panel</em> systems;</li><li><em>cPanel</em> systems.</li><li><em>DirectAdmin</em> systems.</li><li><em>Plesk</em> systems.</li></ul><h4 id="i-have-a-cl7-system-with-no-webpanel-a-custom-webpanel-installed-how-do-i-upgrade-to-cl8" tabindex="-1"><a class="header-anchor" href="#i-have-a-cl7-system-with-no-webpanel-a-custom-webpanel-installed-how-do-i-upgrade-to-cl8" aria-hidden="true">#</a> I have a CL7 system with no webpanel/a custom webpanel installed, how do I upgrade to CL8?</h4><p>In such case, you can upgrade through the Leapp tool directly.</p><p>Please refer to the <a href="#elevate-scenario-cloudlinux-7-with-no-panel-or-a-custom-panel">CloudLinux 7 with no panel/custom panel ELevate Scenario</a> for step-by-step instructions.</p><h4 id="i-have-a-cl7-system-with-cpanel-installed-how-do-i-upgrade-to-cl8" tabindex="-1"><a class="header-anchor" href="#i-have-a-cl7-system-with-cpanel-installed-how-do-i-upgrade-to-cl8" aria-hidden="true">#</a> I have a CL7 system with cPanel installed, how do I upgrade to CL8?</h4><p>With cPanel present on the machine, you need to run the upgrade process through the <code>elevate-cpanel</code> tool.</p><p>Please refer to the <a href="#elevate-scenario-cloudlinux-7-with-cpanel">ELevate Scenario - CloudLinux 7 with cPanel</a> for step-by-step instructions.</p><h4 id="i-have-a-cl7-system-with-directadmin-installed-how-do-i-upgrade-to-cl8" tabindex="-1"><a class="header-anchor" href="#i-have-a-cl7-system-with-directadmin-installed-how-do-i-upgrade-to-cl8" aria-hidden="true">#</a> I have a CL7 system with DirectAdmin installed, how do I upgrade to CL8?</h4><p>The DirectAdmin panel does not require any additional actions or tools compared to the no-panel upgrade scenario.</p><p>You can make use of the <a href="#elevate-scenario-cloudlinux-7-with-no-panel-or-a-custom-panel">CloudLinux 7 with no panel/custom panel ELevate Scenario</a> to upgrade systems with the DirectAdmin panel much like you would for systems without one.</p><h4 id="i-have-a-cl7-system-with-plesk-installed-how-do-i-upgrade-to-cl8" tabindex="-1"><a class="header-anchor" href="#i-have-a-cl7-system-with-plesk-installed-how-do-i-upgrade-to-cl8" aria-hidden="true">#</a> I have a CL7 system with Plesk installed, how do I upgrade to CL8?</h4><p>Like cPanel, the Plesk panel requires you to make use of an additional tool to perform the upgrade on a system. In this case, you need to use the <code>cloudlinux7to8</code> tool <a href="https://github.com/plesk/cloudlinux7to8" target="_blank" rel="noopener noreferrer">provided by the Plesk team</a>.</p><p>Please refer to the <a href="#elevate-scenario-cloudlinux-7-with-plesk">ELevate Scenario - CloudLinux 7 with Plesk</a> for step-by-step instructions.</p><h4 id="i-have-a-cl7-system-with-a-different-panel-installed-how-do-i-upgrade-to-cl8" tabindex="-1"><a class="header-anchor" href="#i-have-a-cl7-system-with-a-different-panel-installed-how-do-i-upgrade-to-cl8" aria-hidden="true">#</a> I have a CL7 system with a different panel installed, how do I upgrade to CL8?</h4><p>Unfortunately, CloudLinux ELevate doesn&#39;t support these system configurations yet.</p><p>Instead, you can create a new machine with CloudLinux 8 and migrate your system&#39;s license and configuration to it.</p><p>Please refer to the following documentation links for instructions on how to do so:</p><ul><li><a href="https://cloudlinux.zendesk.com/hc/en-us/articles/115004277894-How-to-Backup-Migrate-All-CloudLinux-Settings-to-Another-Server" target="_blank" rel="noopener noreferrer">How to Backup &amp; Migrate All CloudLinux Settings to Another Server</a></li><li><a href="https://cloudlinux.zendesk.com/hc/en-us/articles/115004517465" target="_blank" rel="noopener noreferrer">How to Restore PHP Selector Options</a></li><li><a href="https://cloudlinux.zendesk.com/hc/en-us/articles/115003888573-How-to-obtain-activation-keys-register-and-migrate-servers" target="_blank" rel="noopener noreferrer">How to obtain activation keys, register and migrate servers</a></li></ul><h4 id="i-have-a-centos-7-system-i-want-to-migrate-to-cloudlinux-8-can-i-use-your-tool-to-do-so" tabindex="-1"><a class="header-anchor" href="#i-have-a-centos-7-system-i-want-to-migrate-to-cloudlinux-8-can-i-use-your-tool-to-do-so" aria-hidden="true">#</a> I have a CentOS 7 system I want to migrate to CloudLinux 8, can I use your tool to do so?</h4><p>Not in a single step. The CloudLinux Elevate tool specifically targets the upgrade path of CloudLinux 7 to CloudLinux 8, and trying to use a different OS as a starting point is unlikely to end well.</p><p>If you have a non-CloudLinux OS you wish to upgrade, you have the following options available:</p><ul><li><a href="/cloudlinuxos/cloudlinux_installation/#converting-existing-servers" class="">Convert your system to CloudLinux 7 normally</a>, then use the CloudLinux Elevate tool to migrate it to CloudLinux 8.</li><li>If you&#39;re using a CentOS 7 system without a panel, use the <a href="https://almalinux.org/elevate/" target="_blank" rel="noopener noreferrer">AlmaLinux Elevate</a> tool to upgrade it to AlmaLinux 8, then <a href="/cloudlinuxos/cloudlinux_installation/#converting-existing-servers" class="">convert it to CloudLinux normally</a>.</li><li>If you&#39;re using cPanel, you&#39;ll need to use the <a href="https://cpanel.github.io/elevate/" target="_blank" rel="noopener noreferrer">cPanel Elevate</a> tool instead. Use it to upgrade your system to AlmaLinux 8 + cPanel, then <a href="/cloudlinuxos/cloudlinux_installation/#converting-existing-servers" class="">convert it to CloudLinux normally</a>.</li></ul><div class="warning custom-block"><p class="custom-block-title"></p><p>Please note that the Elevate variants (AlmaLinux, cPanel) mentioned above are maintained by third parties. As such, should you encounter problems when using them, you should direct your questions/support requests to the maintainers of the tool you&#39;re using.</p></div><h3 id="i-ran-into-a-problem-during-the-upgrade-process-what-do-i-do" tabindex="-1"><a class="header-anchor" href="#i-ran-into-a-problem-during-the-upgrade-process-what-do-i-do" aria-hidden="true">#</a> I ran into a problem during the upgrade process, what do I do?</h3><p>Please check the Troubleshooting section directly below.</p><h3 id="the-troubleshooting-section-doesn-t-have-an-issue-that-i-m-having-what-now" tabindex="-1"><a class="header-anchor" href="#the-troubleshooting-section-doesn-t-have-an-issue-that-i-m-having-what-now" aria-hidden="true">#</a> The Troubleshooting section doesn&#39;t have an issue that I&#39;m having. What now?</h3><p>First, try to narrow down the most probable source of the issue you&#39;ve encountered, if possible.</p><p>For cPanel-specific issues, <a href="https://github.com/cpanel/elevate/issues" target="_blank" rel="noopener noreferrer">cPanel ELevate issue tracker</a> is the most appropriate place to report them.</p><p>For CloudLinux-specific issues, report them in the <a href="https://github.com/cloudlinux/elevate/issues" target="_blank" rel="noopener noreferrer">CloudLinux ELevate issue tracker</a> or contact CloudLinux Support with a description of the encountered problem.</p><p>For issues with the underlying Leapp framework, report them in the <a href="https://github.com/AlmaLinux/leapp-repository/issues" target="_blank" rel="noopener noreferrer">AlmaLinux Leapp repository issue tracker</a>.</p><p>When filing an issue, include:</p><ul><li>Steps to reproduce the issue</li><li>All files in <code>/var/log/leapp</code></li><li><code>/var/lib/leapp/leapp.db</code></li><li>journalctl</li><li>If using the CloudLinux 7 with cPanel scenario, <code>/var/log/elevate-cpanel.log</code></li><li>If you want, you can also send anything else would you like to provide (e.g. storage info)</li></ul><p><strong>For your convenience you can pack all logs with this command:</strong></p><p><code># tar -czf leapp-logs.tgz /var/log/leapp /var/lib/leapp/leapp.db</code></p><p>Then you may attach only the <code>leapp-logs.tgz</code> file.</p><p>For the no-panel scenario: before gathering data, if possible, re-run the <em>leapp</em> command that encountered an issue with the <code>--debug</code> flag, e.g.: <code>leapp upgrade --debug</code>.</p><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting" aria-hidden="true">#</a> Troubleshooting</h2><p>Here is a list of common problems you may encounter during the upgrade attempt.</p><h3 id="common-issues" tabindex="-1"><a class="header-anchor" href="#common-issues" aria-hidden="true">#</a> Common issues</h3><p>These issues may be encountered during any ELevate Scenario.</p><h4 id="newest-kernel" tabindex="-1"><a class="header-anchor" href="#newest-kernel" aria-hidden="true">#</a> Newest kernel</h4><p>The preupgrade/upgrade process may halt with the following message:</p><blockquote><p>Inhibitor: Newest installed kernel not in use</p></blockquote><p>Make sure your system is running the latest kernel before proceeding with the upgrade. If you updated the system recently, a reboot may be sufficient to do so. Otherwise, edit your Grub configuration accordingly.</p><h4 id="kernel-modules-deprecated" tabindex="-1"><a class="header-anchor" href="#kernel-modules-deprecated" aria-hidden="true">#</a> Kernel modules deprecated</h4><p>Some kernel modules are deprecated in the CloudLinux 8 major versions. To proceed with the upgade, unload them. Leapp will advise on the list of modules to be removed.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rmmod floppy pata_acpi btrfs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="package-repository-defined-multiple-times" tabindex="-1"><a class="header-anchor" href="#package-repository-defined-multiple-times" aria-hidden="true">#</a> Package repository defined multiple times</h4><p>You may encounter the following error message when attempting to upgrade:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Inhibitor: A YUM/DNF repository defined multiple times
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Refer to the <code>/var/log/leapp/leapp-report.txt</code> for the details on the repository in question.</p><p>To correct the issue, examine your yum reposiory configuration and clear out any dupicate entries before restarting the upgrade process.</p><h4 id="package-upgrades-being-pulled-from-incorrect-repositories" tabindex="-1"><a class="header-anchor" href="#package-upgrades-being-pulled-from-incorrect-repositories" aria-hidden="true">#</a> Package upgrades being pulled from incorrect repositories</h4><p>You may find that some packages on your system are listed in the preupgrade report in the message &quot;Packages not signed by a known packager found on the system&quot;.</p><p>This may mean two things:</p><ul><li>that the packages listed are indeed unknown to Leapp, and cannot be included in the upgrade process, or;</li><li>that the corresponding package repositories were not recognized and the vendors mechanism could not be set up properly as a result.</li></ul><p>Make sure that all of the package repositories relevant to the current system state are present and enabled before proceeding with the upgrade. That will ensure that the Leapp tool correctly maps the source repositories to the target ones, and includes everything available into the migration process accordingly.</p><p>Keep in mind that known vendor repositories must be enabled in order for the packages from them to be included into the upgrade.</p><h4 id="sshd-config-default-mismatch" tabindex="-1"><a class="header-anchor" href="#sshd-config-default-mismatch" aria-hidden="true">#</a> SSHD config default mismatch</h4><p>If your OpenSSH configuration file does not explicitly state the option PermitRootLogin in sshd_config file, this upgrade inhibitor will apperar.</p><p>The option&#39;s default is &quot;yes&quot; in RHEL7, but will change in RHEL8 to &quot;prohibit-password&quot;, which may affect your ability to log onto this machine after the upgrade.</p><p>To prevent this from occuring, set the PermitRootLogin option explicity to preserve the default behaivour after migration:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>echo PermitRootLogin yes | sudo tee -a /etc/ssh/sshd_config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Alternatively, configure the SSHD so that the option is present explicitly, without leaving it to the default behaviour.</p><h4 id="disabling-pam-modules" tabindex="-1"><a class="header-anchor" href="#disabling-pam-modules" aria-hidden="true">#</a> Disabling PAM modules</h4><p>PAM module pam_pkcs11 is no longer available in RHEL-8 since it was replaced by SSSD. Leaving this module in PAM configuration may lock out the system.</p><p>Allow Leapp to disable the pam_pkcs11 module in PAM configuration by adding an entry to the Leapp answerfile:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo leapp answer --section remove_pam_pkcs11_module_check.confirm=True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="cln-registration" tabindex="-1"><a class="header-anchor" href="#cln-registration" aria-hidden="true">#</a> CLN registration</h4><p>Should you encounter an issue with the <code>switch_cln_channel</code> actor, make sure that your system is registered with the CLN network.</p><p><code>rhn_check; echo $?</code></p><p>If it is not, you may want to force a <a href="/cloudlinuxos/cloudlinux_installation/#license-activation" class="">re-registration.</a></p><h4 id="cln-channel-remains-targeting-cl8-after-an-unsuccessful-migration" tabindex="-1"><a class="header-anchor" href="#cln-channel-remains-targeting-cl8-after-an-unsuccessful-migration" aria-hidden="true">#</a> CLN channel remains targeting CL8 after an unsuccessful migration</h4><p>If you roll back a machine after an unsuccessful migration, you may find that your server still pulls package updates from the CLN repository for CL8.</p><p>This will be indicated by upgrades pulling packages from the <code>cloudlinux-x86_64-server-8</code> repository.</p><p>To switch back to the CL7 channel manually, run the following command:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cln-switch-channel -t 7 -o -f
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="dnf-plugin-installation" tabindex="-1"><a class="header-anchor" href="#dnf-plugin-installation" aria-hidden="true">#</a> DNF plugin installation</h4><p>You may encounter issues with Leapp DNF actors failing with the following message: <code>Cannot obtain data about the DNF configuration.</code></p><p>To resolve this problem, ensure that the <strong>dnf config-manager plugin</strong> is installed and is functioning properly.</p><p>If not, enable the corresponding package repository (e.g. <code>centos-extras</code>) and install it.</p><p><code>dnf install &#39;dnf-command(config-manager)&#39;</code></p><h4 id="dnf-transaction-failures" tabindex="-1"><a class="header-anchor" href="#dnf-transaction-failures" aria-hidden="true">#</a> DNF transaction failures</h4><p>The main upgrade transaction is performed while the system is booted into a custom InitRamFS. From there, all the package operations prepared during the previous steps are performed.</p><p>While in this state, the system is inaccessble remotely via SSH. However, it can still be accessed through tools such as VNC.</p><p>In some cases, the upgrade may encounter an unrecoverable error while running the transaction, which can result in the system remaining in a halfway-upgraded, unusable and partially inaccessible state.</p><p>For example, if a package encounters a fatal error inside its <code>%preun</code> or <code>%prein</code> scriptlets during the upgrade, the transaction and the upgrade process may halt, leaving the system in an unusable state.</p><p>It is recommended to remove such packages prior to the upgrade, or, alternatively, add them to the <code>to_keep</code> list (see <em>Transaction Configuration Files</em> section) to prevent Leapp from attempting to upgrade them.</p><h4 id="missing-upgrade-package-files" tabindex="-1"><a class="header-anchor" href="#missing-upgrade-package-files" aria-hidden="true">#</a> Missing upgrade package files</h4><p>In some cases, you may find the upgrade process halting at the main upgrade DNF transaction with a list of error messages similar to the following:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2024-01-01 17:24:55.396 DEBUG    PID: 1053 leapp.workflow.RPMUpgrade.dnf_upgrade_transaction: Error opening /var/cache/dnf/almalinux8-baseos-f11d00b8ca777dac/packages/alt-php82-newrelic-10.16.0.5-1.el8.x86_64.rpm: No such file or directory
2024-01-01 17:24:55.410 DEBUG    PID: 1053 leapp.workflow.RPMUpgrade.dnf_upgrade_transaction: Package &quot;alt-php82-newrelic-10.16.0.5-1.el8.x86_64&quot; from repository &quot;almalinux8-baseos&quot; has incorrect checksum
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>In the known possible error scenario, this problem occurs when the upgrade packages were downloaded from CLN-provided package repositories, but CLN was then disabled due to a registration/networking error encountered.</p><p>Check the version of the dnf-plugin-spacewalk being installed into the isolated upgrade environment in the logs. Its release must be either <code>cloudlinux.2.leapp.2</code>, or <code>cloudlinux.5</code> and above for the CLN/upgrade integration functionality.</p><p>Also, make sure that the following line is present:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>leapp.workflow.RPMUpgrade.dnf_upgrade_transaction: Leapp upgrade is running - using cache.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If neither of those appear to be the problem, its source may be different from the known one. Please contact support for further assistance.</p><h3 id="elevate-cpanel-scenario-issues" tabindex="-1"><a class="header-anchor" href="#elevate-cpanel-scenario-issues" aria-hidden="true">#</a> ELevate cPanel Scenario issues</h3><p>These issues can occur during the upgrade on CloudLinux 7 + cPanel systems.</p><h4 id="post-reboot-dnf-upgrade-error" tabindex="-1"><a class="header-anchor" href="#post-reboot-dnf-upgrade-error" aria-hidden="true">#</a> Post-reboot dnf upgrade error</h4><p>In some system configurations, you may encounter an issue with the <a href="#stage-4">stage 4</a> of the upgrade halting with a message similar to the following:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[INFO] Running: /usr/bin/dnf -y --allowerasing update
[INFO] Error: Failed to download metadata for repo &#39;cloudlinux-base&#39;: Cannot download repomd.xml: Cannot download repodata/repomd.xml: All mirrors were tried
[INFO] Sending notification: Fail to update to CloudLinux 8
[ERROR] The elevation process failed during stage 4.
[ERROR]
[ERROR] You can continue the process after fixing the errors by running:
[ERROR]
[ERROR]     /usr/local/cpanel/scripts/elevate-cpanel --continue
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That most commonly occurs in two cases:</p><ul><li>When a package repository configuration file not associated with any RPM packages can no longer be accessed on the post-upgrade system due to the changes in Yum variables, like the OS version;</li><li>When a package repository configuration file associated with a RPM package was modified manually, and thus, not upgraded automatically during the process.</li></ul><p>Check the URL/mirrorlist of the mentioned Yum repository. Make sure it&#39;s accessible from the machine. If there&#39;s a related <code>.rpmnew</code> file present, consider replacing the repository config file with it.</p><h4 id="missing-ea-packages-after-the-upgrade" tabindex="-1"><a class="header-anchor" href="#missing-ea-packages-after-the-upgrade" aria-hidden="true">#</a> Missing EA packages after the upgrade</h4><p>You may discover that some, or all EasyApache packages (with the <code>ea-*</code> naming scheme) on your post-upgrade system are missing.</p><p>This outcome will be accompanied by an error message in the upgrade log (/var/log/elevate-cpanel.log) akin to the following:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>* 2023-03-20 15:10:03 (4265) INFO Running: /usr/local/bin/ea_install_profile --install /etc/cpanel/ea4/profiles/custom/current_state_at_2023-03-20_12:22:49.json
* 2023-03-20 15:10:03 (4266) INFO
* 2023-03-20 15:10:17 (4280) INFO  Problem: package ea-apache24-mod_lsapi-1:1.1-64.el8.cloudlinux.x86_64 requires liblsapi &lt; 1:1.1-65, but none of the providers can be installed
* 2023-03-20 15:10:17 (4280) INFO   - cannot install both liblsapi-1:1.1-64.el8.cloudlinux.x86_64 and liblsapi-1:1.1-65.el8.cloudlinux.x86_64
* 2023-03-20 15:10:17 (4280) INFO   - cannot install the best candidate for the job
* 2023-03-20 15:10:17 (4280) INFO The entire output was logged to: /usr/local/cpanel/logs/packman/errors/2023-03-20_15:10:17-1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This happens most frequently when one or more testing repositories were enabled on the pre-upgrade system.</p><p>The Leapp framework attempts to upgrade all packages to their latest available versions - which includes versions available from testing repositories.</p><p>EasyApache packages are not included in Leapp upgrade procedures - they&#39;re removed from the system during the initial upgrade stage and are installed again after Leapp completes the main upgrade transaction. EasyApache packages have strict dependency version requirements, which means that if the installed dependency&#39;s version is too recent, it&#39;ll need to be downgraded.</p><p>However, the tool used to restore the EA packages, <code>ea_install_profile</code>, does not perform downgrades automatically and will instead interrupt the restoration process.</p><p>To resolve the issue:</p><ul><li>First, install the packages listed in the log as problematic manually while downgrading their dependencies as needed.</li><li>Then, run the <code>ea_install_profile</code> command with the exact same arguments as shown in the log.</li></ul><p>In the above example, you&#39;d need to run:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>dnf -y install ea-apache24-mod_lsapi
/usr/local/bin/ea_install_profile --install /etc/cpanel/ea4/profiles/custom/current_state_at_2023-03-20_12:22:49.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="outdated-cpanel-version" tabindex="-1"><a class="header-anchor" href="#outdated-cpanel-version" aria-hidden="true">#</a> Outdated cPanel version</h4><p>You may encounter the following error message when attempting to upgrade:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>This installation of cPanel *YOUR_CPANEL_VERSION* does not appear to be up to date. Please upgrade cPanel to a most recent version.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>You need to have an updated cPanel installation to proceed with the upgrade. Please refer to the <a href="http://httpupdate.cpanel.net/" target="_blank" rel="noopener noreferrer">Latest cPanel &amp; WHM Builds (All Architectures)</a> and ensure you have a cPanel updated to a version from one of the following tiers: STABLE, RELEASE, CURRENT or EDGE.</p><p>LTS versions are not supported.</p><h4 id="easyapache-4-packages" tabindex="-1"><a class="header-anchor" href="#easyapache-4-packages" aria-hidden="true">#</a> EasyApache 4 packages</h4><p>You may encounter the following error message when attempting to upgrade:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[WARN] *** Elevation Blocker detected: ***
  One or more EasyApache 4 package(s) are not compatible with CloudLinux 8.
  Please remove these packages before continuing the update.
  - ea-apache24-mod-unsupported-package
  - ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Review and remove the listed EasyApache packages, then restart the process.</p><h4 id="unsupported-third-party-components" tabindex="-1"><a class="header-anchor" href="#unsupported-third-party-components" aria-hidden="true">#</a> Unsupported third-party components</h4><p>You may encounter the following error message when attempting to upgrade:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>One or more enabled YUM repo are currently unsupported.
You should disable these repositories and remove packages installed from them
before continuing the update.

Consider reporting this limitation to https://github.com/cpanel/elevate/issues
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>elevate-cpanel</code> checks for presence of unknown enabled repositories and blocks the migration process if one is found.</p><p>The packages from the listed repositories <strong>won&#39;t be properly upgraded</strong> if Leapp doesn&#39;t contain their data in its configuration files.</p><p>It&#39;s recommended to follow the provided suggestion and remove the repositories and packages before running the upgrade.</p><p>If you&#39;d like to add the configuration data for new repositories and packages to Leapp, please refer to the <a aria-current="page" href="/cloudlinuxos/elevate/#contribution" class="router-link-active router-link-exact-active">Contribution</a> section of the manual for information on the proper procedure for doing so.</p><h4 id="modified-or-custom-package-repositories" tabindex="-1"><a class="header-anchor" href="#modified-or-custom-package-repositories" aria-hidden="true">#</a> Modified or custom package repositories</h4><p>CloudLinux Elevate is intended for use with the default CloudLinux repositories. If you have custom/local repositories providing CloudLinux packages, or have disalbed CLN communication, you most likely won&#39;t be able to complete the upgrade process.</p><p>If you encounter problems in this scenario: _ Before restarting the upgrade, restore the stock configuration of repositories. _ Re-enable RHN plugins and ensure that the system is registered with CLN. _ Make sure there are no repositories that are hardcoded to use a specific major OS version (e.g. 7) instead of $releasever. _ Continue with the upgrade process.</p><h2 id="known-issues" tabindex="-1"><a class="header-anchor" href="#known-issues" aria-hidden="true">#</a> Known issues</h2><h3 id="web-servers" tabindex="-1"><a class="header-anchor" href="#web-servers" aria-hidden="true">#</a> Web servers</h3><p>The Litespeed web server installation scheme is currently incompatible with the no-panel Elevate configuration.</p><p>It can be updated <em>after</em> the upgrade is complete, but won&#39;t be automatically upgraded with the rest of the system during the ELevate process.</p><h2 id="contribution" tabindex="-1"><a class="header-anchor" href="#contribution" aria-hidden="true">#</a> Contribution</h2><p>ELevate is developed and built as a tool for RHEL-based distributives, not just CloudLinux specifically.</p><p>ELevate supports migrating to/from other distributions and is open for all to contribute to and enhance.</p><p>You can find more information and FAQ about the AlmaLinux ELevate this project is built upon at <a href="https://almalinux.org/elevate" target="_blank" rel="noopener noreferrer">almalinux.org/elevate</a> and <a href="https://wiki.almalinux.org/sigs/Migration" target="_blank" rel="noopener noreferrer">Migration SIG</a>, as well as contribute using the ELevate Contribution Guide.</p><p>CloudLinux does not provide support related to integrating third-party repositories or packages into the upgrade process. However, you can add the aforementioned components to the Leapp database yourself.</p><h3 id="extending-cloudlinux-elevate-to-support-new-components-system-types" tabindex="-1"><a class="header-anchor" href="#extending-cloudlinux-elevate-to-support-new-components-system-types" aria-hidden="true">#</a> Extending CloudLinux Elevate to support new components/system types</h3><p>Suppose you have a no-panel system with additional software or a system with a custom panel installed. The standard CloudLinux Elevate upgrade will not upgrade such a system fully - the components that aren’t known to Elevate (i.e. those that aren’t present in its configuration files) won’t be touched during the upgrade and will remain the same on the post-upgrade system.</p><p>Consider package repositories and the corresponding packages that are present on your system. The pre-upgrade/upgrade report will list the unrecognized or unsupported parts of these packages.</p><p>To get the report, <a aria-current="page" href="/cloudlinuxos/elevate/#pre-upgrade" class="router-link-active router-link-exact-active">run the pre-upgrade procedure</a> first. Check the Elevate pre-upgrade report (<code>/var/log/leapp/leapp-report.txt</code>).</p><p>Look for unknown/unsigned package reports in the list of the resulting messages.</p><p>If you want to upgrade these packages during the Elevate process, you need to integrate them into the Elevate configuration files.</p><p>Please check the <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#third-party-integration" target="_blank" rel="noopener noreferrer">Third-party integration</a> section in the linked README for instructions on integrating new repositories and packages into the process.</p><p>In the typical case, you’ll want to <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#repository-mapping-file" target="_blank" rel="noopener noreferrer">map</a> all of your old package repositories (those present in CL7/RHEL7) to the new package repositories that will be present in the new upgraded system (CL8/RHEL8).</p><p>When linked like this, the new repositories will be used by Leapp during the upgrade, and any present packages associated with these repositories will be upgraded.</p><p>The package signatures should be added to the corresponding file for them to be accepted into the upgrade process.</p><p>When there are discrepancies between the packages between the old and new OS versions (e.g. a single package was split into two, or two merged into one), they should be added into the <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#package-migration-event-list" target="_blank" rel="noopener noreferrer">package migration event list</a> in order for Elevate to correctly upgrade them during the process.</p><p>Note that Elevate only uses the provided information about new repositories during the upgrade. The state of yum/dnf configuration on the system after the upgrade depends on the repository configuration files brought by the updated packages. If your package repository configs aren’t connected to the packages being upgraded, you should consider adding a <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#adding-complex-changes-custom-actors-for-migration" target="_blank" rel="noopener noreferrer">custom script</a> to modify them for the new OS version.</p><p>If mapping package repositories from old to new (CL7 repositories -&gt; CL8 repositories), as well as mapping the package changes, is not sufficient for a successful upgrade of your system, consider adding <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#adding-complex-changes-custom-actors-for-migration" target="_blank" rel="noopener noreferrer">custom Python scripts</a> (called Leapp actors) that handle your upgrade scenario, e.g. configuration migrations, system modifications, etc.</p><p>To summarize:</p><ul><li><a aria-current="page" href="/cloudlinuxos/elevate/#elevate-scenario-cloudlinux-7-with-no-panel-or-a-custom-panel" class="router-link-active router-link-exact-active">Install CloudLinux Elevate</a> and run <code>leapp preupgrade</code>.</li><li>Check the pre-upgrade report (<code>/var/log/leapp/leapp-report.txt</code>) for packages that will not be upgraded.</li><li>For those packages that you want to see upgraded, <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#third-party-integration" target="_blank" rel="noopener noreferrer">extend the Elevate configuration files</a> with package repository mappings and package migration events.</li><li>If required, <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#adding-complex-changes-custom-actors-for-migration" target="_blank" rel="noopener noreferrer">add additional custom scripts</a> (Leapp actors) to handle any extra arbitrary actions during the upgrade.</li><li>Rerun the pre-upgrade procedure to ensure that your changes are integrated correctly, then test the upgrade process as desired.</li></ul><h2 id="elevate-scenario-cloudlinux-7-with-no-panel-or-a-custom-panel" tabindex="-1"><a class="header-anchor" href="#elevate-scenario-cloudlinux-7-with-no-panel-or-a-custom-panel" aria-hidden="true">#</a> ELevate Scenario - CloudLinux 7 with no panel or a custom panel</h2><p>This scenario contains steps on how to upgrade CloudLinux 7 to CloudLinux 8 on no-panel/custom panel systems.</p><ol><li><p>First of all, make sure that your CloudLinux 7 is fully upgraded and on the latest kernel version.</p></li><li><p>After that, download and install &quot;elevate-release&quot; package to configure necessary RPM repositories:</p></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo yum install https://repo.cloudlinux.com/elevate/elevate-release-latest-el7.noarch.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>Install leapp packages and migration data for the CloudLinux OS.</li></ol><div class="tip custom-block"><p class="custom-block-title">Note</p><p>In some cases, e.g. when directed by support, you may want to make use of the beta CloudLinux Leapp packages when running the upgrade.</p><p>To do so, enable the <code>cloudlinux-elevate-updates-testing</code> repository, brought by the <code>elevate-release</code> package, before installing the leapp packages.</p></div><div class="tip custom-block"><p class="custom-block-title"></p><p>Note that <a href="/cloudlinuxos/cloudlinux_installation/#license-activation" class="">a valid license</a> must be present for installation to work.</p></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo yum install -y leapp-upgrade leapp-data-cloudlinux
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="pre-upgrade" tabindex="-1"><a class="header-anchor" href="#pre-upgrade" aria-hidden="true">#</a> Pre-upgrade</h3><p>Start a preupgrade check. In the meanwhile, the Leapp utility creates a special <code>/var/log/leapp/leapp-report.txt</code> file that contains possible problems and recommended solutions. No rpm packages will be installed during this phase.</p><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>The preupgrade check will likely fail as the default CloudLinux 7 doesn&#39;t meet all requirements for migration. That is expected.</p></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo leapp preupgrade
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This summary report will help you get a picture of whether it is possible to continue the upgrade.</p><p>The preupgrade process may stall with the following message:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Inhibitor: Newest installed kernel not in use
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Make sure your system is running the latest kernel before proceeding with the upgrade. If you updated the system recently, a reboot may be sufficient to do so. Otherwise, edit your Grub configuration accordingly.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>In certain configurations, Leapp generates <code>/var/log/leapp/answerfile</code> with true/false questions. Leapp utility requires answers to all these questions in order to proceed with the upgrade.</p></div><p>Once the preupgrade process completes, the results will be contained in the file <code>/var/log/leapp/leapp-report.txt</code>.</p><p>It&#39;s advised to review the report and consider how the changes will affect your system.</p><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>In particular, pay attention to the packages that will not be upgraded during the transaction.</p><p>Should any packages or package repositories that are unknown to Leapp be detected, they will be listed in the report. Consider how leaving the listed items unupgraded will affect the stability of your system.</p><p>If the packages listed as unknown in the report are critical for your system, proceeding with the upgrade is <strong>extremely likely</strong> to damage its functionality, up to making the machine unaccessible.</p></div><p>If you&#39;d like to perform an upgrade on a system with unknown packages/repositories reported, and you&#39;re confident about all the potential risks, consider first adding the unknown repositories to Leapp&#39;s database, as described <a href="https://github.com/CloudLinux/leapp-repository/tree/cloudlinux#third-party-integration" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 id="transaction-configuration-files" tabindex="-1"><a class="header-anchor" href="#transaction-configuration-files" aria-hidden="true">#</a> Transaction Configuration Files</h3><p>If you want to manually override the framework&#39;s upgrade actions for specific packages, you may do so by editing the files contained in <code>/etc/leapp/transaction/</code>.</p><p>These configuration files have priority over automatic package upgrade resolutions and Package Elevation Service data.</p><p>The configuration files are as follows:</p><ul><li>to_install <ul><li>Install these packages. Don&#39;t remove them or preserve them as-is.</li></ul></li><li>to_remove <ul><li>Remove these packages. Do not attempt to keep them or upgrade them.</li></ul></li><li>to_keep <ul><li>Do not upgrade these packages. Keep them as they are on the system.</li></ul></li><li>to_reinstall <ul><li>Remove these packages during the update, then reinstall them. Mostly useful for packages that have the same version string between major versions, and thus won&#39;t be upgraded automatically.</li></ul></li></ul><h3 id="upgrade" tabindex="-1"><a class="header-anchor" href="#upgrade" aria-hidden="true">#</a> Upgrade</h3><p>Start an upgrade. You’ll be offered to reboot the system after this process is completed.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sudo leapp upgrade
sudo reboot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The upgrade process after the reboot may take a long time, up to 40-50 minutes, depending on the machine resources. If the machine remains unresponsive for more than 2 hours, assume that the upgrade process has failed during the post-reboot phase. If it&#39;s still possible to access the machine in some way, for example, through remote VNC access, the logs containing the information on what went wrong are located in this folder: <code>/var/log/leapp</code>.</p></div><p>A new entry in GRUB called ELevate-Upgrade-Initramfs will appear. The system will be automatically booted into it. Observe the update process in the console.</p><p>After the reboot, login into the system and check the migration report. Verify that the current OS is the one you need.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>cat /etc/redhat-release
cat /etc/os-release
rpm -qa | grep el7 # check if there are unupgraded packages present
cat /var/log/leapp/leapp-report.txt
cat /var/log/leapp/leapp-upgrade.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In addition, check the leapp logs for .rpmnew configuration files that may have been created during the upgrade process. In some cases os-release or yum package files may not be replaced automatically, requiring the user to rename the .rpmnew files manually.</p><h2 id="elevate-scenario-cloudlinux-7-with-cpanel" tabindex="-1"><a class="header-anchor" href="#elevate-scenario-cloudlinux-7-with-cpanel" aria-hidden="true">#</a> ELevate Scenario - CloudLinux 7 with cPanel</h2><p>This scenario contains steps on how to upgrade CloudLinux 7 to CloudLinux 8 on systems with cPanel present.</p><p>It uses an additional tool to assist with migration of cPanel-related features - the script provided by the cPanel team: <a href="https://github.com/cpanel/elevate" target="_blank" rel="noopener noreferrer">elevate-cpanel</a>.</p><p>See the <a href="https://cpanel.github.io/elevate/" target="_blank" rel="noopener noreferrer">official cPanel Elevate documentation here</a>.</p><h3 id="upgrade-process-overview" tabindex="-1"><a class="header-anchor" href="#upgrade-process-overview" aria-hidden="true">#</a> Upgrade process overview</h3><p>The cPanel upgrade process is divided into multiple stages. Each stage is responsible for one part of the upgrade. Between stages, a reboot is performed, with one last reboot at the end of the final stage.</p><h4 id="stage-1" tabindex="-1"><a class="header-anchor" href="#stage-1" aria-hidden="true">#</a> Stage 1</h4><p>The elevation process is initiated by installing the <code>elevate-cpanel</code> service responsible for controlling the upgrade process between multiple reboots.</p><h4 id="stage-2" tabindex="-1"><a class="header-anchor" href="#stage-2" aria-hidden="true">#</a> Stage 2</h4><p>The current distro packages are updated. cPanel services are disabled and the custom upgrade MOTD is set up.</p><h4 id="stage-3" tabindex="-1"><a class="header-anchor" href="#stage-3" aria-hidden="true">#</a> Stage 3</h4><p>The Leapp ELevate package repository is set up and Leapp packages are installed. The cPanel packages are prepared for the update.</p><p>Some known conflicting packages are removed and some existing configurations are backed up. These packages will be reinstalled later.</p><p>The main <code>leapp upgrade</code> process is executed.</p><h4 id="stage-4" tabindex="-1"><a class="header-anchor" href="#stage-4" aria-hidden="true">#</a> Stage 4</h4><p>At this stage the machine should be running CloudLinux 8.</p><p>cPanel products for the new distro are updated.</p><p>The packages that were removed during the previous stage are restored.</p><h4 id="stage-5" tabindex="-1"><a class="header-anchor" href="#stage-5" aria-hidden="true">#</a> Stage 5</h4><p>This is the final stage of the upgrade process. Some sanity checks and cleanup tasks are performed.</p><p>The <code>elevate-cpanel</code> service used during the upgrade process is removed.</p><p>A final reboot is performed at the end of this stage.</p><h3 id="preparing" tabindex="-1"><a class="header-anchor" href="#preparing" aria-hidden="true">#</a> Preparing</h3><p>Make sure your system is fully updated before starting the upgrade process.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sudo yum -y update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In addition, make sure your system is running the latest available version of cPanel.</p><p>Ensure that you have the package <code>ea-cpanel-tools &gt;= 1.0-67.el7.cloudlinux</code> installed. You may need to activate the <code>cloudlinux-ea4-testing</code> package repository for that version to become accessible. By default, it is located at <code>/etc/yum.repos.d/cloudlinux-ea4-testing.repo</code>.</p><p>Download the cPanel ELevate script.</p><p><code>wget -O /scripts/elevate-cpanel https://raw.githubusercontent.com/cpanel/elevate/release/elevate-cpanel</code></p><p><code>chmod 700 /scripts/elevate-cpanel</code></p><p>Run a preupgrade check. No rpm packages will be installed during this phase.</p><p><code>/scripts/elevate-cpanel --check</code></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>In addition to Leapp-created log files and reports, contained in <code>/var/log/leapp</code>, cPanel ELevate also creates an additional log file: <code>/var/log/elevate-cpanel.log</code></p><p>It&#39;s advised to check the aforementioned files for possible problems and recommended solutions.</p></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>In some cases, e.g. when directed by support, you may want to make use of the beta CloudLinux Leapp packages when running the upgrade.</p><p>To do so, use the --leappbeta flag when running the elevate-cpanel script.</p><p><code>/scripts/elevate-cpanel --start</code></p></div><p>Once the preupgrade process completes, the results will be contained in <code>/var/log/leapp/leapp-report.txt</code> file.</p><p>It&#39;s advised to review the report and consider how the changes will affect your system.</p><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>In particular, pay attention to the packages that will not be upgraded during the transaction.</p><p>Should any packages or package repositories that are unknown to Leapp be detected, they will be listed in the report. Consider how leaving the listed items unupgraded will affect the stability of your system.</p><p>If the packages listed as unknown in the report are critical for your system, proceeding with the upgrade is <strong>extremely likely</strong> to damage its functionality, up to making the machine unaccessible.</p></div><h3 id="running" tabindex="-1"><a class="header-anchor" href="#running" aria-hidden="true">#</a> Running</h3><div class="warning custom-block"><p class="custom-block-title"></p><p>The upgrade process requires a certain amount of system resources to complete.</p><p>Machines with RAM lower than 4 Gb can potentially face out-of-memory problems during the update. If such a problem occurs during the <em>initramfs stage</em> of the process, the machine can end up in an <strong>inaccessible state</strong>.</p><p>Please make sure you have enough resources to perform the upgrade safely, and make sure to have a backup of the system prepared before doing so.</p></div><p>Start the upgrade by running the following command:</p><p><code>/scripts/elevate-cpanel --start</code></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>By default, the system will be automatically restarted during the upgrade process when nessesary. You can make the process require manual reboots by adding the switch <code>--manual-reboots</code>.</p><p>Make sure you know what you&#39;re doing when using this switch, as you <em>must</em> manually reboot the server between the upgrade phases when using it - otherwise the process will remain incomplete and your system in a half-functional state.</p><p><code>/scripts/elevate-cpanel --start --manual-reboots</code></p></div><p>The system will reboot several times during the process. While the upgrade is in progress, the system&#39;s MOTD will change.</p><p>Check the current status of the upgrade process with: <code>/scripts/elevate-cpanel --status</code></p><p>Monitor the elevation log for issues: <code>/scripts/elevate-cpanel --log</code></p><p>In case of errors, once they are resolved, you can continue the migration process with: <code>/scripts/elevate-cpanel --continue</code></p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>During one of the later upgrade phases, the system will reboot into a custom initramfs, in which the main package upgrade transaction will take place. During this time, the system will be inaccessible through SSH.</p><p>The upgrade process after the reboot may take a long time, up to 40-50 minutes, depending on the machine resources. If the machine remains unresponsive for more than 2 hours, assume the upgrade process failed during the post-reboot phase. If it&#39;s still possible to access the machine in some way, for example, through remote VNC access, the logs containing the information on what went wrong are located in this folder: <code>/var/log/leapp</code>, as well as here: <code>/var/log/elevate-cpanel.log</code></p></div><h3 id="post-upgrade" tabindex="-1"><a class="header-anchor" href="#post-upgrade" aria-hidden="true">#</a> Post-upgrade</h3><p>After the reboot, login into the system and check:</p><ul><li>the status: <code>/scripts/elevate-cpanel --status</code></li><li>the log: <code>/var/log/elevate-cpanel.log</code></li><li>the Leapp report: <code>/var/log/leapp/leapp-report.txt</code></li></ul><p>Verify that the current OS successfully upgraded to the new version.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>cat /etc/redhat-release
cat /etc/os-release
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Check the leapp logs for <code>.rpmnew</code> configuration files that may have been created during the upgrade process. In some cases files like <code>/etc/os-release</code> or yum package files may not be replaced automatically - in particular, when said files were modified - requiring the user to rename the <code>.rpmnew</code> files manually.</p><h2 id="elevate-scenario-cloudlinux-7-with-plesk" tabindex="-1"><a class="header-anchor" href="#elevate-scenario-cloudlinux-7-with-plesk" aria-hidden="true">#</a> ELevate Scenario - CloudLinux 7 with Plesk</h2><p>This scenario contains steps on how to upgrade CloudLinux 7 to CloudLinux 8 on systems with Plesk present.</p><p>The process is performed through a tool provifed and maintained by the Plesk team, <a href="https://github.com/plesk/cloudlinux7to8" target="_blank" rel="noopener noreferrer">cloudlinux7to8</a>, with CL Leapp as a component of the process.</p><p>See the official Plesk cloudlinux7to8 documentation with additional details at <a href="https://github.com/plesk/cloudlinux7to8?tab=readme-ov-file#" target="_blank" rel="noopener noreferrer">the project page for cloudlinux7to8</a></p><h3 id="preparation" tabindex="-1"><a class="header-anchor" href="#preparation" aria-hidden="true">#</a> Preparation</h3><p>As always, make sure to have a backup of your system prepared before starting the upgrade process.</p><p>Ensure that your system is fully updated before starting the upgrade process.</p><p>To prepare for the upgrade, download the latest version of the cloudlinux7to8 tool from the <a href="https://github.com/plesk/cloudlinux7to8/releases/latest" target="_blank" rel="noopener noreferrer">releases page</a>:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
&gt; wget https://github.com/plesk/cloudlinux7to8/releases/download/latest/cloudlinux7to8-1.0.0.zip
&gt; unzip cloudlinux7to8-1.0.0.zip
&gt; chmod 755 cloudlinux7to8

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="running-1" tabindex="-1"><a class="header-anchor" href="#running-1" aria-hidden="true">#</a> Running</h3><p>To monitor the conversion process, it is recommended to use the <code>screen</code> utility to run the conversion process in a separate session.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>&gt; screen -S cloudlinux7to8
&gt; ./cloudlinux7to8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>If the connection is lost, you can reattach to the session with the following command:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>&gt; screen -r cloudlinux7to8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The process can also be run in the background:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>&gt; nohup ./cloudlinux7to8 &amp;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This will start the conversion process.</p><p>During the process, Plesk services will stop, and hosted websites will not be accessible.</p><p>During the upgrade process, the system will reboot several times. The primary upgrade transaction, where the Leapp component updates the system to CL8, will be performed in a custom OS environment. The system will be inaccessible via SSH during this time.</p><h3 id="monitoring-and-troubleshooting" tabindex="-1"><a class="header-anchor" href="#monitoring-and-troubleshooting" aria-hidden="true">#</a> Monitoring and troubleshooting</h3><p>The conversion process will take some time to complete.</p><p>To check the status of the conversion process, use the <code>--status</code> flag.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>&gt; ./cloudlinux7to8 --status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>To monitor the progress of the conversion process in real time, use the <code>--monitor</code> flag.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>&gt; ./cloudlinux7to8 --monitor
( stage 3 / action re-installing plesk components  ) 02:26 / 06:18
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Aside from the main Leapp logs contained in <code>/var/log/leapp</code>, the cloudlinux7to8 tool will create a log file in <code>/var/log/plesk/cloudlinux7to8.log</code> that contains additional information about the conversion process.</p><h3 id="reverting" tabindex="-1"><a class="header-anchor" href="#reverting" aria-hidden="true">#</a> Reverting</h3><p>If the process fails during the initial stages, you can attempt to revert the system to its original state by running the cloudlinux7to8 tool with the <code>--revert</code> flag.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>&gt; ./cloudlinux7to8 --revert
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The cloudlinux7to8 will undo some of the changes it made and restart Plesk services.</p><p>Note that the revert process may not be able to fully restore the system to its original state, and you may need to restore from a backup if the system is left in an unusable state.</p><p>You cannot use revert to undo the changes after the first reboot triggered by cloudlinux7to8.</p><p>Also, the revert does not remove Leapp or packages installed by Leapp. Neither does it free persistent storage disk space reserved by Leapp.</p></div><div class="page-edit"><div class="edit-link"><img src="/global/pen.svg" alt="icon pen"><a href="https://github.com/cloudlinux/cloudlinux-documentation/tree/master/docs/cloudlinuxos/elevate/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div></div><div class="back-to-top" data-v-1eb13e00><a class="nav-arrow top back-to-top__link" data-v-1eb13e00><span class="back-to-top__link-span" data-v-1eb13e00>Scroll up</span></a></div><!--[--><!--]--></div><!----><div class="footer footer-default-layout" data-v-f2902e71><div class="footer__img" data-v-f2902e71><a href="https://cloudlinux.com" data-v-f2902e71><img src="/global/we-are-cloudlinux.svg" data-v-f2902e71></a></div><div class="footer-company-title" data-v-f2902e71>2025. CloudLinux Inc </div><div class="social" data-v-f2902e71><div class="social_links" data-v-f2902e71><!--[--><a href="https://cloudlinux.zendesk.com/hc/en-us/categories/360002375940" target="_blank" data-v-f2902e71>Knowledge base</a><a href="https://forum.cloudlinux.com/" target="_blank" data-v-f2902e71>Forum</a><a href="https://blog.cloudlinux.com/" target="_blank" data-v-f2902e71>Blog</a><a href="https://www.cloudlinux.com/privacy-policy/" target="_blank" data-v-f2902e71>Privacy Policy</a><!--]--></div><span class="footer-social-text" data-v-f2902e71>Stay in touch</span><div class="social-icons-wrapper" data-v-f2902e71><!--[--><a class="social-icons-link" href="https://www.facebook.com/cloudlinux/" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/fb.png" alt="footer logo" data-v-f2902e71></a><a class="social-icons-link" href="https://twitter.com/cloudlinuxos/" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/tw.png" alt="footer logo" data-v-f2902e71></a><a class="social-icons-link" href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/in.png" alt="footer logo" data-v-f2902e71></a><a class="social-icons-link" href="https://www.youtube.com/channel/UCZ3YMHWnMP7TaxlXVay5-aw" target="_blank" data-v-f2902e71><img class="social-icons-link-img" src="/footer-social/ytube.png" alt="footer logo" data-v-f2902e71></a><!--]--></div></div></div></div><!----><!--]--></div>
    <script type="module" src="/assets/app-592dd57e.js" defer></script>
  </body>
</html>
